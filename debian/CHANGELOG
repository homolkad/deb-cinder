commit 63f5798e8795f80f3612fb0699eb668e20ae321c
Merge: 4691382 f96e991
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 2 22:19:48 2014 +0000

    Merge "Storwize/SVC driver detach volume failed" into stable/icehouse

commit 4691382ff8c811ddf726a10c96c436f9959bc439
Merge: a1135b7 cab4ef6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 2 22:05:54 2014 +0000

    Merge "Specify lld in tgt config backends" into stable/icehouse

commit a1135b707d19abfd4acdfcf00ae0b28ec727b2c0
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Sat Aug 2 01:50:47 2014 +0800

    Fix solidfire accept_transfer
    
    Previous fix has a mistake which makes the situation worse.  This change
    fix volume['project_id'] and volume['user_id'] and adds unit test for
    accept_transfer.
    
    Closes-bug: # 1349475
    
    Change-Id: I7b2bcefa4c8d173689cc63ee5aa9e00397c7f8ca
    (cherry picked from commit 5dbdb11e8d8659a6b823c9552052b443050886ca)

commit befb391fee1dd31b5334189962fa3e666a8d1f20
Merge: 00b7574 c4d3c1c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 1 16:44:22 2014 +0000

    Merge "Fix handling multiple WWPNs on preferred FC node" into stable/icehouse

commit 00b7574d9a6e3818b3d032a8de05a03ddd94c2d6
Author: Jim Branen <james.branen@hp.com>
Date:   Fri Apr 4 13:36:42 2014 -0700

    Fixes HP LeftHand driver with Paramiko 1.13.0
    
    With Paramiko 1.13.0, the method exec_command now returns Unicode.
    This causes a problem when the driver tries to build the XML returned
    from the LeftHand array. The XML header returned from the array defines
    the encoding as encoding=UTF-8. Therefore, we must now ensure the
    encoding passed to the parser is utf-8.
    
    Change-Id: I7b504626e2d9a0ee2b62820b11f56eb136e31987
    closes-bug: #1298608
    (cherry picked from commit 57e8cdb9dd8e24919bc2243438a6bded53491b3e)

commit abc4461a5a95945efe8c84547fc3981180e886be
Merge: 9093f7d 3877a73
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 30 21:31:47 2014 +0000

    Merge "vmware: Fix problems with VIM API retry logic" into stable/icehouse

commit 9093f7d307a9ffa423b531afb5ea542479181253
Merge: ffb4ffa f6df82c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 30 09:04:09 2014 +0000

    Merge "Ensure flushing of IO prior to removing FC device" into stable/icehouse

commit ffb4ffaaa4419279210297024b4851bc7b8aa810
Merge: 95e3f7c 00d456b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 30 08:59:35 2014 +0000

    Merge "GET details REST API next link missing 'details'" into stable/icehouse

commit 95e3f7cb179dbaf7ad4cfb8ebf057d25040af0d3
Merge: 10b294a c74efd7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 29 22:59:51 2014 +0000

    Merge "Retry lvremove with ignore_suspended_devices" into stable/icehouse

commit 10b294a05f91f5f6809316701a2ee5c97b70437c
Merge: cd7dd94 22e451b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 29 20:48:51 2014 +0000

    Merge "Set python hash seed to 0 in tox.ini" into stable/icehouse

commit 22e451bd4cfe0aee3cf2f7536538f421021696bd
Author: Clark Boylan <clark.boylan@gmail.com>
Date:   Fri Jul 25 14:33:10 2014 -0700

    Set python hash seed to 0 in tox.ini
    
    New tox (>=1.7.0) sets a random python hash seed by default. This is
    generally good for testing because it will help keep projects working
    regardless of the hash seed, but cinder unittests don't currently pass
    with a random hash seed so set it to the python default seed.
    
    This change will allow us to use new tox again and remove the
    restriction on tox<=1.6.1 to run unittests.
    
    Redundant setenvs for specific test envs are removed to prevent them
    from overriding the PYTHONHASHSEED value.
    
    Note this change will need to be backported to the stable branches to
    keep unittests there working with new tox as well.
    
    Change-Id: Ia55031528d082a1b11da6890447c5584e9e27551
    (cherry picked from commit 03293715b1e950cf406018058e4c8a514c0f977f)

commit cd7dd94bb9c97ab19b7d2636958214911f223d05
Author: John Griffith <john.griffith8@gmail.com>
Date:   Mon Jul 28 11:35:54 2014 -0600

    Get updated model info on volume transfer
    
    On some drivers CHAP credentials are tied to accounts
    which may be unique for each OS and/or backend Tenant.
    
    For example:
      Volume is created with project_id xyz
      Backend creates an account for xyz with specific CHAP
    
      Volume is transferred to project_id abc
    
    Currently we don't update the model_info, so even though
    on the backend we updated the owner and CHAP settings we
    never propogated that back up to the DB object so the volume
    can't be used by the new owner.
    
    This patch just adds an option to return model_update
    on the accept_transfer call to the driver and updates
    the db accordingly.
    
    Also adds a call in the SF driver to actually get the
    new model info to be fed back to the manager.
    
    Closes-Bug: #1349475
    
    Conflicts:
    	cinder/volume/drivers/solidfire.py
    
    Change-Id: Ie0447cdad69c4fbee99b4b6b1d3cacdfdd14137d

commit dfc0505ca313533cdcfa4a7f29978b8cba2843db
Merge: 71a2b19 63ba651
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jul 26 21:56:28 2014 +0000

    Merge "Don't leave snapshots on the floor" into stable/icehouse

commit 71a2b195e56a4ca42166d097dc6f74d69dd9252f
Author: OpenStack Proposal Bot <openstack-infra@lists.openstack.org>
Date:   Thu Jul 24 16:46:29 2014 +0000

    Updated from global requirements
    
    Change-Id: I5c10231456066d6eddafb2c6ca3a4ede0d2d7d66

commit f6df82c6661ba56807839fe72601de1333a8b973
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Jun 4 15:22:08 2014 -0700

    Ensure flushing of IO prior to removing FC device
    
    This patch flushes IO for each SCSI device that
    brick removes from the system.  The patch also
    flushes a multipath device prior to removing
    each underlying LUN associated with the
    multipath device.   We were seeing kernel
    IO errors in the syslog without calling flush
    on the block device, during a detach for a
    multipath FibreChannel copy image to volume
    action.
    
    Change-Id: I2fae3dccd4fcab22c8f59dcd297581ee9577b779
    Closes-Bug: 1318950
    (cherry picked from commit 383f460d6d0431d3dbaf32edb7fcb68c25ff1929)

commit 63ba651c128907fc9c95a8d3b8c2a599657e4c41
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jul 16 08:49:37 2014 -0600

    Don't leave snapshots on the floor
    
    The current cloning process in the LVM
    driver uses a snapshot to do the data
    copy in the background.  Trouble here
    is that if the creation or activation
    of the new volume fails, we don't
    cleanup the snapshot we created.
    
    Just move the create_volume and activate
    calls down into the try block so the finally
    clause can do the cleanup for us.
    
    Change-Id: If0fbab9d9f39102cdc7d287527be22c4a2b35934
    Closes-Bug: #1312718
    (cherry picked from commit 38ed0523125efeaf8383b36d1db169b42e2f5eb6)

commit 2e628c1598dea8f62a3fef89bc9af1a9203ec96e
Merge: ac9b6a9 1d80539
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 16 16:53:38 2014 +0000

    Merge "Add cinder-manage cmd to update host column" into stable/icehouse

commit c74efd7765e33379c50056359123eb6f00fedb07
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Fri Jun 13 00:24:23 2014 +0200

    Retry lvremove with ignore_suspended_devices
    
    A lvremove -f might leave behind suspended devices
    when it is racing with udev or other processes
    still accessing any of the device files. The previous
    solution of using lvchange -an on the LV had the
    side-effect of deactivating origin LVs alongway in
    the thick volume case, which was undesired.
    
    It turns out retrying the deactivation twice and
    ignoring the suspended devices on the second iteration
    avoids the hang of all LVM operations after an initial
    failure.
    
    Change-Id: I0d6fb74084d049ea184e68f2dcc4e74f400b7dbd
    Closes-Bug: #1317075
    Related-Bug: #1270192
    (cherry picked from commit da9597aed0186e68dbf1c7304b30e49f8e6a54ff)

commit ac9b6a9094785d54ae396e8f1f72d01469ee8564
Merge: c304e1c 570c90f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 10 22:37:59 2014 +0000

    Merge "Add the -f option back to lvremove" into stable/icehouse

commit c304e1cda9e3351fcdfafd33a098aa254b0cab0a
Merge: 8616f4c d6829c1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 10 22:27:59 2014 +0000

    Merge "Ensure that lun_id is an int" into stable/icehouse

commit 8616f4c5b2963fbd65cad6ec1e02ebc8e55a2759
Merge: 1cc54ae 04c7431
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 10 22:26:58 2014 +0000

    Merge "Allow host config to be overriden in backend" into stable/icehouse

commit 1cc54ae12847959a039880999237f755c8d85670
Merge: fe37a6e d12c513
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 10 22:25:53 2014 +0000

    Merge "Fix host option isn't set when using multiple backend" into stable/icehouse

commit fe37a6ee1d85ce07e672f94e395edee81fac80db
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu May 29 18:18:12 2014 +0000

    Remove second get call to list/show volumes
    
    Recently it was observed that with large numbers of volumes
    that things like "cinder list" could take extremely long to
    return.
    
    For example, running cinder list on a system with 1000 volumes took
    greater than 30 seconds to return.  It turns out that the cause of
    this is the addition of visible admin_metadata.
    
    There's two problems with this:
    1. The original patch probably shouldn't have gone in
       data is either admin data or it's not, selectively picking
       pieces of admin data out to provide to the user just creates
       complications and introduces confusion.
    2. The REAL issue here is that since the standar gets are made
       with the standard user context, the add_visible_admin_metadata
       would go through and do an elevated context get on every single
       volume individually.  This is what caused the horrible performance
       issue on cinder list with large numbers of volumes.
    
    Running as admin, or removing the second call drops this down to about 3
    seconds for the same 1000 volume list.
    
    This patch removes the secondary admin context get_call.  Instead where
    we expect to do display the visible admin_meta, we pass in a flag
    requesting that the volume object we're getting has the appropriate
    metadata.  This way we can elevate the context if needed and avoid
    iterating through the gets again.
    
    This patch also cleans up the get_visible_admin_meta methods, and
    consolidates both V1 and V2 to use the utils method.
    
    Change-Id: I3fb7aefb7d8a5664b0a3fb3958f509b5cd621320
    Closes-Bug: 1317606
    (cherry picked from commit 0505bb268942534ad5d6ecd5e34a4d9b0e7f5c04)

commit 1d80539f99be8e8eccb5fd2b172406cbd4da30cb
Author: John Griffith <john.griffith8@gmail.com>
Date:   Sun Jun 29 09:06:31 2014 -0600

    Add cinder-manage cmd to update host column
    
    If you deploy Cinder as per the default using the docs,
    you can't later decide to add backends using the
    multi-backend functionality. The reason is that multi-backend
    is implemented by appending a backend-name to the host entry.
    
    So if you convert the config to multi-backend the hostname
    for any volumes that you have created are no longer
    associated with a valid volume-driver (ie you can no
    longer perform operations including delete on these
    volumes).
    
    In addition, in the case of using a SAN attached backend if
    one redeploys their cinder-volume service to another node
    they'll have the same issue.
    
    This patch adds a cinder-manage command that will go through
    volumes that are located on a specified host and update
    the host column on each of them.
    
    Change-Id: I8758fb8ef3fccbba2a598240c42d625b997e2db6
    Closes-Bug: 1320688
    (cherry picked from commit 2068164d0f155578d2f7a106afe464ef578032cb)

commit 1c494a15acf715babcf9632b163bcc24d0e89569
Merge: fa02696 d4392f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 4 23:09:19 2014 +0000

    Merge "Fix retyping volume that has volume type None" into stable/icehouse

commit d12c513af2da07c47ffda8b4c0415cae3808f791
Author: Yaguang Tang <yaguang.tang@canonical.com>
Date:   Mon Jun 23 11:59:44 2014 +0800

    Fix host option isn't set when using multiple backend
    
    When using multiple volume backend, and volume driver is
    cinder.volume.drivers.block_device.BlockDeviceDriver, host
    option isn't set so a call to get volumes of a host returns none,
    This patch changes to use self.host instead of self.configuration.host
    
    Change-Id: Ide34ed29adad14b778b1a7388e9dc313241fa243
    Closes-Bug: 1332909
    (cherry picked from commit 7e43a8891018d52bd69298f11b684841b00e2523)

commit 570c90f8fbfb632187c5b95ef19b9ebbfe7d3053
Author: John Griffith <john.griffith8@gmail.com>
Date:   Wed Jul 2 09:49:46 2014 -0600

    Add the -f option back to lvremove
    
    Part of commit I4703133180567090878ea5047dd29d9f97ad85ab
    add some logic to only use the -f flag on lvremove incase
    of a failure condition during the retry.
    
    The problem is that the initial call results in a prompt
    pretty much every single time you call lvremove.  As such
    that call fails every time and we go in to the retry with
    force which succeeds.
    
    This seems pretty wasteful, and there's no value that I can
    see in continuing to run a cmd every time that we know is
    going to fail.
    
    This patch adds a -f back on to the first lvremove to eliminate
    this problem.
    
    Change-Id: I49a4882382f026cd286d0eda605a91cc7a574745
    Closes-Bug: 1336811

commit fa026960dc0aafac7fc2ff28020ed66a57daf854
Merge: 170632f e557402
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 1 21:22:32 2014 +0000

    Merge "Updated from global requirements" into stable/icehouse

commit e55740231ee14a446badf545efc5e358ca53a845
Author: OpenStack Proposal Bot <openstack-infra@lists.openstack.org>
Date:   Tue Jul 1 18:46:54 2014 +0000

    Updated from global requirements
    
    Change-Id: Ida72e649523f0c5f6559a7ba8e3dcb22dbfba852

commit 170632feea74a3434c92d106cd72479eebf7cd2a
Author: John Griffith <john.griffith8@gmail.com>
Date:   Tue Jul 1 09:32:16 2014 -0600

    Update requirements.txt to disallow alpha libs
    
    This is an update that has been submitted to the
    main openstack-requirements file.
    
    The stable/icehouse branch specified an alpha build,
    this patch removes that.
    
    Requirement patch can be found here:
    https://review.openstack.org/#/c/103674/
    
    Further background can be found here:
    http://lists.openstack.org/pipermail/openstack-dev/2014-June/thread.html#39001
    
    Change-Id: I3471ff0fc5f82476ae712e29733c7ae2e3701904

commit 04c7431858157e19e42cad88e6197747063e7b86
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Thu May 22 14:49:20 2014 -0700

    Allow host config to be overriden in backend
    
    This allows you to specify host=XXX in your backend configuration
    to override the host value that is specified in the DEFAULT section,
    allowing for some backends to share a hostname while others can
    have unique names.
    
    Closes-bug: #1322366
    DocImpact: When using multi-backend, each driver can  now specify
               'host' parameter.
    (cherry picked from commit c0630419f45f0b34bae5702ccecedf0b398f91b0)
    Change-Id: Ie8894a7cebf350dc2d50567058a765482b9d97d7

commit f96e991895b1720bd2e47884cf5e9b92dc1e755f
Author: Li Min Liu <liminliu@cn.ibm.com>
Date:   Tue Apr 22 10:56:54 2014 +0800

    Storwize/SVC driver detach volume failed
    
    If config two backends on the same storage, but the protocol is
    different, one is FC and the other is iSCSI,  that will create two
    hosts on the storage.
    
    When detaching the volume which is attached to the iSCSI host, the
    driver will get FC host by default, that causes volume status keeps
    'detaching'.
    
    Change-Id: Idbdb3861574197549625b4a6b6141197e42857ff
    (cherry picked from commit a221a30b32aa94077f352719b2637b51c1809069)
    Closes-Bug: #1310559

commit 8cc6ad0f55de3d387c8ebea4c14d11ee1ad664f6
Author: Alan Pevec <alan.pevec@redhat.com>
Date:   Tue Jun 24 01:10:22 2014 +0200

    Bump stable/icehouse next version to 2014.1.2
    
    Change-Id: Id7181755d3609c0ae91c2402b34f2de02c06a1f0

commit c4d3c1c2b044f1e0dfe970c26bcaf744a49eb5da
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Fri Apr 18 17:07:15 2014 -0500

    Fix handling multiple WWPNs on preferred FC node
    
    There was a bug in the code that checked to see if the
    appropriate WWPN for a preferred node was available on the storage
    host in intialize_connection.  It was assumed that there would only
    ever be one preferred WWPN.  The code just checked to see if the list of
    preferred WWPNs was in the list of available WWPNs.  This would only work
    if all of the WWPNs were available on the storage host.  This resulted in
    volumes not being able to be mounted when they should have been
    available.
    
    This fix changes the check of the preferred WWPNs to check each
    item in the list until one is found.  The first one found is used
    as the target WWPN.  If no match is found, the old default behavior
    of selecting the first available WWPN is used.  I have added a
    warning message for this case as it is quite possible that this
    won't work in the user's environment as was the case that uncovered
    this bug.
    
    Note that this change is only relevant for systems that are not using
    multipath as systems that use multipath don't choose one WWPN, they
    just send the whole available list back.
    
    Change-Id: I8d3239da24a8f9fbd8309ba5c90b05b29a068754
    (cherry picked from commit 9bfc5b0bf58ecb7de5904cbd41db6de7330187e3)
    Close-bug: 1308298

commit f8f612332a6966036170ed38a2892b055115dd22
Merge: bdf7fc3 41127fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 3 03:51:24 2014 +0000

    Merge "Properly initialize rpc in cinder-volume-usage-audit" into stable/icehouse

commit bdf7fc34beeebbc623010ae1fecdcd60fe55a474
Merge: 4ed925e 75fa69d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 3 03:48:37 2014 +0000

    Merge "Storwize/SVC driver crashes when check volume copy status" into stable/icehouse

commit 4ed925e869be852da7b0aeaeb27caa624f7f04ab
Merge: 6375808 d0602f6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 3 03:16:01 2014 +0000

    Merge "Fixes cinder error state volume delete on Windows" into stable/icehouse

commit 63758088215b0a6c79d85d1c7999dadd0ea647d5
Merge: a0eac12 1815c72
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 3 02:47:53 2014 +0000

    Merge "Re-raise exceptions in upload-to-image" into stable/icehouse

commit a0eac12845466fdef791cb7ed3fc7405da7f4919
Merge: 7a35c81 bc585a0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 2 22:51:57 2014 +0000

    Merge "Fix solaris_execute in SolarisISCSIDriver." into stable/icehouse

commit 7a35c81e7f58308a1311c04d3de74624b6ea4ca2
Merge: 764b966 5330d3b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 1 23:34:00 2014 +0000

    Merge "Updated from global requirements" into stable/icehouse

commit 764b966d4b512e0182e49678fe5f3bf211a04d98
Merge: 528b04f 1e48833
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 1 20:16:36 2014 +0000

    Merge "Fallback to None on missing Glance image attrs" into stable/icehouse

commit 528b04f78550dc8ccfc556cebf4984786a3607ac
Merge: d58abc1 560740f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 1 19:09:30 2014 +0000

    Merge "GlusterFS: Delete active snapshot file on volume delete." into stable/icehouse

commit d58abc13a041a9475a43c48b6610a7a195a474c8
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri May 30 15:59:52 2014 +0000

    Update cinder.conf
    
    This is mostly just a sanity check, we're revmoving
    this whole check from the gate, but we've had
    conflicting versions of the truth here and I'm trying
    to figure out why.
    
    This patch is a fresh run of generate_sample, which differs
    from https://review.openstack.org/#/c/96784/
    
    Change-Id: Ia2d6ca01beb1d2c42084100990129dadbb32b22c
    (cherry picked from commit 8965f168f4d26999538cf4694691916c285d5689)

commit 3877a730c6631f311baa3992be6f37a986aa54f8
Author: Vipin Balachandran <vbala@vmware.com>
Date:   Wed Apr 16 14:06:31 2014 +0530

    vmware: Fix problems with VIM API retry logic
    
    Currently the VIM APIs including session creation API are retried for
    cases which are unrelated to connection or session overload problems.
    This change fix the retry logic as follows:
    * Add an exception to indicate connection problem and raise it
      appropriately from the VIM API client
    * Modify the expected exceptions in the retry decorator to include
      only connection and session overload related exceptions
    
    This change also fixes the base class of VimFaultException
    (VolumeBackendAPIException -> VimException). This change is required
    so that we can handle the exceptions thrown by the VIM API client in
    a consistent manner. Currently if we need to handle VIM API related
    exceptions, we have to catch both VimException and VimFaultException.
    For example, the API for checking active session raises
    VimFaultException in some cases and we are handling only VimException.
    Due to this, when session expires, the session re-establishment and API
    retry fails (intermittently) since the check for active session throws
    VimFaultException in some cases which is not handled.
    
    Change-Id: I72cfc7777c3ce693b8598633f822c12c2cee2235
    Closes-Bug: #1294598
    Closes-Bug: #1302514
    (cherry picked from commit bc115eaa477d30826ac17986a6e45844b456e206)

commit 5330d3bb3797fce8a14f16f2ef20dd790f8a7f6a
Author: OpenStack Proposal Bot <openstack-infra@lists.openstack.org>
Date:   Thu May 22 18:06:03 2014 +0000

    Updated from global requirements
    
    Change-Id: I9b071e0c3e630d81963197961820e3a8aac38df6

commit cab4ef6635cf6cd5c28c02db6099555d22d1bc22
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Apr 17 13:49:05 2014 +0200

    Specify lld in tgt config backends
    
    Otherwise when running tgt-admin --delete, it might forget
    to invoke tgtadmn with "--lld iscsi" in order to delete the low-level
    iscsi exports, which can cause crashes or hangs later on.
    
    Closes-Bug: #1311640
    Change-Id: I436c67c30565089236e987d84ac2609eedd2d2c7
    (cherry picked from commit 872b7ca0fc5ce4911fdaadee464d46be5a38058d)

commit 41127fbb9b9c09369b72fecc7e8b439590f676a9
Author: Koert van der Veer <koert@cloudvps.com>
Date:   Tue May 6 11:04:00 2014 +0200

    Properly initialize rpc in cinder-volume-usage-audit
    
    When RPC isn't initialized, any RPC based notifiers will fail, which
    renders cinder-volume-usage-audit mostly useless.
    
    Closes-Bug: #1316483
    (cherry picked from commit e52445681400ff1f8a78a39dca07d4d9711dfe52)
    
    Change-Id: Ib6b9b1fdc76f289e9a44de520eeccbf99e28f40b

commit d4392f3d1a5ef4f4d7ad1ab67ed9bf42fd9eaaa5
Author: git-harry <git-harry@live.co.uk>
Date:   Thu May 8 12:38:41 2014 +0100

    Fix retyping volume that has volume type None
    
    Modified volume_types_diff to work when one volume type is None.
    
    Fixed _fix_encryption_specs so that the new dictionary is returned.
    
    Change-Id: Iaba3032317f4d0649c917fb92403c4e9146fe3e9
    Closes-Bug: #1311058
    (cherry picked from commit 8ce85e4fd40e9def337daadfdc92aca7b064efff)

commit 75fa69df1dd9334d70dda623789b2734ccb8da9d
Author: Li Min Liu <liminliu@cn.ibm.com>
Date:   Tue Apr 8 10:18:56 2014 +0800

    Storwize/SVC driver crashes when check volume copy status
    
    Storwize/SVC driver does not clear up property of _vdiskcopyops
    when deleting a volume. So if a volume which under async copy is
    deleted before sync completed, the driver will crash.
    
    When delete a volume, add a check for _vdiskcopyops, if volume
    is in the dict, remove it.
    
    Change-Id: I4905404b72a7ac8f90bd92fa4345ba771a78418b
    Closes-Bug: #1304115
    (cherry picked from commit 0c4a94eac94399a524ff758fa7046e98b07951ae)

commit bc585a00c6f96e7a4a9b2f50b7577192de41eb48
Author: Scott Devoid <devoid@anl.gov>
Date:   Mon May 5 16:44:44 2014 -0500

    Fix solaris_execute in SolarisISCSIDriver.
    
    A previous refactor [1] of SolarisISCSIDriver and SanDriver renamed
    the `_execute` function to `san_execute`. However, SolarisISCSIDriver
    still called the _execute function, which no longer exists in it's
    parent classes.
    
    This change calls san_execute instead of _execute in
    super(SolarisISCSIDriver, san).
    
    [1] https://review.openstack.org/#/c/38194/
    
    Closes-Bug: #1318108
    Change-Id: I4cafefdb3eef8f3c2c345907d7eabd4e8f88ef65
    (cherry picked from commit a7f24f0a2395594ead7eb8a5cef894b257cd7e4f)

commit bc0442a8edf4fd059f0a94dd27c20597138fc3c2
Author: Sergey Gotliv <sgotliv@redhat.com>
Date:   Wed May 7 00:27:46 2014 +0300

    Fix wrong exception reference
    
    iscsi.py should catch cinder.exception.NotFound instead of
    cinder.brick.exception.NotFound.
    
    Change-Id: I77134683712e9706619a7f7fe82caed42ede5887
    Closes-Bug: #1300136
    (cherry picked from commit 115b8447618073d3383bbd612ebd2fc68c8c5d28)

commit 707a80ac7a6c94d1020e06a691a7f8d7734fc0ee
Merge: 635f54e d17277d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 5 02:44:16 2014 +0000

    Merge "Add exception catch if Storwize/SVC driver failed when retyping" into stable/icehouse

commit 635f54ececf9e374dd7546fa4caf8bf2be168d26
Merge: 70f0084 59fe59e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat May 3 03:54:32 2014 +0000

    Merge "Correct metadata ordering issue in tests" into stable/icehouse

commit 70f00843fcb3dcb8676fc70c90d858094664df11
Merge: 767c2a6 49446bc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat May 3 03:24:40 2014 +0000

    Merge "Disable oslo.messaging debug logs" into stable/icehouse

commit d6829c180ea0056a166a3132832701f6b50f5679
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Thu May 1 17:13:25 2014 -0500

    Ensure that lun_id is an int
    
    The map_vol_to_host function was treating the lun number
    as a string rather than an int.  This was causing attempts
    to mount storwize_svc volumes to Hyper-V nodes to fail as they
    were checking an integer type against a unicode type which
    would fail.
    
    This change casts result_lun to an integer after the value has
    gone through the ssh injection attack check.  This way Hyper-V
    is able to verify if the found LUN is the target LUN, enabling
    mount of storwize_svc volumes to Hyper-V.
    
    Change-Id: I96d179f2a58e5948c8ba6c9ae618daad7b8d4c86
    Closes-bug: 1269915
    (cherry picked from commit 861e93a671f4ca4a7d8b08b05055bab9b9e141f8)

commit 59fe59ebfc93a9354aa4598a39c7132cc38938fe
Author: Juan Manuel Olle <juan.m.olle@intel.com>
Date:   Fri Mar 21 16:46:03 2014 -0300

    Correct metadata ordering issue in tests
    
    Some test including test_volume_get_all_filters
    fails randomly because metadata is in a dict and
    the items order is undefined.
    The test comparison was changed to avoid unexpected
    test results.
    
    Change-Id: Ibb24d21cd05aa1eefb45b61c63de067b34fb1013
    Closes-Bug: #1293792
    (cherry picked from commit 4cc2366623743393f89a198581fcb69dc04d31cd)

commit 00d456ba0c3c62db68dce778fa50837f5d7ebacb
Author: Steven Kaufer <kaufer@us.ibm.com>
Date:   Mon Mar 31 20:32:39 2014 +0000

    GET details REST API next link missing 'details'
    
    When executing a pagination query a "next" link is included in the
    API reply when there are more items then the specified limit.
    
    See pagination documentation for more information:
    http://docs.openstack.org/api/openstack-compute/2/content/
    Paginated_Collections-d1e664.html
    
    The caller should be able to invoke the "next" link (without
    having to re-format it) in order to get the next page of data.
    The documentation states "Subsequent links will honor the
    initial page size. Thus, a client may follow links to traverse
    a paginated collection without having to input the marker parameter."
    
    The problem is that the "next" link is always scoped to the non-
    detailed query.
    
    For example, if you execute "/v2/<tenant>/volumes/detail?limit=1",
    the "next" link does not have the URL for a detailed query and is
    formatted as "/v2/<tenant>/volumes?limit=1&marker=<marker>". In this
    case the "next" link needs to be scoped to "/v2/<tenant>/volumes/detail".
    
    The user could work around this issue my manually inserting '/details'
    into the "next" link URL.
    
    Test code is included to verify that the '/details' URL is correctly added
    when the "next" link is included in a detailed pagination query. Also,
    existing tests were changed to ensure that the correct controller function
    (ie, 'index' vs. 'detail) are invoked for the appropriate query
    (ie, non-detailed or detailed) -- 'index' was previously alwayed invoked
    for detailed URL requests.
    
    Change-Id: Ib00d6deb25255fac1db0f7bf4ecd3c8d30e1c39d
    Closes-bug: 1299247
    (cherry picked from commit 2981cdbb03c6f1239a58fedb260796667b8154ab)

commit 1e488339ded20a8bce602202bde7244f1c1b249e
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Apr 17 18:46:36 2014 -0700

    Fallback to None on missing Glance image attrs
    
    It's possible for glance images to be missing attributes like name and
    checksum. We'll just set those to None by default to avoid missing key
    exceptions being raised.
    
    Closes-Bug: #1308058
    Change-Id: I85c42f8351763da201021a22f5ff0ebd62c6b2db
    (cherry picked from commit 993facb3bf753d23332236dc05b397850bf99144)

commit 767c2a6407c3a1fed2466ac244e9579bd2339cf2
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Apr 22 16:27:42 2014 -0700

    Keep volume available if retype fails due to quota
    
    If we're over quota for a volume type that we're retyping a volume to,
    keep the volume available.
    
    Closes-Bug: #1308819
    Change-Id: I7e66e95bf12b7e5a6df04eeb5a501badb5f2941f
    (cherry picked from commit 3305f9dd061e70736fc4b890a207ecd4d30c3544)

commit d0602f6f2a32e2038bb27d77d3671b3dabedae5a
Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>
Date:   Tue Apr 8 19:35:10 2014 +0300

    Fixes cinder error state volume delete on Windows
    
    If the volume creation fails and the iSCSI disk is not created,
    trying to delete the error state volume will fail on Windows.
    
    Deleting the iSCSI disk must be skipped when it does not exist.
    
    Change-Id: I2cd615e71fe457c241bea207c4bd8904c1ffd9cb
    Closes-Bug: #1304516
    (cherry picked from commit 131777688562b1ec020327067d89da1535b99640)

commit 1815c725f8d9f7770d0757e724f1f0111c64dc2f
Author: Jon Bernard <jobernar@redhat.com>
Date:   Fri Apr 11 10:44:55 2014 -0400

    Re-raise exceptions in upload-to-image
    
    This patch catches any exceptions returned from Glance during an
    upload-to-image operation and re-raises them so that the user can see
    the failure message and make the appropriate adjustments.  More
    specifically, this addresses an invalid container format.
    
    For example, the following command:
    
        $ cinder upload-to-image --container-format foobar ...
    
    Goes from:
    
        ERROR: The server could not comply with the request since it is
               either malformed or otherwise incorrect. (HTTP 400)
               (Request-ID: req-f19bad2f-c39d-40a2-a3cc-6db9b9fe64cd)
    
    To:
    
        ERROR: 400 Bad Request
        Invalid container format 'foobar' for image.
            (HTTP 400) (HTTP 400)
            (Request-ID: req-47cb2772-78c4-48b7-87ce-fb124ecfa989)
    
    Closes-Bug: #1308689
    Change-Id: If18851e0b9f5c242f84b1eab928b42d809335d80
    (cherry picked from commit 6673a1d6b33ca72062d35450f97de43bf550b705)

commit 560740f7348da143d8739980a06496d6e24d1c4e
Author: Thang Pham <thang.g.pham@gmail.com>
Date:   Tue Apr 8 16:45:34 2014 -0400

    GlusterFS: Delete active snapshot file on volume delete.
    
    If a snapshot is taken of a volume that is attached to an active
    instance, the volume file used by the instance will be switched to
    the new snapshot file that is created.  When you delete the
    snapshot, the base volume file will be merged with the snapshot
    file and the base volume is deleted.  Upon a deleting the active
    volume, the active snapshot file is not deleted because it does not
    have the expected name that cinder is looking for, i.e.
    volume-<uuid>.  Instead, the snapshot file has the name
    volume-<uuid>.<snapshot-uuid>.  This patch looks at the volume info
    file to find any active snapshot file and properly delete it when
    the volume is deleted.
    
    Change-Id: Ib0af4401d839ec3bd1eb3a81e1671811e0d4a288
    Closes-Bug: #1300303
    (cherry picked from commit 5f00cad02da1093d71f636add0810a538cbd444f)

commit d17277d37d41072b113738d95c0a3bf3a6ab2549
Author: Li Min Liu <liminliu@cn.ibm.com>
Date:   Fri Apr 11 10:50:24 2014 +0800

    Add exception catch if Storwize/SVC driver failed when
    retyping
    
    If adding a copy for a volume of Storwize/SVC which is under
    migration, Storwize/SVC command will fail because the
    number of the copies of the volume exceed the limit which
    is 2.
    
    Modifying the volume type when adding a copy for the volume,
    Storwize/SVC driver will also fail, should add exception catch.
    
    Also add exception catch when getting the volume from the database.
    This change is necessary to enable resolving bug 1305550
    (https://bugs.launchpad.net/cinder/+bug/1305550 - Failed retype with
    driver raised exception should set volume status to "error" ).
    
    Change-Id: I1cf4b6606b5228c8adcb2bde21f345fa979bc13e
    Closes-Bug: #1298201
    (cherry picked from commit 24eb8234ff4b907b8c88f26fb0c427cb7a452140)

commit 49446bc04008bab87ad0c3bbccfb1eee99fa832d
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Mon Mar 24 14:44:27 2014 -0700

    Disable oslo.messaging debug logs
    
    oslo.messaging debug logs are too verbose, turn them off. A similar patch
    dropped nova-conductor logs in the gate down from 7MB to under 300K.
    
    Cherry-Pick from oslo-incubator since we are in feature freeze:
    Ia12c003dae196e2220a5f6ea768758a75f2ede23 and
    Icc61964c6a2b002ac1c8566f174e6a5230674c75
    
    Closes-Bug: #1309626
    (cherry picked from commit a24192d90938ea89b8f20132de60e6ad3a4ad447)
    Change-Id: I9e6456f1c979d9a57fc7fa93fb290c6a26017373

commit 978b036a6467f7f6afb4419f92bf4fa7d1ff2347
Author: Thierry Carrez <thierry@openstack.org>
Date:   Thu Apr 17 15:37:54 2014 +0200

    Opening stable/icehouse
    
    Bump version to next stable release on icehouse branch, and set
    defaultbranch in .gitreview for convenience.
    
    Change-Id: I8eae47f57ad05f0047eb10f0ec087044fa1fd340

commit aa0e752c7e9e37e44abb26e101390a1463560b3d
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Apr 17 15:33:07 2014 +0200

    Adjust sample config for keystoneclient 0.8.0 release
    
    Helps fixing the gate again.
    
    Change-Id: Ic962613fd7ee3e978890c25f911f509e9533ef8a
    (cherry picked from commit da2dbd35de752d4dd47859c8b9197b00c53dd872)

commit d507b600927e230e71673fa9b4f7974d69668ee7
Merge: e5c45bf 9b46fd6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 14 22:29:30 2014 +0000

    Merge "driver.create/remove_export() require elevated ctx" into milestone-proposed

commit 9b46fd6d4d1f96b92003a643dcaacc93ae23c2f1
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Apr 9 13:05:54 2014 -0400

    driver.create/remove_export() require elevated ctx
    
    The volume manager should call driver.create_export()
    and driver.remove_export() with an elevated context.
    
    This is already done for remove_export() in some cases
    but not in initialize_connection error paths, or for
    terminate_connection.
    
    This will at a minimum cause issues with the LVM LIO
    driver as its create/remove_export methods uses database
    queries requiring admin access (volume_get_iscsi_target_num,
    iscsi_target_count_by_host).
    
    Partial-Bug: #1300148
    Closes-Bug: #1305197
    
    Change-Id: I5c1091cf9720ebccefc328b64fbf2982b3aac397
    (cherry picked from commit d09d12ab2ba72a9e7fe42852a7cf837231053590)

commit e5c45bf88448b231a3252aa2628d6cf5bd9aa730
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Apr 10 00:10:08 2014 +0000

    Check for silent failure of tgtadm remove
    
    In order to work around a failure to remove targets that
    had a reconnect the force flag was added to the tgt delete cmd.
        (https://bugs.launchpad.net/cinder/+bug/1159948)
    
    It turns out there's a bug in tgt where some versions will
    sometimes silently fail when using the force flag.
        (https://bugs.launchpad.net/ubuntu/+source/tgt/+bug/1305343)
    
    The problem is that in the gates since we merged the force change
    there's a very high number of cases where lvremove fails because
    the device is still active.  It appears that this is a result of
    the silent force failures in target.
    
    This patch adds a simple check after the force target removal,
    if it detects the target is still present it reverts back to the old
    non-force method to catch the cases that don't actually need the
    force option.
    
    This is a work-around until the version of target in the distros
    is updated and can be used reliably, but closes the gate issue
    bug that was reported.
    
    Change-Id: I9150669040815e4831bd570964d12676b83ecbc9
    Close-Bug: #1304122
    (cherry picked from commit f9519182f4a6e6573513d8dbc9438702fc7b8644)

commit 512170afa377752dce02db3b2c0452d27c8ffd48
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Apr 6 14:20:03 2014 +0000

    Updated from global requirements
    
    Change-Id: I84c8bae9370f6b99d061ce1dc9519c6bec2b3cad

commit 60ab07159185b4e432e16fe21a4b189557a01e5f
Merge: 7c34f3a d351617
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 4 22:45:10 2014 +0000

    Merge "Adds ionice command permutations to rootwrap filters" into milestone-proposed

commit 7c34f3aec0e713b8c3b97bd27a0c5e0f6aa6b277
Merge: df99d7c bc916e9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 4 22:42:56 2014 +0000

    Merge "Append nas_opts to IBMNAS_NFSDriver configuration" into milestone-proposed

commit df99d7cd84460167dbb567120469bb08ac907783
Merge: 5a95010 d026206
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 4 20:00:40 2014 +0000

    Merge "GlusterFS: Delete volume-<uuid>.info file when volume is deleted." into milestone-proposed

commit bc916e9da0b5a65ac999fe6d2539d845fddfa276
Author: Sasikanth <sasikanth.eda@in.ibm.com>
Date:   Thu Mar 27 20:44:50 2014 +0530

    Append nas_opts to IBMNAS_NFSDriver configuration
    
    'nas_opts' were added in the NFS Driver (nfs.py), but were not appended
    to the IBMNAS driver configuration, causing failure with the multi-backend
    configuration of driver.
    
    Adding the missing configuration.
    
    Change-Id: I55727566d03573908750d01ae1345c4b6276f131
    Closes-Bug: #1298279
    (cherry picked from commit adb43dab7072a7e452710ac5db346e9a2c99993f)

commit 5a95010dbf1bd63c06021ad03d7e138591b11702
Merge: 8d1da6e c70d356
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 4 19:35:04 2014 +0000

    Merge "Fixes cinder volume delete on Windows" into milestone-proposed

commit 8d1da6e71cdb1bb5866e980ae2524bda74ab362a
Merge: 29d1b9d 6d29278
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 4 18:13:28 2014 +0000

    Merge "Change iogrp property when retyping for Storwize/SVC" into milestone-proposed

commit 29d1b9d3766ad6a387dd24d16ea41eb257bc6b08
Merge: 01e5eac e9324de
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 4 18:13:16 2014 +0000

    Merge "Allow deprecated volume update keys in v2" into milestone-proposed

commit 6d29278f05aafdbb9b0165178866e4a05fb534f0
Author: Li Min Liu <liminliu@cn.ibm.com>
Date:   Tue Apr 1 17:08:37 2014 +0800

    Change iogrp property when retyping for Storwize/SVC
    
    If need migration when retyping, Storwize/SVC driver will add a copy
    of the volume first, and then start a task to check volume sync
    progress which will run each 10 mins. At last delete the origin copy
    when sync finished.
    
    But iogrp property is not a parameter of addvdiskcopy, so the iogrp
    of the copy volume is the same as the origin. If iogrp property is
    diff between the old and new volume type, the property will not
    change when retyped.
    
    Change-Id: Ie4414bcf95fa6e61d7d618618f48837eef740da4
    closed-bug: #1298247
    (cherry picked from commit 5c336123d3252e7fc4e1aeabd853457ab05838be)

commit d3516176bba5d6ac258d31f775353f8702df56a6
Author: Bryan D. Payne <bdpayne@acm.org>
Date:   Mon Mar 31 15:50:43 2014 -0700

    Adds ionice command permutations to rootwrap filters
    
    When setting volume_clear_ionice, the ionice command is prepended to a dd
    command before executing it.  Previously, this would have failed because it
    wasn't allowed through the default rootwrap filters.  This commit fixes this
    problem.
    
    Note that due to the way that the RegExpFilter works, we need three different
    expressions to cover all cases.  This is because the various options result
    in a different number of arguments.  And this filter will fail immediately
    if the number of arguments is incorrect.
    
    Change-Id: Ie29f7fa21b34982ed5394c2c8f38c3e066ef0112
    Closes-Bug: #1300496
    (cherry picked from commit d5c74a954b260567874c45c39b92904f3756b806)

commit 01e5eac3f251164096051d43d763df72a65d31d3
Author: Chris Buccella <buccella@linux.vnet.ibm.com>
Date:   Thu Apr 3 04:02:45 2014 +0000

    _translate_from_glance() can cause an unnecessary HTTP request
    
    After returning from a get() call to python-glanceclient, cinder runs a
    translation function on the returned Image to get the data it wants. Part of
    this process is checking for an expected set of attributes, one of which is
    the deletion time ('deleted_at'). However, if the image has not been deleted,
    deleted_at key will not exist. This forces another call to glance to occur for
    the same image. A similar problem exists for the checksum attribute, which does
    not exist before an image is active. The fix here is to only consider
    deleted_at and checksum if they are expected to be present.
    
    This change was made in nova as change I67b7dd16
    
    Change-Id: Iedc16cb9316f9610fdb8ac03f448bc375a4e6bfa
    Closes-Bug: #1275173
    (cherry picked from commit da13c6285bb0aee55cfbc93f55ce2e2b7d6a28f2)

commit e9324decdddf63794ae2e8ba97293c037828045e
Author: Mike Perez <thingee@gmail.com>
Date:   Wed Apr 2 17:52:11 2014 -0700

    Allow deprecated volume update keys in v2
    
    Keys like display_name and display_description were deprecated for other
    actions in v2 like creating volumes, so for consistency they should work
    with updating.
    
    DocImpact
    Closes-Bug: #1301172
    Change-Id: I19bc7c85352578bb57fa9fdaf1817f78e0ee2f2a
    (cherry picked from commit d75a90ec1daff1444f20f6b68255890391bdb4e5)

commit d0262065921cb3015619bdce8ca1cae596cde9b2
Author: Thang Pham <thang.g.pham@gmail.com>
Date:   Mon Mar 31 15:22:47 2014 -0400

    GlusterFS: Delete volume-<uuid>.info file when volume is deleted.
    
    glusterfs creates a file named volume-<uuid>.info to hold volume
    data, mapping cinder snapshot UUIDs and filenames. When the
    volume and its associated snapshots are both deleted, this file
    remains. This patch deletes the volume-<uuid>.info (if one exists)
    when the volume is deleted.
    
    Change-Id: Iefc8bd4768b30a75c648c4689d935daeab3afe98
    Closes-Bug: #1299182
    (cherry picked from commit bf006ecb4a52db6300aa0fe1abe7df621e9f6174)

commit c70d356352ee21b102a33e0b84928419894ed3c8
Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>
Date:   Fri Mar 28 10:47:07 2014 +0200

    Fixes cinder volume delete on Windows
    
    Because of the fact that an iSCSI target is not created anymore
    at volume creation time, not all volumes will have a corresponding
    target. For this reason, when removing an iSCSI target we must
    first check if the target actually exists.
    
    Change-Id: I8e571397df6d9a2eeb05e883b7da8494d4bfa1ad
    Closes-Bug: #1299124
    (cherry picked from commit 601d54c9ef926fa2d8abfe0121019f7ad94eefd5)

commit 5a1fcc88ce613b01cf50c55f2508c01bbc609ed4
Merge: c773cf9 3ac2139
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 3 15:36:02 2014 +0000

    Merge "Fixes cinder volume attach on Windows" into milestone-proposed

commit c773cf96a52924a7dc42f774c57463e8ed66c9ef
Author: Andreas Jaeger <aj@suse.de>
Date:   Sat Mar 29 06:38:52 2014 +0100

    Fix Jenkins translation jobs
    
    The jobs cinder-propose-translation-update and
    cinder-upstream-translation-update do not update from
    transifex since our po files contain duplicate entries where
    obsolete entries duplicate normal entries.
    
    Remove all obsolete entries to fix the jobs.
    
    Change-Id: I6d41dbdcc41646fcbd1ee84ce48cb0c461cd454c
    Closes-Bug: #1299349
    (cherry picked from commit c72cc4b2345e9e271205d1de00c9812d0a2684ec)

commit 3ac21395002531f0da35cc7083b31c3219179519
Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>
Date:   Fri Mar 28 10:57:13 2014 +0200

    Fixes cinder volume attach on Windows
    
    The initiator name and the target name are inverted when passing
    the arguments to the method which associates the iSCSI target to
    an initiator. For this reason, this operation will fail.
    
    Also, the connection to the iSCSI target cannot be initialized
    properly as the method which gets portal information is missing
    the return value.
    
    Change-Id: I31034cd407d12d69a410f8c9e86a2e6821349dad
    Closes-Bug: #1299131
    (cherry picked from commit 23e820abb8685573f97f5e3764225a97dd695127)

commit a3a3b8358791fbe7db13361c8e532b6b97e8a73d
Merge: 5ea1e1c 7ca4bea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 27 10:14:21 2014 +0000

    Merge "vmware: Use SessionIsActive to find stale session"

commit 5ea1e1cc164556376c8c1ca88e0350b2eca687a7
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Mar 27 06:12:40 2014 +0000

    Imported Translations from Transifex
    
    Change-Id: Ibb7c3b8a65f1356a06bcec5d23f03598a9966315

commit 1767d3622e2118a321e1ac5ef43510a62615e703
Merge: cce951f b244750
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 27 04:50:37 2014 +0000

    Merge "NetApp cmode nfs: Fix QOS extra spec"

commit cce951fd65fbb1a9467407c49491721de04ea62f
Merge: ef1a6c3 7320422
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 27 04:38:47 2014 +0000

    Merge "Fixes a problem in attach volume in EMC driver."

commit ef1a6c3f2e691cfeeaf00378bb18791ffadef080
Merge: b8b2366 7c1fe4a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 27 04:38:40 2014 +0000

    Merge "NetApp cmode iscsi: Fix QOS extra spec"

commit b8b23668805aedf8d66ea696a5ce86fecb94b93f
Merge: 854b944 9920eb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 27 04:38:32 2014 +0000

    Merge "Changes to correct name of missing NetApp license."

commit 854b9441b8acf86b1859207fd3eab4abd03a3af8
Merge: 1e6560a 6868c7a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 27 04:38:24 2014 +0000

    Merge "Pass the mirrorlog option as two arguments."

commit 9920eb9edc9707270e20a9286774f20f95fc7cca
Author: Glenn M. Gobeli <Glenn.Gobeli@netapp.com>
Date:   Fri Mar 21 10:05:07 2014 -0400

    Changes to correct name of missing NetApp license.
    
    Change to have the NetApp ZAPI error of "SIS clone not licensed"
    refer to the correct NetApp license of "FlexClone not licensed".
    This code path is encountered when the NetApp 7mode driver uses
    the clone interface for snapshotting or cloning.
    
    Change-Id: I3e4d07d38870928a324ad044e03938826b0d0a98
    Closes-Bug: #1295349

commit b2447503b0ba98e644439d31435d47435c46cd69
Author: Alex Meade <mr.alex.meade@gmail.com>
Date:   Thu Mar 20 15:44:44 2014 -0400

    NetApp cmode nfs: Fix QOS extra spec
    
    This patch fixes the incorrect behavior where the NetApp cmode
    nfs driver will choose to create a volume on a flexVol that has
    a QOS policy group that matches the specified QOS policy group
    intended for the cinder volume. The correct behavior is to ignore
    the QOS policy group of the flexVol and instead assign the QOS policy
    group to the newly created cinder volume.
    
    Change-Id: I45d905da2a9a07b3ae8c00a225ab3b7f7ceb12d8
    Closes-Bug: #1288283

commit 7c1fe4a0625274421a62dd14f9957dcc98c4e247
Author: Alex Meade <mr.alex.meade@gmail.com>
Date:   Wed Mar 19 14:03:15 2014 -0400

    NetApp cmode iscsi: Fix QOS extra spec
    
    This patch fixes the incorrect behavior where the NetApp cmode
    iscsi driver will choose to create a volume on a flexVol that has
    a QOS policy group that matches the specified QOS policy group
    intended for the cinder volume. The correct behavior is to ignore
    the QOS policy group of the flexVol and instead assign the QOS policy
    group to the newly created cinder volume.
    
    Change-Id: Ibeb8e3b965af8e79d0294c5cf97410da2b44d40c
    Partial-Bug: #1288283

commit 7320422e5a496350906dcd2a1cd5487088cf63e5
Author: Xing Yang <xing.yang@emc.com>
Date:   Sat Mar 22 15:05:42 2014 -0400

    Fixes a problem in attach volume in EMC driver.
    
    This patch fixes a problem in attach volume in EMC SMI-S driver.
    The existing logic checks if a volume is already attached to any host,
    but it doesn't check whether a volume is already attached to the specific
    host that nova wants cinder to attach.  As a result, initialize_connection
    could return success (thinking it is already attached), but nova will
    fail to discover the LUN later and fail the attach.
    
    This patch adds a check to see if a volume is already attached to a
    specific host.  If not, it will do the attach.  The reason that the
    volume being attached already could be due to a nova live-migration
    use case.  Cinder doesn't support multiple attaches currently, but
    allows a volume to be attached multiple times from nova during
    live-migration.
    
    Change-Id: I05a2f57cd8708d7fcbe902ec13665a9cfb44db07
    Closes-Bug: #1295906

commit 1e6560ac69efb278c291817dbd76bc2c5919d2d6
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Mar 26 16:47:21 2014 -0600

    Update config generator from OSLO
    
    Cinders sample config is out of date with recent
    updates needed for keystone, however we had an
    old version of the oslo generator so there was
    no way to pick these changes up locally by running
    the generate tool.
    
    This pulls the latest generator.py from oslo, and
    we run the update script to get us back in sync.
    
    Current head of oslo:
      commit 2eab986ef3c43f8d1e25065e3cbc1307860c25c7
      Merge: 2b08343 0dbcae1
      Author: Jenkins <jenkins@review.openstack.org>
      Date:   Wed Mar 26 14:47:07 2014 +0000
    
          Merge "Adds test condition in test_periodic"
    
    Change-Id: Id43becfaa39d04153167e592a1233a5aef6016c9

commit 6868c7adb3a35cdda390dd87050d6661067c23a0
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Wed Mar 26 12:09:28 2014 -0700

    Pass the mirrorlog option as two arguments.
    
    We don't use shell=True when we Popen, so we have to keep all
    arguments as separate values.
    
    Change-Id: Ic35fad36be72386d3496920e259c32fe16625046
    Closes-bug: 1298017

commit 532e99589bbc242f153a37c8b40965bcb043dec2
Merge: 49bd90c 1e4d070
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 26 11:23:30 2014 +0000

    Merge "vmware: Remove pbm_default_policy config option"

commit 49bd90c58df0546915dd1259ba84fdb6e74d4d25
Merge: caff15a af4a58d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 26 08:29:53 2014 +0000

    Merge "Netapp iscsi: allow snapshots with unspecified block range."

commit af4a58d672cfa0c4b63015e7e783461570296c76
Author: Jeff Applewhite <jeff.applewhite@netapp.com>
Date:   Mon Mar 24 17:37:22 2014 -0400

    Netapp iscsi: allow snapshots with unspecified block range.
    
    Snapshots were failing to create in all cases in the NetApp iscsi
    driver. The clone lun function was never issuing the zapi call
    because the block count was set to 0.
    
    Closes-Bug: 1296881
    
    Change-Id: Ic2bf67b57a566632103a3fa2ff032555f42a3961

commit caff15af26b7622b2d6f84765bbc0ba8434a24be
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Mar 19 21:53:41 2014 -0600

    Serialize the notification payload
    
    Notification payload in oslomessaging needs to be
    serialized correctly, currently it's not.
    
    Use json to encode the payload.
    Closes-Bug: 1294949
    
    Change-Id: Idb2c13981cc1c60ed02445a28220d1dab1529d2b

commit a4291a82fc6269b34cc5a9b29937134a67f47851
Merge: 2bf1572 5119d32
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 25 06:25:17 2014 +0000

    Merge "Adds xiv_chap to xiv/ds8k driver configuration"

commit 2bf15729b1e6a2482248a2959e08afe205395197
Merge: b584460 3792739
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 25 05:59:23 2014 +0000

    Merge "Can't force-create snapshot by an non-exist error volume"

commit b58446000e150c674b5c7301dde9ec9666b7d244
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Mar 24 11:47:40 2014 +0000

    Updated from global requirements
    
    Change-Id: I02c65db0ea9ef2c86d4bf280d811e8cd28deadb9

commit eb6bae9f4c05fb5682634ae15dd3388c41ea8f14
Merge: 5a664ef aa4a89e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 21 08:22:41 2014 +0000

    Merge "Allow NetApp iSCSI driver to sub-clone large volumes"

commit 5a664ef023f919bbe693963e8e9c3a576c101f7d
Merge: e145ef7 65fa80c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 21 08:22:37 2014 +0000

    Merge "init_host should be called before RPC consumer is created"

commit 5119d323650f97f12e12fdb6a2a80e46739629fc
Author: alonma <alonma@il.ibm.com>
Date:   Thu Mar 20 19:41:56 2014 +0200

    Adds xiv_chap to xiv/ds8k driver configuration
    
    In order to support CHAP, xiv_chap was added to
    the driver configuration. Valid values are disabled
    and enabled (default: disabled)
    
    Change-Id: I0c68f581ad78a87a506b00ab308806f4a8fa78a8
    DocImpact
    Closes-Bug: #1288816

commit 7ca4bea7e3d8688c847bdbcfe3e60900c61c297c
Author: Vipin Balachandran <vbala@vmware.com>
Date:   Wed Mar 19 17:42:56 2014 +0530

    vmware: Use SessionIsActive to find stale session
    
    An API invocation with a stale session returns an empty response. In order
    to distinguish it from an API returning valid empty response, the session
    is recreated and the API is retried. If an empty response is received even
    after the retry, it can be assumed that the API response is actually empty.
    But this behavior results in authentication error from the VMware server
    when there is an active session and the API response is actually empty.
    This change fix this behavior by using the SessionIsActive check to
    identify stale session.
    
    Change-Id: I6ddc4028bc5319cd22006de0590c13d6868c3494
    Closes-Bug: #1284979

commit 65fa80c361f71158cc492dfc520dc4a63ccfa419
Author: wanghong <w.wanghong@huawei.com>
Date:   Thu Mar 20 10:39:37 2014 +0800

    init_host should be called before RPC consumer is created
    
    Currently, the init_host method is called after RPC consumer is
    created. This behavior will lead to a bug that when a rpc request
    is received the manager can not handle it because the driver has not
    been initialized!
    
    Change-Id: Ieedba1adeb3dd98eb4ff78427fe347423c016469
    Closes-Bug: #1271568

commit e145ef798d2c80ea48be2826f4c648e72958f5d1
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Mar 19 16:19:28 2014 -0600

    Add RequestContextSerializer for rpc notifications
    
    RequestContext should be serialized when sent via oslo.messaging. The
    serializer is correctly used for the general RPC mechanism, but has been
    forgotten in the notifier. This patch fixes that.
    
    Thanks goes to eharney for noticing this and pointing it out!!!
    
    Same bug existed in Nova (1275771)
    
    Change-Id: I99a571ef74bbcd13bf801313eea145ea69f821e1
    Closes-Bug: #1294724

commit aa4a89eda8941bce22ead9db2dd5f7bc6ca90e04
Author: Andrew Kerr <andrew.kerr@netapp.com>
Date:   Tue Mar 11 10:28:55 2014 -0400

    Allow NetApp iSCSI driver to sub-clone large volumes
    
    The NetApp zapi used during certain extend operations has several limits
    imposed on it.  Each block-range provided can only be 2^24 in size, and
    there can only be 32 block-ranges per zapi call.  This fix allows the
    NetApp iSCSI driver to send multiple zapi calls if necessary, to allow
    for extend operations on volumes of an arbitrary size.
    
    Closes-Bug: #1288962
    Change-Id: I981d22f32cb2182112fbea3ea9880d1e8c8c91ab

commit 2ba4af4de5653bf619f2bfb12ec7564ff21fd4c0
Merge: b78a10c 71853a3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 19 17:38:05 2014 +0000

    Merge "Simplify test force delete snapshot unit test"

commit 379273925517e8b9bf971e018a1dc41f809c4814
Author: lirenke <lvhancy@163.com>
Date:   Tue Mar 4 04:59:07 2014 -0800

    Can't force-create snapshot by an non-exist error volume
    
    If we create an LVM volume whose size larger than
    rest space in VG, the volume would not exist with
    error status.
    But then we still can force create a snapshot
    by this volume, and the snapshot's status is available.
    In the code,I found in create_lv_snapshot,
    it return False when fail to get the volume.
    However, raising an exception is only way to be
    handle outside.
    So, we should raise exception instead of return False.
    
    Closes-Bug: #1283338
    
    Change-Id: I80256f19d66da460c95ff23834abb79a557763bf

commit b78a10cd69f25516de5a6bd9673554e022c87f20
Merge: 98ce710 df03a9b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 18 22:58:31 2014 +0000

    Merge "resolve KeyError for IBM Storwize/SVC driver"

commit 71853a32111ec9a36f8a2082b41b52519b66be85
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Mar 16 22:24:38 2014 -0700

    Simplify test force delete snapshot unit test
    
    Make this test simple in just verifying if we have a snapshot and we do
    a force delete that we get back an ok response from the controller.
    Removing out RPC call and verifying snapshot was deleted since that's
    out of the scope here.
    
    Closes-Bug: #1291108
    Change-Id: If10b1057cf170e77527a0933a1ddf1a6a59baa1d

commit 98ce710a2aa3b99dce48fe629d65b9a9272b0ad3
Merge: 834f776 169feda
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 18 21:04:41 2014 +0000

    Merge "Remove unused method from NetApp iscsi driver"

commit df03a9b9b7025a0e13d9387a74c304875dec0918
Author: Xiao Chen <chenxiao@cn.ibm.com>
Date:   Thu Mar 6 18:13:46 2014 +0800

    resolve KeyError for IBM Storwize/SVC driver
    
    When using iSCSI protocol to conenct IBM v7000, and compression
    is not enabled for the system, KeyError may occur because of the response
    item's lack of 'license_compression_enclosures'. So add a check to
    resolve it.
    
    Change-Id: Ie53631ea5b047650897313ad5614f6e1df5377f2
    Closes-Bug: #1288645

commit 834f7769736b60d95ab74d4dd7563560f99506be
Merge: c3d4ad8 5eddb2e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 17 22:45:54 2014 +0000

    Merge "VMware: Implement vmdk extend_volume"

commit 169fedad2985d0ba56358ad3e67be09eb300e5c8
Author: Alex Meade <mr.alex.meade@gmail.com>
Date:   Mon Mar 17 15:16:09 2014 -0400

    Remove unused method from NetApp iscsi driver
    
    This removes _get_qos_type() from the NetApp iscsi code
    as it is never used.
    
    Change-Id: I903245b5c018bce80bdc0b8edf9ab7241e475fa4

commit 1e4d070a5b638de58c87363b18a76171dcd0ce38
Author: Vipin Balachandran <vbala@vmware.com>
Date:   Mon Mar 17 23:46:22 2014 +0530

    vmware: Remove pbm_default_policy config option
    
    The pbm_default_policy config option is used to associate a storage
    policy with the volume backing if there is no associated volume_type
    or the volume_type doesn't have the storage_profile option. A better
    approach is to set the storage_profile option in the default_volume_type.
    This change removes the pbm_default_policy and queries the policy
    using the storage_profile option in the given volume_type.
    
    Closes-Bug: #1291181
    Closes-Bug: #1291804
    DocImpact
    
    Change-Id: I2519ec1145712ce6927dacde91db468d066af021

commit c3d4ad86d2091939644c3b385c43400dca8ccca8
Merge: d1b95a6 092a59a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 17 12:07:13 2014 +0000

    Merge "Use the error_out_volume from flow common instead"

commit 5eddb2e2245e9c42f458de201ade166b727ee8f4
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Fri Mar 7 11:55:34 2014 -0500

    VMware: Implement vmdk extend_volume
    
    Add the API implementation of extend_volume for the VMware
    vmdk driver.
    
    Change-Id: Idf09c9e9cf015c78c1c5e91c05b897e3e9b7c006
    Closes-Bug: #1232172

commit d1b95a6e6fa286b3b74d5e1941894753246e405d
Merge: 1670a6d 5757c85
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 16 15:37:22 2014 +0000

    Merge "Don't send untextified exc to webob"

commit 1670a6d8909cab1a439b7bfee3b5227c8abf6a93
Merge: b6f2f9f 23ff56f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 16 11:41:00 2014 +0000

    Merge "GPFS unit tests: increased coverage, uses mock"

commit b6f2f9fb266256b23e3f21403ff9d4c8e19eb483
Merge: e8f907b 2fad542
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 16 10:13:33 2014 +0000

    Merge "Use six.moves.urllib.parse instead of urlparse"

commit e8f907bc685e3ad120d19b150af01fac1451f203
Merge: a9218b7 c9c6bef
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 16 06:39:48 2014 +0000

    Merge "Add snapshot related data to limits api"

commit a9218b7b38b184b5507204e074850e9c1863eeb9
Merge: ca912fa b868ae7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 15 20:35:45 2014 +0000

    Merge "Fix create_export/remove_export in driver.py"

commit ca912fa4ff9ea1c1c3bb3131af6379bf00a494d9
Merge: 09de7d6 e8fac5e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 15 18:50:26 2014 +0000

    Merge "NetApp api fix structure conversion methods"

commit 09de7d676d23ad27cd3da1a0a2112d0efeefc727
Merge: 4c91d5a ea7d4a5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 15 17:29:03 2014 +0000

    Merge "Switch over to oslosphinx"

commit b868ae707f9ecbe254101e21d9d7ffa0b05b17d1
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Feb 26 11:27:06 2014 +0200

    Fix create_export/remove_export in driver.py
    
    1. There was a call to rpcapi.create_export which does not have a
    matching volume manager function, causing volume migration to crash.
    This call was not necessary because there is already an
    initialize_connection RPC call, which calls the driver's create_export
    function. Removed the create_export RPC call and function. Added better
    error handling to that code in _attach_volume in driver.py as well.
    
    2. The manager called remove_export from detach_volume, which was not
    being called by these functions. I believe it makes more sense to call
    it from terminate_connection. Moved it there, and fixed up the
    corresponding code in _detach_volume in driver.py.
    
    3. Remove leftovers of export code from create_volume manager flow.
    
    Change-Id: I2b192630ebed54368f151db47b49cbc72601a8d7
    Closes-Bug: #1285060

commit 4c91d5a51e3819fc5ea4ca1f317f142d4a24ea36
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Mar 15 06:10:12 2014 +0000

    Imported Translations from Transifex
    
    Change-Id: I639b951c583c008b9784e1ea89cc3cda205086a2

commit 7010514918f05e6bf804a580a64ace3ff8874921
Merge: b30a54c 30a33a7
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Mar 15 02:06:49 2014 +0000

    Merge "Updated from global requirements"

commit b30a54c7f0a1658be6eab2a38e13f283d0b8bb0a
Merge: 3a48cda 2a20bef
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 15 00:47:25 2014 +0000

    Merge "Add missing config values for vmwware_vmdk test"

commit 3a48cda5e1f3e190d5a10f6fe2b5a1dae06405ba
Merge: 61a7940 c0f8cc3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 14 22:45:12 2014 +0000

    Merge "Ensure name is utf-8 when deleting rbd vol or snap"

commit 61a794038b78e4a3c79ec1174c5d12ae685647fd
Merge: 9046e6e 10dcf87
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 14 15:57:09 2014 +0000

    Merge "get volumes with limit and filters does not work"

commit c0f8cc39fc92517d1402d9eb82d9319c6cb72842
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Fri Mar 14 10:07:45 2014 +0000

    Ensure name is utf-8 when deleting rbd vol or snap
    
    If the name supplied to librbd is not utf-8 e.g. unicode,
    an exception is raised. This was previously fixed and
    subsequently broken by commit cbe1d5f.
    
    Change-Id: I29f5e9db87ceb5f9cfe3be43e76d3e860edaf6d7
    Closes-Bug: bug 1292433

commit 2fad54233dde0640d52e4111b11a628ba8a0ce27
Author: Fengqian Gao <fengqian.gao@intel.com>
Date:   Mon Mar 10 10:03:08 2014 +0800

    Use six.moves.urllib.parse instead of urlparse
    
    To keep Python 3.x compatibility, use six.moves.urllib.parse to
    replace urlparse. tools/lintstack is changed to pass pylint test.
    
    Partial-Bug: #1279611
    
    Change-Id: I0ceaaccbf6c67b45609b4f2f5639c362b32d10ad

commit 092a59a65a243bf1c96dbcf61e724c03a424373c
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Wed Mar 12 17:31:29 2014 -0700

    Use the error_out_volume from flow common instead
    
    Instead of a custom piece of logic that errors out
    a volume due to the driver not initialized issue
    just use the same one that is used in other flows
    to accomplish the same update.
    
    Change-Id: I2c8f2fbb4d9bb25a19f26cba3dee5e87913d609b

commit 9046e6ee82db8f63b50e2ccaba0698d42dbe90f6
Merge: 50e81fe 0abeb74
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Mar 14 01:19:20 2014 +0000

    Merge "Imported Translations from Transifex"

commit 50e81feeff43284ff83962a5bf8acc5ef6037a69
Merge: c589e55 657b510
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 14 00:10:48 2014 +0000

    Merge "Fix exception message of CoraidESMConfigureError"

commit c589e5533b07ce68af1e2c4c831184fc164d41e4
Merge: e5dbd78 dcfeac2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 14 00:10:40 2014 +0000

    Merge "Sync latest Oslo code for imageutils"

commit e5dbd7815c1226996958f446326ceb5e187455ad
Merge: e2df1c8 b3f0b7a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 14 00:10:37 2014 +0000

    Merge "Revert "Re-enable lazy translation""

commit e2df1c82d074b9473aa6e242e048d3c5216c356f
Merge: 2a37336 6d9bb4b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 14 00:08:34 2014 +0000

    Merge "Fixed some FCZM unit tests hacking issues"

commit 2a37336333cbcd53261d091ec69b95b33eb5315e
Merge: 4c396f8 7171984
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 13 23:02:09 2014 +0000

    Merge "Fixes cinder-volume service startup on Windows"

commit 4c396f8d45b988940f3fc6a51735c7dabb01ae0d
Merge: ef32516 365a990
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 13 22:50:26 2014 +0000

    Merge "Use debug level logging during unit tests"

commit b3f0b7a2cacb16b03ae8f932eb7e4ef081e63d36
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Mar 10 22:00:50 2014 +0000

    Revert "Re-enable lazy translation"
    
    This reverts commit 6338d4656cb71aeeee2e1a9facb22278e208aa00
    
    Change-Id: I078217b96b2d5fcca78b57c8827883a4b15ef9f0

commit dcfeac2b1e57a4f185c881201fccfca27c5eb723
Author: Andrew Kerr <andrew.kerr@netapp.com>
Date:   Thu Mar 13 15:01:27 2014 -0400

    Sync latest Oslo code for imageutils
    
    This sync pulls the latest Oslo imageutils code over to cinder
    to fix QemuImgInfo parsing needed by NFS drivers.
    
    -> b455fac Enable decimal value input in imageutils.QemuImgInfo
    --> cinder/openstack/common/imageutils.py
    
    Oslo version:
    -> 0e98afd Re-raise exception of unloadable library
    -> Date:   Tue Mar 4 17:26:40 2014 +0100
    
    Change-Id: I770b0f534c6949c2ff6995a03923a21ed26e04da
    Closes-Bug: 1285764

commit ef3251623cef0e0a6086d0aa6a1ed657d96a8704
Merge: eaf1b79 3f7c62e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 13 17:43:44 2014 +0000

    Merge "cinder-rtstool imports a not existing module"

commit 5757c857bdf526dc82cc8c1d4200d92c183e9374
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Wed Mar 12 17:39:18 2014 -0500

    Don't send untextified exc to webob
    
    As part of commit cbe1d5f5e22e5f792128643e4cdd6afb2ff2b5bf I
    accidentally removed the str() from exceptions that were being
    passed out of OpenStack to webob.  This broke the contract with
    webob which was expecting strings (text) to be sent.  This
    resulted in webob doing bad things if we encountered an exception,
    like trying to create a duplicate volume type.
    
    This commit replaces the str()'s that shouldn't have been removed
    with six.text_type() which should be used in place of str() to
    resolve this issue.  There was one instance where a message was
    instead being unicoded, this also was changed to use six.text_type.
    
    This commit also fixes one message that should have been translated
    but was not.
    
    Change-Id: Iad6a81108f58c1bfd13397479022c4c4ad1ccc56
    Closes-bug: 1290715

commit eaf1b7998ffe0b37ce77e540dd29a810a2d4d003
Merge: 03030eb 0fc3afd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 13 16:37:05 2014 +0000

    Merge "vmware: Mark VMware ESX vmdk driver as deprecated"

commit 0abeb743175ddccb49c746a1aca8bc0000531b21
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Mar 13 06:12:48 2014 +0000

    Imported Translations from Transifex
    
    Change-Id: Id72f32cac941e6b65b03d91bfccdb4d5b508c976

commit 03030ebadaea85e231a5ba5d90a28951c004f206
Merge: 0ac1c54 7f643ca
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 13 05:07:23 2014 +0000

    Merge "Add conversion types in some strings"

commit 0ac1c54ed80f7710760cfe777f5c366401eb6be8
Merge: e61d466 1553a1e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 13 05:07:06 2014 +0000

    Merge "Sync log.py from oslo-incubator"

commit e61d466ed4676b2b0dbeec9431b5e0fb2a282a6d
Merge: 2869d016 49deb5c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 13 01:58:42 2014 +0000

    Merge "Add libffi-dev to list of packages to install in dev env"

commit 30a33a7e8ab874b13683737e284b356932ef99bc
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Mar 13 01:47:18 2014 +0000

    Updated from global requirements
    
    Change-Id: I84bf7d09746829a35e71a208abe2e3bfb70208d0

commit 365a9908b89688fa609ba86c84941848628346d9
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Mon Mar 10 11:02:13 2014 -0700

    Use debug level logging during unit tests
    
    When unit tests fail we need to debug, so we should have debug level logging on.
    We use fixtures FakeLogger during testing, to enable debug logging pass
    in log level as a parameter.
    
    http://bazaar.launchpad.net/~python-fixtures/python-fixtures/trunk/vi
    ew/head:/lib/fixtures/_fixtures/logger.py#L68
    
    Taken from nova (Change-Id: I70790aa39c0774726de71e5fa5751c45e7e34ffd)
    
    Change-Id: I24bcce3a9a50322f20f06670d1fe95d929aa2e72

commit 2869d0161ce1c0d2db7aeca6c715715902dd577b
Merge: 56f134d 2c1701e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 12 19:23:21 2014 +0000

    Merge "Fixed nova VM live migration issue with 3PAR"

commit 56f134d5e3051fc38ef949079df43440555d7ddc
Merge: a5c5e68 bb5228c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 12 19:17:42 2014 +0000

    Merge "Adding domain to context"

commit 1553a1e78ec262b044ce99b418103c91b7b580f6
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Mar 12 10:59:45 2014 -0600

    Sync log.py from oslo-incubator
    
    This pulls in the latest version of log.py from oslo-incubator
    which elminates the constant user_identity key error.
    
    Note that this sync does a full sync, in other words it uses
    the oslo update script and pulls in the log.py file and all
    of the associated dependendencies for that module.
    
    Current HEAD in OSLO:
    --------------------
    Merge: d9ea4f0 fd33d1e
    Date:   Wed Mar 12 17:00:13 2014 +0000
    Merge "Fix gettextutil.Message handling of deep copy failures"
    --------------------
    
    Change-Id: I7c9f8acd22787f9649a5a1e796238c7788a0484a
    Fixes-Bug: 1290503

commit 6d9bb4bdc915b1ed6ac9d49012eb185a369cc624
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Mar 10 10:27:43 2014 -0700

    Fixed some FCZM unit tests hacking issues
    
    This patch is a follow up to a review that merged
    included and had some issues raised after it was merged.
    This patch includes some hacking cleanup and some
    unit test cleanup for the Fibre Channel Zone Manager.
    
    Change-Id: Ibb6974b2279f08720c2469893245bc888d35899c
    Closes-Bug: #1285029

commit 2a20befd8f300b3970c20677da2d210c0ed85d17
Author: Sascha Peilicke <saschpe@mailbox.org>
Date:   Tue Mar 11 15:50:38 2014 +0100

    Add missing config values for vmwware_vmdk test
    
    Import CONF.glance_api_version from cinder.common.config
    
    Closes-Bug: 1290883
    Change-Id: I9f64c2f60efe517ad8e4ee2a98ed8da4be257b47

commit 3f7c62e91c25ba106371dfc2d04f3e28f4e64665
Author: Attila Fazekas <afazekas@redhat.com>
Date:   Tue Mar 11 21:25:45 2014 +0100

    cinder-rtstool imports a not existing module
    
    cinder.openstack.common.gettextutils should be imported
    in cinder-rtstool instead of gettextutils.
    
    Change-Id: I6ce047100c967d72dc31ced0903bc4ad38fecaa4

commit 10dcf874ac16e410993d9d929a89bb07305f46da
Author: Steven Kaufer <kaufer@us.ibm.com>
Date:   Fri Mar 7 23:01:51 2014 +0000

    get volumes with limit and filters does not work
    
    The /volumes and /volumes/detail REST APIs support filtering. Currently,
    all filtering is done after the volumes are retrieved from the database
    in the API.get_all function in /cinder/volume/api.py. Therefore, the usage
    combination of filters and limit will only work if all volumes matching
    the filters are in the page of data being retrieved from the database.
    
    For example, assume that all of the volumes with a name of "foo" would be
    retrieved from the database starting at index 100 and that you query for
    all volumes with a name of "foo" while specifying a limit of 50.  In this
    case, the query would yield 0 results since the filter did not match any of
    the first 50 entries retrieved from the database.
    
    This patch removes all filtering from the volume API layer and moves it
    into the DB layer.
    
    Test cases were added to verify filtering at the DB level.
    
    Change-Id: Ia084e1f4cf59ea39bf8a0a36686146a315168cbb
    Closes-bug: 1287813

commit 7171984aab11cb28af92435bfea264d7faf643fd
Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>
Date:   Fri Mar 7 17:09:33 2014 +0200

    Fixes cinder-volume service startup on Windows
    
    The Windows service fails due to missing non-blocking IO features
    in eventlet. This fix adds a conditional path on Windows to execute
    the service accordingly.
    
    This bug had already been fixed by this this commit:
    https://review.openstack.org/#/c/44744/ but it had been reverted
    here, causing the Windows service to fail again
    https://review.openstack.org/67031
    
    Fixes bug: #1219896
    
    Change-Id: I46c6b332e614b6a84ec8372dbec3ee9fb09336de

commit 2c1701e2f50feb5fa25ea6fb1b620f39346779de
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Mar 6 11:52:33 2014 -0800

    Fixed nova VM live migration issue with 3PAR
    
    Nova bypasses the cinder checks for a volume
    being available, when it tries to attach a volume
    to a new host during live migration.  The assumption
    in cinder to this point has been that volumes can only
    be attached to one host.  The 3PAR driver worked under
    that assumption.  This assumption fell apart during detach
    time as the driver was only looking for a VLUN on the
    entire 3PAR, since it assumed it could only exist on one host.
    
    This patch ensures that the driver looks for the VLUN on the
    hostname it expects.
    
    Change-Id: Ie894ad386990794d270ca1cb72f40095bd40c2e6
    Closes-Bug: 1288927

commit bb5228cf79ff5bea543abc321b2dfad9fea5e9a5
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Mar 11 09:34:02 2014 -0600

    Adding domain to context
    
    Add support for upcoming "domain" concept in Keystone V3 API in
    the context.
    
    This fix ensures there is a user_identity in the context for the
    corresponding new attribute in the log format string added in oslo. The
    oslo change has the same change-id as this one.
    
    Closes-Bug: #1290503
    Change-Id: Ic2cf3e52cfcc0b8adccdf9c59afaa4014708a303

commit ea7d4a599224b5d0c7674d03993bbe72c49f0d51
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Feb 13 14:54:44 2014 +0100

    Switch over to oslosphinx
    
    oslosphinx is the new name of oslo.sphinx
    
    Closes-Bug: #1277168
    Change-Id: Ib30a4a5eb3a86ad5c03324a59e1a8ee4d4897a70

commit 49deb5c304e7fabccf347025e4e411ed48bda333
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Tue Mar 11 03:34:48 2014 +0000

    Add libffi-dev to list of packages to install in dev env
    
    libffi-dev is needed by cffi
    
    Change-Id: Ib91bd2e1a1005dc96f9d9054ae5cb150c5fae7db

commit 015555acb75ee4d9298915951d2bfaf0d19d2b02
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Wed Dec 4 03:51:20 2013 -0500

    VMware: Take the volume size from the user input
    
    When we create a volume from an image or a snapshot, we need to
    take the size of the volume from the user input and validate whether
    the size is appropriate instead of taking the image size as the
    volume size directly.
    
    Change-Id: If09933d8ffa989c4dacc0860c19ea332bc21092a
    Closes-Bug: #1237557

commit 657b5106c35e2834d75e77e4702b9fd99bde817f
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Tue Mar 11 10:17:32 2014 +0900

    Fix exception message of CoraidESMConfigureError
    
    Since 'message' is the same name as the second argument to the
    constructor of CinderException, 'message="Oorah"' is not a keyword
    argument.
    
    Therefore, "message = _('ESM configure request failed: %(message)s.')"
    doesn't work correctly.
    
    Then, remove the redundant period.
    
    Change-Id: Iafc457197fc3993f9f942babcdda0cd79b7bd518
    Closes-Bug: #1290627

commit 0fc3afdff1a2b87589206ffb22b041d58fe0f99b
Author: Vipin Balachandran <vbala@vmware.com>
Date:   Tue Mar 11 05:51:03 2014 +0530

    vmware: Mark VMware ESX vmdk driver as deprecated
    
    The VMware ESX driver in Nova is now marked as deprecated and will be
    removed in Juno release. This change marks the VMware ESX vmdk driver
    as deprecated since it is intended for use with the ESX driver in Nova.
    The plan is to remove the ESX vmdk driver in Juno release.
    
    Closes-Bug: #1291194
    DocImpact
    Change-Id: I285f3461c1ccef56329b70417fb023405dfceb5e

commit a68d5588a84003977ec987f93e5c4cb824a015fa
Merge: 070cc55 9e858be
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 12 05:37:44 2014 +0000

    Merge "Fixes ssh-injection error while using chap authentication"

commit 070cc55ecd62afb0ef1611c3ff6ed45855652081
Merge: 015555a f460cbe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 11 21:04:21 2014 +0000

    Merge "Generate config samples for oslo.messaging"

commit 9e858bebb89de05b1c9ecc27f5bd9fbff95a728e
Author: Jacob M. Jacob <jacob_jacob@dell.com>
Date:   Mon Mar 10 17:25:41 2014 -0500

    Fixes ssh-injection error while using chap authentication
    
    A space in the command construction was being caught by the
    ssh-injection check. The fix is to separate the command strings.
    
    Change-Id: If1f719f9c2ceff31ed5386c53cf60bc7f522f4d7
    Closes-Bug: #1280409

commit f460cbef29307fa6476bd57bb04607c1b7ec6fa7
Author: Flavio Percoco <flaper87@gmail.com>
Date:   Tue Mar 11 10:33:45 2014 +0100

    Generate config samples for oslo.messaging
    
    This patch adds oslo.messaging to the
    CINDER_CONFIG_GENERATOR_EXTRA_LIBRARIES env variable, which adds
    oslo.messaging config options to cinder.conf.sample
    
    Implements blueprint: oslo-messaging
    
    Change-Id: I8aed8a8fdbd5b4ef41e3a3a7dcdebc6f216ec75d

commit 7f643ca464194067c70d86efdc262daa9d2d3a92
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Fri Mar 7 18:31:26 2014 +0900

    Add conversion types in some strings
    
    Some strings have no conversion types
    for 'String Formatting Operations'.
    
    Change-Id: I2c6176954643a93898ff2d06d686793fb0977458
    Closes-Bug: #1289230

commit 7c2d6fed70b83f79ae58b89b49678516e4ebab26
Merge: aef1229 fb25917
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 11 00:19:48 2014 +0000

    Merge "3PAR: Support extend volume based on snapshot"

commit aef1229acc5c29fad516c0dee9a935b369a1f719
Merge: 175a762 bcd9f36
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 10 21:12:07 2014 +0000

    Merge "Port to oslo.messaging"

commit 175a7622bff7454ac4207b211f0427802aa8e646
Merge: 11c6e44 bc792b4
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Mar 10 20:36:55 2014 +0000

    Merge "Updated from global requirements"

commit 11c6e44b15ba95334c8321067a944b75c0e97061
Merge: 174be82 5c37a03
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 10 20:36:52 2014 +0000

    Merge "Convert cinder utils tests to use mock"

commit bcd9f363ff8a10ff30795c54f471a8c6d76450fe
Author: Flavio Percoco <flaper87@gmail.com>
Date:   Fri Feb 7 12:20:44 2014 +0100

    Port to oslo.messaging
    
    The oslo.messaging library takes the existing RPC code from oslo and
    wraps it in a sane API with well defined semantics around which we can
    make a commitment to retain compatibility in future.
    
    The patch is large, but the changes can be summarized as:
    
        * oslo.messaging>=1.3.0a4 is required; a proper 1.3.0 release will be
        pushed before the icehouse release candidates.
    
        * The new rpc module has init() and cleanup() methods which manage the
        global oslo.messaging transport state. The TRANSPORT and NOTIFIER
        globals are conceptually similar to the current RPCIMPL global,
        except we're free to create and use alternate Transport objects
        in e.g. the cells code.
    
        * The rpc.get_{client,server,notifier}() methods are just helpers
        which wrap the global messaging state, specifiy serializers and
        specify the use of the eventlet executor.
    
        * In oslo.messaging, a request context is expected to be a dict so
        we add a RequestContextSerializer which can serialize to and from
        dicts using RequestContext.{to,from}_dict()
    
        * The allowed_rpc_exception_modules configuration option is replaced
        by an allowed_remote_exmods get_transport() parameter. This is not
        something that users ever need to configure, but it is something
        each project using oslo.messaging needs to be able to customize.
    
        * We maintain a global NOTIFIER object and create specializations of
        it with specific publisher IDs in order to avoid notification driver
        loading overhead.
    
        * rpc.py contains transport aliases for backwards compatibility
        purposes. setup.cfg also contains notification driver aliases for
        backwards compat.
    
        * The messaging options are moved about in cinder.conf.sample because
        the options are advertised via a oslo.config.opts entry point and
        picked up by the generator.
    
        * We use messaging.ConfFixture in tests to override oslo.messaging
        config options, rather than making assumptions about the options
        registered by the library.
    
    Implements blueprint: oslo-messaging
    
    Change-Id: Ib912809428d92e788558439e2d85b51272ebefdd

commit bc792b4b7959072e4e5b35824591396af90c0705
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Mar 10 14:44:55 2014 +0000

    Updated from global requirements
    
    Change-Id: I864af28306bd6d3efc3c1101e3510456465b9a66

commit 174be8249b81d08cb28dd515081d259d57d1a497
Merge: f4b10b8 10c5c93
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 09:44:01 2014 +0000

    Merge "vmware: PBM wsdl file configuration"

commit f4b10b82e6c7d8ad9593ace50c0578ea2cebf67b
Merge: 93bf7bc 07ad47e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 09:43:52 2014 +0000

    Merge "vmware: default global pbm policy configuration"

commit 93bf7bcbd57ccf708e7713fd5e26a7b87e53831f
Merge: 4ab0fdd f8b5c5f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 09:42:04 2014 +0000

    Merge "vmware: check datastore availability during create"

commit 4ab0fdded62f846e39fd035204ecb07f95ab37f2
Merge: 8766f2a 848ef00
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 09:42:00 2014 +0000

    Merge "vmware: Storage policy based volume placement."

commit 8766f2a7e9453ca1f9f2177c58358b587a1fcf9a
Merge: ece0dcf 5cee4f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 07:14:27 2014 +0000

    Merge "get volumes API does not handle limit=0"

commit ece0dcfb28c044cea30e933eb1fbb95bfacb8be9
Merge: a65572c aca0fa8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 07:14:19 2014 +0000

    Merge "gpfs driver: fix logging problems"

commit a65572c35e7df9e5f1c228d6828bfb8f7fcedcad
Merge: b63c027 bbceb94
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 05:04:38 2014 +0000

    Merge "Fixed spelling error - accomodate to accommodate"

commit b63c027860fc0ee0f41a8030adec2cd499fde772
Merge: ae9c73f 8ed3a0a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 8 05:04:19 2014 +0000

    Merge "EMC SMI-S delete snapshot unit test takes too long"

commit 5cee4f41078ff692a37bb4c553f8faa68c782253
Author: Steven Kaufer <kaufer@us.ibm.com>
Date:   Fri Mar 7 04:54:50 2014 +0000

    get volumes API does not handle limit=0
    
    This bug fixes a regression from bug 1288429, where the "next"
    link is added when the number of volumes returned is the
    maximum limit (even if the "limit" param is not specified).
    
    The regression is hit when a "limit" of 0 is specified; in this
    case the logic to create the "next" link is still executed and an
    exception is thrown. The fix is to add back in the "if" check that
    implictly checks if the max_items is non-0.
    
    Test code was also created to verify that a limit of 0 is handled
    correctly.
    
    Change-Id: I92f9afb9b0e2c627d2c77f67fa026b731903384f
    Closes-bug: 1289124

commit 8ed3a0aab4cc7db527a3ab0940e8cb353eb33348
Author: Xing Yang <xing.yang@emc.com>
Date:   Fri Mar 7 13:43:22 2014 -0500

    EMC SMI-S delete snapshot unit test takes too long
    
    EMC SMI-S unit test for deleting snapshot takes too long.
    This patch sets Timout to 0 in cinder_emc_config.xml
    so that it will return immediately.  Without this fix,
    it will wait for 10 seconds by default.
    
    Change-Id: I223f6741a2ce393e555467350201a695ae210152
    Closes-Bug: #1289653

commit fb25917fe17fc80c1ae704759c8f6487ac2e9a22
Author: Ramy Asselin <ramy.asselin@hp.com>
Date:   Tue Mar 4 11:06:59 2014 -0800

    3PAR: Support extend volume based on snapshot
    
    If extend volume fails with an HTTP Forbidden error 150,
    convert the volume to a base volume and retry extending.
    
    Change-Id: Id407058e954b2630f4a7f31c6149361301b502f2
    Closes-Bug: #1285906

commit ae9c73f8bfe1d0cce931ef5974cf1fa9ee536dc1
Merge: 554464d 6338d46
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 7 18:28:29 2014 +0000

    Merge "Re-enable lazy translation"

commit 554464d58efcc24a30f94ea895e903ce741ec97a
Merge: a9afbd8 9550b6b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 7 18:28:13 2014 +0000

    Merge "Sync latest Oslo config code for i18n"

commit a9afbd8d072a9783e24be702175de5101ce9efe9
Merge: d6b3b12 aa6b58b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 7 18:06:36 2014 +0000

    Merge "Sync log.py from oslo"

commit bbceb945f0aefc01ca97e98870d558fc45b336dd
Author: Alex Holden <alex@alexjonasholden.com>
Date:   Fri Mar 7 10:04:15 2014 -0800

    Fixed spelling error - accomodate to accommodate
    
    Change-Id: I88bc2c3034e4fdc19b7d0a0e0ebf7eb5b2ad44f7

commit 23ff56fd47cc7f8b7633573a1e94357985256b14
Author: Simon Lorenz <simon.lorenz@de.ibm.com>
Date:   Fri Mar 7 16:08:13 2014 +0100

    GPFS unit tests: increased coverage, uses mock
    
    Increased unit tests coverage for the GPFS driver 100%.
    All tests make usage of mock.
    This helped to uncover bugs in the error path (see 1289382).
    
    Closes-bug: 1290921
    
    Change-Id: Ic78ac9b49c6e22231b966052f65d8ae07824379e

commit d6b3b128207c2256eff59d73a1a6e45245f2b45c
Merge: c92c105 48955e5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 7 05:24:22 2014 +0000

    Merge "Clean Up EMC VNX Direct Driver in Cinder"

commit 48955e56b886c0da51c1555aca62e099761ad99b
Author: Xing Yang <xing.yang@emc.com>
Date:   Thu Mar 6 16:50:26 2014 -0500

    Clean Up EMC VNX Direct Driver in Cinder
    
    This patch cleans up issues discovered during the review of
    EMC VNX Direct Driver.
    
    https://review.openstack.org/#/c/73672/
    
    Implements blueprint emc-vnx-direct-driver
    Closes-Bug: #1287944
    
    Change-Id: I4002ef9ea14e2d843dd8cbccffa025997a54c738

commit c92c10540c878d1fc25ba1bb6750c26b5dfaae04
Merge: 4a3afd0 b63c28b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 6 23:48:59 2014 +0000

    Merge "Include next link when default limit is reached"

commit aca0fa8354670d2d7b5ae0a65a539db4cf455995
Author: Simon Lorenz <simon.lorenz@de.ibm.com>
Date:   Thu Mar 6 22:36:20 2014 +0100

    gpfs driver: fix logging problems
    
    Fixed the string formatting template issues
    Fixed the name collision on the _ variable by changing the variable name to err
    
    Closes-Bug: #1289382
    
    Change-Id: Id690c2b6dcd5e9732330e6b98be34819586b78fc

commit 4a3afd093eef54fd5c2cc3c992f46e1b41852d3c
Merge: f888e41 52a7d60
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 6 21:03:36 2014 +0000

    Merge "Fix HP LeftHand Performance issue with AO"

commit 5c37a03ea71311f5d3e1372f9e16e32eca002456
Author: Bill Owen <billowen@us.ibm.com>
Date:   Thu Feb 27 10:58:14 2014 -0700

    Convert cinder utils tests to use mock
    
    Convert the tests using mox to use mock.  Also add several
    new tests to increase overall test coverage.
    
    Closes-bug: 1285905
    Change-Id: Ic7ed128e860aec50f135a9fd8728b868b27640ba

commit b63c28b7276d4c320fde8f481f61611d28278900
Author: Steven Kaufer <kaufer@us.ibm.com>
Date:   Thu Mar 6 17:20:50 2014 +0000

    Include next link when default limit is reached
    
    The /volumes and /volumes/details APIs support pagination and a
    "next" link should be included when more data is available. When
    the default "osapi_max" limit is reached then the "next" link is
    not included in the API reply. In this case, the caller cannot
    determine if there are any more volumes and has no marker value
    such that they can retrieve the rest of the volumes.
    
    The fix for this is to include the "next" link when the number of
    volumes being returned is the maximum limit, even if the "limit"
    parameter is not supplied.
    
    Change-Id: I2f04192e67f80232b4019194f718625dbaf78fa6
    Closes-bug: 1288429

commit 6338d4656cb71aeeee2e1a9facb22278e208aa00
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Fri Jan 31 16:46:29 2014 -0600

    Re-enable lazy translation
    
    This patch re-enables lazy translation to enable REST API
    responses to be translated to the requested locale (I.E. setting
    'Accept-Language: zh-CN'.)
    
    This patch also removes the unnecessary manual import of
    'cinder.openstack.common.gettextutils _' in Cinder code.  Since _ is
    still being imported in the cinder.openstack.common files from Oslo
    we still need to set gettexttutils.enable_lazy().  enable_lazy will
    be able to be removed once the manual imports of _ have been removed
    from Oslo.
    
    implements-bp: i18n-messages
    Change-Id: I0b5a35a2cc28d97d12ceccccd58565b487fef428

commit 9550b6b6b486559b7c89b94e7ffb20b794aaa795
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Sun Feb 23 19:51:41 2014 -0600

    Sync latest Oslo config code for i18n
    
    This sync pulls the latest Oslo config code over
    to Cinder.  This sync is needed to include a fix
    to config generator which is needed as part of
    the work to enabled i18n messages.  Config generator
    was failing when lazy message translation was enabled.
    
    The following changes are included with this patch. Each
    patch includes the file(s) the patch touches:
    -> c178e56 Add basic Python 3 tests
    --> cinder/openstack/common/__init__.py
    -> 12bcdb7 Remove vim header
    --> cinder/openstack/common/__init__.py
    -> 547ab34 Fix Copyright Headers - Rename LLC to Foundation
    --> cinder/openstack/common/__init__.py
    -> 44b6ea3 Import oslo.config configuration file generator
    --> cinder/openstack/common/config/__init__.py
    -> dd9aa2b Remove unused variables
    --> cinder/openstack/common/config/generator.py
    -> 5dce17b Use entry points to discover options in libraries
    --> tools/config/generate_sample.sh
    --> cinder/openstack/common/config/generator.py
    -> e8e636c generator: add an EXTRA_LIBRARIES env variable
    --> cinder/openstack/common/config/generator.py
    -> e3dddd7 generator: use EXTRA_* env vars in the bash script
    --> tools/config/generate_sample.sh
    --> cinder/openstack/common/config/generator.py
    -> 6da13e8 generator: rename EXTRA_MODULES_FILE to RC_FILE
    --> tools/config/generate_sample.sh
    -> 763eedf Fix DictOpt support in config sample generator
    --> cinder/openstack/common/config/generator.py
    -> e839886 Config generator fails with lazy messages
    --> cinder/openstack/common/config/generator.py
    -> 343686b Add check_uptodate to tools/config
    --> tools/config/check_uptodate.sh
    
    Oslo version:
    -> 0f24d82 Fix migration.db_version when no tables
    -> Date: Sat, 22 Feb 2014 00:32:18 +0000
    
    Change-Id: I26a95fe96b08d6340b0fce1b9e2949c8e661a946
    Closes-Bug: 1280826
    Related-bp: i18n-messages

commit 52a7d601a0c97ab4eb47b9bf10da19a9f61afe25
Author: Jim Branen <james.branen@hp.com>
Date:   Tue Mar 4 16:38:41 2014 -0800

    Fix HP LeftHand Performance issue with AO
    
    Setting AdaptiveOptimization (AO) to ‘true’, the default value,
    at volume create time significantly slows down the operation on
    the LeftHand array. If at create time, AO is set to ‘true’, it
    will result in an update operation following the create operation
    to set this value. Therefore, it is best to not specify the value,
    when ‘true’, and let it default to ‘true’.
    
    Change-Id: I2c8860e3f25a7bcaa2d2efefeffc1c11319f33e2
    Closes-Bug:#1285925

commit f888e412b0d0fdb0426045a9c55e0be0390f842c
Author: Navneet Singh <singn@netapp.com>
Date:   Thu Feb 13 02:32:08 2014 +0530

    NetApp implementation for copy offload in clustered nfs driver
    
    The Copy offload binary is a special RPC implemented in Ontap that
    allows NFS clients to ask the server to copy data between
    volumes in the same cluster efficiently. The special
    binary will be developed by NetApp and distributed to its customers.
    It will address two copy cases after efficient image clone failed.
    First when image cache file is present in a different share than
    the one holding volume. Second when glance is backed by nfs share
    which is on the same cluster as nfs driver backend. Instead
    of regular http download the copy offload workflow will be used to copy
    image to share and volume. Resubmitting it as there was a problem
    with build in previous submission.
    
    Change-Id: I0847d47cecdec8be2ade06d0ea944cc3fa6f476b
    Implements: blueprint copyoffload

commit 586b284c44e9af827fac6df112598fdac71f94be
Merge: 5fa417d 186f239
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 17:01:22 2014 +0000

    Merge "GlusterFS: Set permissions on qcow2 snapshot files"

commit 5fa417dd99bcbcd45d3e2e0796c2000bf3d987ac
Merge: 383338a 0c33d14
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 14:49:51 2014 +0000

    Merge "Add EMC VNX Direct Driver in Cinder"

commit 383338a188a5098149177bb04b6d542bd1d6eeb4
Merge: 800ead3 cbe1d5f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 14:49:44 2014 +0000

    Merge "Remove str() from LOG.* and exceptions"

commit 800ead31a9662a1228a5813a383886bc2cae7a41
Merge: bbe2ab2 515ccb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 14:47:52 2014 +0000

    Merge "Quota delete operation in cinder"

commit bbe2ab28ae8e94ead3fafe6fab048aad260ad856
Merge: a1c3d3f 1297569
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 12:32:56 2014 +0000

    Merge "Check if snapshot is deleted cleanly."

commit a1c3d3f380235b6e43433589336c49305d46f311
Merge: 8ea425d 3fd1beb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 10:38:19 2014 +0000

    Merge "NetApp eseries iscsi driver implementation"

commit 8ea425df9e5a66975890ce9ccbccdcabb2ea4dfe
Merge: f62fc23 8bdbb24
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 04:23:41 2014 +0000

    Merge "Storwize volume manage/unmanage support"

commit f62fc23f5811b3c855d5d98aa8154517b963250d
Merge: 41b244d e6a3206
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 04:23:31 2014 +0000

    Merge "Volume manage/unmanage support"

commit 41b244def5cfd1fe15fb1a4a6e345ce27e5b79cd
Merge: cf20c69 9bcd728
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 04:22:04 2014 +0000

    Merge "Add user defined extra capabilities"

commit cf20c69024f6ea4f09631c51a2b2ddae044fe4cc
Merge: ee371df 5043773
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 5 00:09:28 2014 +0000

    Merge "Fix HP LeftHand migration with snapshots"

commit cbe1d5f5e22e5f792128643e4cdd6afb2ff2b5bf
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Wed Feb 26 14:40:38 2014 -0600

    Remove str() from LOG.* and exceptions
    
    This commit removes the use of str() from LOG.* messages
    and exceptions.
    
    The reason we need to remove str() is because str() will fail if
    it gets a Unicode string that has something that doesn't translate
    to ASCII in it.  If such a situation is encountered you will lose
    the message string in question.  In most cases, the use of str() is
    unnecessary for LOG.* and exception messages.  Using %s is smart
    enough to figure out what to do with what it is passed.  It first
    tries to str() it, if this fails it falls back to using unicode.  Either
    way, the result will then be something that gettextutils can
    handle and translate.
    
    Change-Id: I6eb81043edd9fa5e035d81ee81e8439340546d24
    Closes-bug: 1274245
    Related-bp: i18n-messages

commit 8bdbb24cc77ef77855b3db5f94e21cb45a3051b9
Author: Avishay Traeger <avishay@gmail.com>
Date:   Tue Mar 4 14:40:01 2014 +0200

    Storwize volume manage/unmanage support
    
    IBM Storwize/SVC support for managing and unmanaging volumes.
    
    Partially Implements: blueprint add-export-import-volumes
    
    Change-Id: Ie90d5c0a18fcfcf7208990abf3476f432ea863c3

commit e6a3206523b8e1a4edd8867a8e7e36a58631d90a
Author: Geraint North <geraint.north@uk.ibm.com>
Date:   Thu Feb 13 09:17:27 2014 -0500

    Volume manage/unmanage support
    
    Implements: blueprint add-export-import-volumes
    
    Volume manage/unmanage support.
    
    This change adds two new API extensions:
    
    volume_unmanage.py:
    Adds an "os-unmanage" action on an existing volume, which causes a
    delete operation to flow through the stack, with a flag that indicates
    that a different method ("unmanage") should be called on the driver
    instead of delete_volume. A default, empty, implementation of unmanage
    is provided.
    
    volume_manage.py
    Adds a new "os-manage-volume" API. A POST to this URI is very similar to
    volume creation, except that the images, snapshots and existing volumes
    cannot be specified. Instead the following must be specified:
    
    host: Cinder host on which the existing storage resides
    ref: Driver-specific reference to the existing storage object
    
    name, description, volume_type, metadata and availability_zone are
    supported as per a normal volume creation.
    
    In order to support some re-use between volume_manage and the regular
    volume creation, add_visible_admin_metadata has been factored out into
    the cinder utils.py module.
    
    The rest of the changes are just the implications of the host/ref
    specification moving through the api, rpcapi, manager and flow (API and
    Manager) layers. Management of an existing volume causes the
    manage_existing_get_size() and manage_existing() methods to be called on
    the driver, and a reference LVM implementation is provided.
    brick/local_dev/lvm.py now includes a method to rename an LV.
    
    Change-Id: Ifc5255b2fd277c0f60d25fc82a777e405b861320

commit 9bcd7285b575cdcf0fe521bf01609bd21c48fd1c
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Thu Jan 9 15:14:11 2014 +0000

    Add user defined extra capabilities
    
    Provide a mechanism that will allow sys admins who are managing cinder
    installations with multiple backends to assign key/value pairs to
    backends. The key/value pairs can be used by the capabilities scheduler
    to select between backends when requests specify volume types.
    
    For example a sysadmin could specify the key 'service_level' with the
    values 'high', 'medium' and 'low' for different backends. The sys admin
    specifies the 'service_level' for each backend in cinder.conf as a json
    string, for example:
    
    extra_capabilities='{"service_level"="high"}'
    
    or
    
    extra_capabilities='{"service_level"="medium"}'
    
    DocImpact
    Implements: blueprint admin-defined-capabilities
    Change-Id: I1ee9dcb22b3f097c3f3b2a70b0cb672930407cc9

commit ee371dfc56e9a633ba56bd05f7a32a1e3744fef2
Merge: ca7415c f48ff3c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 4 08:16:23 2014 +0000

    Merge "remove _check_container_exists from Swift backup driver"

commit ca7415cb560da4429f9409b4290a8f713d8c9e71
Merge: 4e19489 65e1031
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 4 08:03:22 2014 +0000

    Merge "Add versioning output for the FC Zone Manager"

commit 4e1948964a787145dcd08529bc582587d55bc356
Merge: 02d3635 4ffe195
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 4 08:03:05 2014 +0000

    Merge "gpfs volume driver backup file access fixes"

commit 02d3635df65cb11fc2da855d3c863660f9fd1dd1
Merge: 4c326af 0e44ba4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 4 07:36:05 2014 +0000

    Merge "Add initiator_target_map for IBM Storwize/SVC"

commit 4c326afcb19de975412cfd1dd2784a99988a1797
Merge: b0a0447 db29f6e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 4 06:50:41 2014 +0000

    Merge "Remove unused methods"

commit b0a04477ddd117316f0ae18a6f1c324fcd54c77e
Merge: 283af11 1f50d1a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 4 06:49:25 2014 +0000

    Merge "Typo corrections for test files in cinder"

commit f48ff3c851670e6b0e005eca89566c5c970f0b77
Author: Giulio Fidente <gfidente@redhat.com>
Date:   Wed Feb 5 01:13:41 2014 +0100

    remove _check_container_exists from Swift backup driver
    
    The HTTP PUT on a Swift container is idempotent, we don't need to
    check if it exists before uploading a backup.
    
    This fixes a side issue where swiftclient was printing a TRACE of
    the failed HTTP HEAD, previously in use to check if the container
    existed.
    
    Change-Id: I7bc267c948b56e30658997a9743f0d46ebb362ab

commit 0e44ba4c273f41195d0361d3c48df76e2e5add76
Author: Geraint North <geraint.north@uk.ibm.com>
Date:   Mon Mar 3 21:18:03 2014 -0500

    Add initiator_target_map for IBM Storwize/SVC
    
    Basic support to return a map of all initiator to all targets.
    Updated unit test.
    
    Change-Id: I886dd63021130003b1b2dd391542fb2b41b9d51f
    Closes-Bug: #1287476

commit 283af11a06cc4313a6628d0bca3655e83afdc98b
Merge: af74c12 9eb4b9c
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Mar 3 22:40:01 2014 +0000

    Merge "Updated from global requirements"

commit af74c1294b685e68adba91c37c7cff8ce18b55ff
Merge: 34f4b56 0ed57f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 3 19:24:04 2014 +0000

    Merge "Fix docstring ordering"

commit 5043773390e11719b17d4f999a1df58dcab36f7b
Author: Jim Branen <james.branen@hp.com>
Date:   Mon Mar 3 10:53:17 2014 -0800

    Fix HP LeftHand migration with snapshots
    
    Check for snapshots associated with volumes during assisted
    migration, and fail if a snapshot is found.
    
    When a volume is cloned on the HP LeftHand array, a snapshot
    is created and the cloned volume is created from the snapshot.
    The snapshot remains associated with the newly created volume.
    Therefore, backend assisted migration should check for volumes
    with snapshots and not use native APIs to migrate any volume
    that has a snapshot.
    
    Change-Id: I29fc3dbd1f24c01968e7c3d043cdf6b9d1b89ee9
    Closes-Bug:#1285829

commit 9eb4b9c257ddcdf054f4e8e0db672c82060413d8
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Mar 3 16:45:22 2014 +0000

    Updated from global requirements
    
    Change-Id: I1507d3013597e4fbdf8348504f9959d132fc6569

commit 34f4b56a58d74dc9d35b69b7e1996183b1ed096a
Merge: ebf55d5 f7d99b0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 3 11:19:26 2014 +0000

    Merge "Add initiator target map in EMC SMI-S FC driver."

commit 0ed57f3feb83941c84aff1032f47b962b50834b3
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Mon Mar 3 10:20:20 2014 +0000

    Fix docstring ordering
    
    Change-Id: I24e377c13ef7342329ab91925c766c05d5612b5f
    Closes-Bug: bug 1287107

commit 1f50d1a296018eabfdbf57ead20ec3ba1051e086
Author: ramakris <rama.kri.b@hp.com>
Date:   Thu Feb 27 09:26:15 2014 +0000

    Typo corrections for test files in cinder
    
    Correct the typo from follow code files:
    
    cinder/tests/api/contrib/test_backups.py
    cinder/tests/test_migrations.py
    cinder/tests/test_netapp.py
    
    Change-Id: I6aeddfee36ecd101264d73d2e90686df683cc29d

commit 10c5c93925abe3d34c4430e0ed852d8358fb2353
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Wed Dec 11 19:19:37 2013 +0530

    vmware: PBM wsdl file configuration
    
    Currently the PBM wsdl files have to be downloaded to the local file
    system and needs to be configured in 'pbm_wsdl_location'. If it is
    manually configured then PBM feature is enabled.
    
    This patch does away with the manual configuration of
    'pbm_wsdl_location'. PBM wsdl files are now shipped with the driver.
    VC version is fetched from the backend server and the corresponding
    wsdl file is used. If the backend is a VC version that is less than
    5.5 then PBM feature is turned off.
    
    Implements: blueprint vmdk-storage-policy-volume-type
    Change-Id: I559006b532fa39aab6d54cb0b21d5f7afba62af3

commit 07ad47ef80dd71e1216331b3b95f5be280455cbd
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Tue Jan 28 11:09:25 2014 +0530

    vmware: default global pbm policy configuration
    
    Adding support for a global pbm policy configuration for the vmdk
    driver. Setting the 'pbm_default_policy' in cinder.conf will be
    used as the default storage profile name to be used when creating
    a volume without associated vmware:storage_profile extra spec.
    
    Also renaming 'vmware-pbm-wsdl' to 'pbm-wsdl-location' to use
    nova driver's naming convention.
    
    Implements: blueprint vmdk-storage-policy-volume-type
    Change-Id: I7fad167b7be6a479db88fb4d15d07f29afd023b0

commit f8b5c5fc4cba671467b58d698b266dcc956b7b5c
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Fri Jan 24 11:27:43 2014 +0530

    vmware: check datastore availability during create
    
    The vmdk driver does a lazy creation of the volume's backing vmdk
    only at attach time. This is done to save on the huge copy cost
    if the vmdk needs to be moved 'closer' to the VM instance at
    attach time.
    
    Still during a create volume call the driver needs to verify
    availability of a suitable datastore that matches the given
    storage profile as well as capacity to accommodate the given
    volume size. This check needs to happen at three places - create
    volume, create volume from snapshot and create volume from another
    source volume.
    
    Implements: blueprint vmdk-storage-policy-volume-type
    Change-Id: I327bbc4930b4ab4e81627ac7bc48c2048e2078ee

commit 848ef0043f60795db680afe8f67b633459eaf52c
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Wed Dec 11 19:19:37 2013 +0530

    vmware: Storage policy based volume placement.
    
    This change adds a new feature to vmdk cinder driver. Users will be
    able to specify a vSphere storage policy in a volume-type. Creating
    a volume with this volume-type associates the volume with the
    storage policy in vSphere. The driver places this volume only on a
    datastore that satisfies this storage policy.
    
    Implements: blueprint vmdk-storage-policy-volume-type
    Change-Id: I84585e7d5fc8b28f8cfed98cb621b5b6ce9435e0

commit ebf55d5203eae263a7a577767edc250c3a45c138
Merge: 6df2cde 848ae66
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 3 04:18:20 2014 +0000

    Merge "Remove rabbit_notifier (Sync notifier with oslo d6e1ba7)"

commit 6df2cde7bb6dc76f37dcb0b41d5b580a020eea0e
Merge: 55ca367 0f9652d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 3 03:26:03 2014 +0000

    Merge "Replace httplib.HTTPSConnection in unittests"

commit 0c33d1443447e76481fdcc19af1b000d60219d10
Author: Xing Yang <xing.yang@emc.com>
Date:   Fri Feb 14 11:47:33 2014 -0500

    Add EMC VNX Direct Driver in Cinder
    
    This patch implements a driver based on the Cinder iSCSIDrver.
    It performs volume operations on VNX using the NaviSecCLI command
    line tool.  It supports all required driver features.
    
    Implements blueprint emc-vnx-direct-driver
    
    Change-Id: Iec1786612cc19452aca806b41c6be664680a923b

commit 55ca367e7b8645256ac6c5ba5d5544fe12b9a627
Merge: c3214ce c185367
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 3 00:18:01 2014 +0000

    Merge "test_volume unittest fails if ran only this module"

commit c3214cec8ecb394504e5ff2d75b494141797637a
Merge: 03bf403 f0f52a0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 2 23:44:57 2014 +0000

    Merge "Segment LUN clones in NetApp iSCSI"

commit 03bf403ed5d137707aeb381a9a8218a3e228f210
Merge: 22e6045 a2f2a0e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 2 23:32:01 2014 +0000

    Merge "Change RBD delete failure log level to warn"

commit 4ffe195c4ae6a46148e5c464e07c0a399cca05fe
Author: Bill Owen <billowen@us.ibm.com>
Date:   Sat Mar 1 14:36:38 2014 -0700

    gpfs volume driver backup file access fixes
    
    Changes to volume file permission settings require a temporary
    chown to the file being backed up.
    
    Also, use gpfs file clone copy mechanism to create a consistent
    file copy so that the TSM backup service can create a hard link
    to the clone file.
    
    Closes-bug: 1286924
    
    Change-Id: I951ab16788277d0052d1845fad963e9e4cdbc53e

commit 22e60454f7c2d4ce33da72b34abb07cd3c40c479
Merge: 3a0997e c756c41
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Mar 2 21:40:04 2014 +0000

    Merge "Updated from global requirements"

commit 3a0997ed81f518a5233905c38f9b9cd7bde2c6c3
Merge: 157d50a 3764cec
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 2 21:20:41 2014 +0000

    Merge "Deactivate LV before removing"

commit 157d50aeaf4b4227eee5825f05f134bc7a5ef72a
Merge: 25be756 6846ed7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 2 21:12:49 2014 +0000

    Merge "VMware: changing volumeops tests from mox to mock."

commit 25be756c702c53a9188506429029e864d3505926
Merge: 2c44cfa b7d7f9e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 2 20:47:31 2014 +0000

    Merge "Update Oslo wiki link in README"

commit 129756938102b3f8a9bcef9bb4ea76602f70f1e2
Author: Xing Yang <xing.yang@emc.com>
Date:   Sat Mar 1 07:28:02 2014 -0500

    Check if snapshot is deleted cleanly.
    
    This patch added a check in delete_snapshot to make sure the
    snapshot is deleted cleanly.  Without this check, if someone
    tries to delete the source volume immediately after the snapshot
    deletion, it will fail with error that the volume still has
    snapshot.
    
    Closes-Bug: #1286699
    
    Change-Id: Idf4508025b403fa572584e5204b3891375fed6c6

commit 2c44cfa2db0cd1a5ba6c02581b34136d7ee5d4fb
Author: Daniel Gollub <d.gollub@telekom.de>
Date:   Wed Feb 19 07:41:24 2014 +0100

    Restrict rootwrap find filter for IBM NAS and GPFS
    
    Additional make the name of the filter unique, so it does not override
    any other rule. Like the find rule of the NetAppNFS driver.
    Rootwrap is making use of plain python ConfigParser which handles INI files
    with key=value pair like fashion. Where the key is unique.
    
    Related-Bug: 1250101
    
    Change-Id: I56a96084dc736e73e3e9533803f65956699891a0

commit 83a73b12d193fcb7c31f19ec42d69d321b787f52
Merge: 6c346e8 b493dcc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 2 09:50:56 2014 +0000

    Merge "change time.sleep to use loopingcall"

commit f7d99b07f72037b87d5e9f63b48a7c49f7116fe5
Author: Xing Yang <xing.yang@emc.com>
Date:   Sat Mar 1 23:45:45 2014 -0500

    Add initiator target map in EMC SMI-S FC driver.
    
    This patch add the initiator target map in initialize_connection
    and terminate_connection as it is required by the FC Zone Manager.
    
    Change-Id: I84729968b8e4e6ee74536fb28d3d921a9baf9f6e
    Closes-Bug: #1286694

commit 6c346e848a7a959c48c2d82169446a8ae91a371f
Merge: e43678f 5195f95
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 2 01:25:39 2014 +0000

    Merge "Give a way to save why a service has been disabled"

commit e43678f09659e4ab0cd30bfdb3d082ff9b4d8567
Merge: 41b772f 5a6227c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Mar 1 08:26:16 2014 +0000

    Merge "Remove unused variable"

commit 186f23998fcead5992ef95e33b01ed40f4ecaa5f
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Feb 20 11:48:41 2014 -0500

    GlusterFS: Set permissions on qcow2 snapshot files
    
    The GlusterFS driver sets specific permissions on the
    volume file when volumes are created.  Setting them on the
    snapshot files at snapshot creation time is also required,
    otherwise volume attaches will fail for volumes with snapshots
    when using QEMU's libgfapi functionality.
    
    This does not weaken the current security model in any
    significant way, as it only lines up the permissions used
    for snapshot files with those already used for volume files.
    
    This will eventually be addressed by functionality in libvirt:
    https://bugzilla.redhat.com/show_bug.cgi?id=1052014
    
    Closes-Bug: #1286376
    
    Change-Id: I93944724c557c907eb3821a061e7434f09ff20bc

commit 41b772fc09cd839137dabe6648b11798a43fc1e4
Author: Xing Yang <xing.yang@emc.com>
Date:   Fri Feb 28 17:07:32 2014 -0500

    Make EMC SMI-S driver unit tests faster.
    
    Some of EMC SMI-S driver unit tests are very slow.
    This patch uses a fake_sleep in unit tests to return right away.
    
    Change-Id: Ia8a429799066ccde51079be68408498805869774
    Closes-Bug: #1285927

commit b493dcce93418ed09f0e2b7e1dccc20270deb75c
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri Feb 28 11:02:19 2014 -0800

    change time.sleep to use loopingcall
    
    We don't want to block the volume manager from servicing
    requests.  So this patch changes our use of time.sleep
    to use loopingcall wait, which uses eventlet greenthread
    sleep.
    
    Change-Id: I13a1e4932e24ff5f09e35b8baa7c0fd5410388b6
    Closes-Bug: #1286285

commit a2f2a0e0d2f9516d86ef5988e083f70804c3977c
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Feb 28 11:09:27 2014 -0800

    Change RBD delete failure log level to warn
    
    This is a recoverable issue in the backend, so we don't have to provide
    the message on the error level.
    
    Change-Id: I35711876b2c088ad28f32abd39248dc9a467d00d
    Closes-Bug: #1256259

commit c756c415afb523601bc7d59ad8412c6bd5279a00
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Feb 28 17:34:53 2014 +0000

    Updated from global requirements
    
    Change-Id: I2b81e6ae3834c38021e4919cbde807aa2fdcc2f1

commit b7d7f9e135184963af8525c83202a659f4e0d4f2
Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>
Date:   Fri Feb 28 20:17:11 2014 +0800

    Update Oslo wiki link in README
    
    Use lastest Oslo wiki link.
    
    Change-Id: I7f9590804448c9fe2273374b3174a3f45fbf0aae

commit 6b15c40ba9928ea729146948855759d8635c0dde
Merge: e71fa31 14903b4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 28 10:07:08 2014 +0000

    Merge "Python 3: replace "im_self" by "__self__""

commit e71fa31cc13abf532eedba2ae2ba90a101310211
Merge: 2100f98 6af10e8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 28 07:51:16 2014 +0000

    Merge "Restrict rootwrap find filter for NetAppNFS driver"

commit 2100f981d3cd62b92b54c4b3b746a89ae541e85f
Merge: 17a2768 0c6c57d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 28 07:34:07 2014 +0000

    Merge "Fix volume stats with multiple LeftHand clusters"

commit 17a2768b2ede1767ebe43344a9118834c1774c71
Merge: dfa27aa d65d86e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 28 01:43:50 2014 +0000

    Merge "TSM backup driver changes to support file backup"

commit dfa27aaac73decfc45bfd8ca7b7e3b4b9a45a185
Merge: 61e44b4 fb49b47
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 28 01:43:41 2014 +0000

    Merge "Add optional ionice to volume clearing process"

commit 61e44b4acd26b17e2d487512b02e4a209fa3f0d3
Merge: 5011b4c be340fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 28 01:43:14 2014 +0000

    Merge "Don't clear host_state_map when scheduling"

commit 5011b4c4470cba6089a358db897547f7f1ccab7f
Merge: 289aa33 1d6235c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 27 23:42:10 2014 +0000

    Merge "Export and import backup service metadata"

commit 65e1031c6aeaf4d88029e33694c0c32ef81e75a6
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Feb 25 09:47:01 2014 -0800

    Add versioning output for the FC Zone Manager
    
    This patch adds log output of the version
    information for the Fibre Channel Zone Manager
    and it's drivers during volume manager start up.
    
    Change-Id: I7de5159782315f528a25ffdf69a59caebcc46ee7
    Closes-Bug: #1284362

commit 0c6c57d70826b36db30795fa993cf677a4c2a6e4
Author: Jim Branen <james.branen@hp.com>
Date:   Thu Feb 27 10:41:34 2014 -0800

    Fix volume stats with multiple LeftHand clusters
    
    When more than one cluster exists in a LeftHand management
    group, get_volume_stats may return the stats for the wrong
    cluster. This patch fixes the problem by listing the cluster
    name in the getClusterInfo query.
    
    Change-Id: I2d5a76869c6bb1b3d514f0546ea00998e5ee32fb
    Closes-Bug: #1279897

commit 1d6235cc3fb3c7806c2c4671f1c5b03022136008
Author: Ronen Kat <ronenkat@il.ibm.com>
Date:   Thu Jan 23 11:58:58 2014 +0200

    Export and import backup service metadata
    
    Add new admin API for backup-export and backup-import.
    The new commands export the backup details (not actual backup) to
    a string that can be imported again in another OpenStack cloud or
    if the backup database was corrupted.
    The code includes a default backup driver implementation.
    Backup test code converted to use mock.
    
    blueprint cinder-backup-recover-api
    DocImpact new admin API calls backup-import and backup-export
    
    Change-Id: I564194929962e75c67630e73d8711ee6587706d4

commit 289aa334b153dbba69730a425b29299203872e8f
Merge: 8da183f 41f6af9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 27 02:32:57 2014 +0000

    Merge "Add volume metadata backup suport to swift driver"

commit 8da183ff69ef55045c3da9c219171c7583c90c42
Merge: cefca39 5c79c08
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 27 02:25:24 2014 +0000

    Merge "GlusterFS: Increase snapshot delete job timeout to two hours"

commit be340fbd74e0778e04c6e96210947cdb9379fdef
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Thu Feb 27 09:58:17 2014 +0800

    Don't clear host_state_map when scheduling
    
    host_state_map was added to scheduler for the purpose of caching latest
    host_state in memory for scheduler.  With this cache, scheduler has the
    latest host_state (e.g. free_capacity, allocated_capacity, etc) of hosts
    even hosts haven't reported their updated status to scheduler.
    
    Unfortunately, this cache is flushed when scheduling pulling all available
    volume services from DB in current implementation, which is a bug.
    
    This change remove the host_state_map.clear() so that scheduler is able to
    maintain an up-to-date (well, mostly) view of all volume services in memory.
    Also, added code to remove non-active host from the cache every time when
    scheduler handles a new request.  Multi-line docstrings in cinder/scheduler/
    host_manager.py are also fixed.
    
    Change-Id: Ib47be483fa26631a1483721e2ae6d972994e150f
    Fixes-bug: 1271162

commit cefca3957dc28742322d6079e7fb704e32fae7d9
Merge: 04f02ad 0b6a7d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 21:58:56 2014 +0000

    Merge "updating testing readme with more current information."

commit 04f02ad73ae919424943ca3faccae297399d02b8
Merge: 41ddaba b40efb3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 21:58:47 2014 +0000

    Merge "Change warning message in NetApp driver for vsadmin creds"

commit 41f6af9fff822f4e2b5a4f0cbea4429c4a68df93
Author: Duncan Thomas <duncan.thomas@hp.com>
Date:   Tue Feb 25 18:08:04 2014 +0000

    Add volume metadata backup suport to swift driver
    
    Add volume metadata backup support to swift, to match that added to the
    ceph backup driver
    
    Change-Id: I6b872d8c13c94492a9c109707de46aae96222295

commit fb49b475cb69105cfd0123a28a13382a9ed9358e
Author: Duncan Thomas <duncan.thomas@hp.com>
Date:   Wed Feb 19 19:03:24 2014 +0000

    Add optional ionice to volume clearing process
    
    Allow the volume clearing process to have an ionice priority set to
    reduce the performance impact of volume zeroing. Note that this may
    cause volume clearing processes to get backed up on  a busy system, use
    with care.
    
    DocImpact
    Change-Id: I2d556f57aaca8a8ccc6f0f767f1cec28c3f9bc86
    Implements: blueprint when-deleting-volume-dd-performance

commit 515ccb9451940032fa6f296be63698d7f2615e0f
Author: Sergio Cazzolato <sergio.j.cazzolato@intel.com>
Date:   Wed Feb 19 15:53:49 2014 -0300

    Quota delete operation in cinder
    
    This change adds the quota-delete operation to cinder.
    
    It is adding the api and the tests, using the methods already
    implemented in the db to destroy all the quotas for a specific
    project.
    
    Implements blueprint quota-delete
    
    DocImpact
    
    Change-Id: Ia040a20abb831c311eb13624ddecbbf0f12fdd9f

commit 6af10e84e1a3f1e4673bc2f58142269a2bfeefcf
Author: Daniel Gollub <d.gollub@telekom.de>
Date:   Wed Feb 19 07:37:20 2014 +0100

    Restrict rootwrap find filter for NetAppNFS driver
    
    Additional make the name of the filter unique, so it does not override
    any other rule. Like the find rule of the GPFS driver.
    Rootwrap is making use of plain python ConfigParser which handles INI files
    with key=value pair like fashion. Where the key is unique.
    
    Closes-Bug: 1250101
    
    Change-Id: Id2f193485089e12f00008b38fad2b95a09674ff2

commit 5c79c08f7bb88484a96427d30244057f7cd7cdfc
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Feb 26 11:38:29 2014 -0500

    GlusterFS: Increase snapshot delete job timeout to two hours
    
    Increase the timeout for Nova snapshot delete operations from ten
    minutes to two hours.  This helps prevent Cinder from terminating
    operations prematurely that are still being processed by Nova.
    
    It is not uncommon for snapshot delete jobs to run for longer than
    ten minutes depending on the size of the snapshot and speed of the
    storage backend.
    
    This will be followed up with a more robust mechanism to keep track
    of snapshot job progress as a later effort.
    
    Related-Bug: 1273894
    
    Change-Id: I1ad52568aed1ce1bf593e71704e481b6fe5f44fb

commit f0f52a0085a1f5bbd23e6cfa8f0ea935e8fd56c8
Author: Andrew Kerr <andrew.kerr@netapp.com>
Date:   Mon Feb 24 16:25:20 2014 -0500

    Segment LUN clones in NetApp iSCSI
    
    The NetApp ZAPI for clone_create and clone_start has a maximum size.
    This fix breaks the lun into consumable sizes for the ZAPI.
    
    Change-Id: Id4d0872c6099b7cfc73d806d772a3ae051a76b70
    Closes-Bug: 1284182

commit 0b6a7d513c5073f9c424db7665580b8a3f97e011
Author: Dan Radez <dradez@redhat.com>
Date:   Mon Feb 17 10:16:19 2014 -0500

    updating testing readme with more current information.
    
    Change-Id: I3ef39f5484170c1886c3b88e81b42450339a0d39
    Closes-Bug: 1277179

commit 41ddaba58d9cd95e02dc4d9d3c4d67e39eef6678
Merge: ca716ea 38e192a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 12:46:32 2014 +0000

    Merge "Use len instead of for-loop to get the end index"

commit 5a6227c1b0566d2eab2b46b37eb53141449a22ba
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Wed Feb 26 17:35:07 2014 +0900

    Remove unused variable
    
    o cinder/api/openstack/wsgi.py:_CONTENT_TYPE_MAP = {
    
      This variable was added in the following commit.
    
        commit c53d8e343e50d4cf7ea9a6a81258848c2d893bfb
        Author: Jenkins <jenkins@review.openstack.org>
        Date:   Thu May 3 10:48:26 2012 -0700
    
            Initial fork out of Nova.
    
      But there is no evidence that was used.
    
    Change-Id: I6af64126cf1747ded3369a6237a4cb6cfd250922

commit 14903b4ca7d625b8e93fe431f854263bbe26e4bc
Author: Shuangtai Tian <shuangtai.tian@intel.com>
Date:   Thu Feb 20 14:43:11 2014 +0800

    Python 3: replace "im_self" by "__self__"
    
    The Python 3 removed the "im_self" attribute and only supports the
    "__self__". This patch replaces "im_self" by "__self__" attribute.
    
    Closes-Bug: #1282514
    Change-Id: Ib017fff4b720a5dd7ee27fd01b36a531d9b6ca9c

commit ca716eab6e7c3f32931b64c389dbae52d4869373
Merge: 5fb0289 85239cc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 06:30:59 2014 +0000

    Merge "Update FibreChannel Zone Manager config"

commit 5fb0289cad6a19a20135730eb3289259cfd0e691
Merge: b554607 61e501e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 06:20:45 2014 +0000

    Merge "Fix test_delete_should_not_.. to assert something"

commit b554607a7b0831b38343286ffa15255e2d626a89
Merge: 93667cb 5606788
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 04:05:04 2014 +0000

    Merge "Fix silly error in comment"

commit 85239cc81440d9e5a4aee3c0961c96a4197ad939
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Feb 24 12:10:52 2014 -0800

    Update FibreChannel Zone Manager config
    
    This patch changes the way the config options are
    layed out in the cinder.conf to follow the
    standards for grouping settings together.
    
    Instead of using dynamic config names to group
    settings together by fabric name, we look for
    fabric groups based upon the fc_fabric_names.
    We also create a new fc-zone-manager group
    for all of the global fczm settings.
    
    Change-Id: I91c8a05adec2fb12f664ca0df6007465c1a460e0
    Closes-Bug: #1284338
    DocImpact

commit 93667cb6bb24b80adce4bbfd611e1c3884a088b7
Merge: 5642b93 e088c73
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 01:08:09 2014 +0000

    Merge "3PAR: Fix extend volume GiB to MiB"

commit 5642b933844a742ed020f98606c654771efa2d1b
Merge: bcbca12 9090f99
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 26 01:08:00 2014 +0000

    Merge "3PAR: Create volume from snapshot with larger size"

commit bcbca12c245645bfc5b24c848a474cc23438b6a5
Merge: 76bf0c3 57c6e2f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 20:50:32 2014 +0000

    Merge "Brick support for pNFS"

commit 76bf0c330cba739e2c4de3725bf446eaf31f7364
Merge: 01959b7 4cac1bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 20:47:30 2014 +0000

    Merge "Storwize/SVC: Change volume copy task to async"

commit 01959b79b3c0c1b052f30eefa2699b19870406a7
Merge: bb0b144 48d2b1c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 20:47:21 2014 +0000

    Merge "Replace tearDown with addCleanup"

commit bb0b14449303bbc75a678d6864c3e6e69aa201b8
Merge: a22f22c e3eb709
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 20:47:11 2014 +0000

    Merge "Removes use of timeutils.set_time_override"

commit b40efb3633b4bffada4d5f191d26c4c75da9815e
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Tue Feb 25 11:44:14 2014 -0800

    Change warning message in NetApp driver for vsadmin creds
    
    The new warning messages explicitly lists the extra_specs that
    can't be supported depending on the access level fo the creds
    that were provided. Also corrects a spelling error for the
    netapp_nodedup extra_spec.
    
    Change-Id: I1b27d9f4043321a4812e4e457c32a1040676c8e5
    Closes-Bug: 1284796

commit e088c73b185073943d9b18b7ede0375c096ee8b3
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Tue Feb 25 08:30:01 2014 -0800

    3PAR: Fix extend volume GiB to MiB
    
    Extend volume was sending GiB instead of MiB to the 3PAR
    array. This patch is now sending the growth size in MiBs
    instead of GiBs.
    
    Change-Id: Ib4903315a32e090e760883cc80c50f3698fe015f
    Closes-Bug: #1284368

commit d65d86e15c7f50b2a5b7ad1422771601479c632f
Author: Bill Owen <billowen@us.ibm.com>
Date:   Thu Feb 13 14:55:47 2014 -0700

    TSM backup driver changes to support file backup
    
    Extend TSM backup driver to support backup of file based volumes,
    as well as restore and delete of the backups.  This in addition
    to the current block based volume support.  This involves determining
    the type of volume this is requested to be backed up, and modifying
    the dsmc command options accordingly.  When a volume is backed
    up, the backup mode and backup path are saved in the backup
    service_metadata for use on restore and delete operations.
    
    This commit includes some further refactoring based on pylint
    feedback and system testing.
    
    Implements: blueprint tsm-backup-driver-enhancement
    Change-Id: Ic994a8c2f7302e59358dd858b50df746c9a7d76f

commit 560678884a67644a5ee3ac40f6b54f942ffe7c2a
Author: Duncan Thomas <duncan.thomas@hp.com>
Date:   Tue Feb 25 17:56:56 2014 +0000

    Fix silly error in comment
    
    Fixing since it threw me for a second or two...
    
    Change-Id: I53ecbe8a7bf31bd5c88cb0d025ff3d46aa741ce9

commit a22f22cffc907c3307257ae36c7fbd967cb94e44
Merge: 2e68f5c cfac9c7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 18:59:02 2014 +0000

    Merge "Fix free_capacity reporting in SolidFire driver"

commit 9090f99986c5b2cf725814e6ab64fd2d2a829d3e
Author: Ramy Asselin <ramy.asselin@hp.com>
Date:   Mon Feb 24 14:54:08 2014 -0800

    3PAR: Create volume from snapshot with larger size
    
    Refactored the migrate_volume code to be usable by both migrate volume
    and create volume from snapshot with a larger size. The common functionality
    is to clone a volume as a base volume. Migrate volume specifies a different
    CPG, whereas create volume from snapshot uses the same CPG.
    
    Change-Id: I4081807294d918fc0e9c2e17bae89b6df7ee1513
    Closes-Bug: #1279478

commit 2e68f5c566bcae5b78f8400ac8ad976d4cfdef5e
Merge: 09855d8 aa7dd43
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 17:17:11 2014 +0000

    Merge "Use six.StringIO instead of StringIO.StringIO"

commit cfac9c7945f3cd5d39b7f6bd8950427a144b889d
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Feb 24 23:02:11 2014 -0700

    Fix free_capacity reporting in SolidFire driver
    
    The SolidFire driver reports capacity info in bytes, the
    capabilities update reports available_GB.  Sadly we neglected
    to convert the bytes to gigibytes here which made for a VERY
    large backend and caused things like capacity filtering to not
    work correctly.
    
    This patch just adds conversion to GiB when reporting capabilities.
    
    Change-Id: I62c6ad2edd8c2ced344df766c198504894f4902b
    Closes-Bug: 1284452

commit 61e501e51902ebbf95c644199bfdcc9e5cd4867a
Author: Alex Meade <mr.alex.meade@gmail.com>
Date:   Mon Feb 24 14:08:37 2014 -0500

    Fix test_delete_should_not_.. to assert something
    
    This changes test_delete_should_not_delete_if_provider_location_not_provided
    to assert the case it is testing.
    
    Closes-bug: 1284263
    
    Change-Id: I25160140e15721e0de4251ba2373a560d4b0ad46

commit 09855d8484b6ab3ed0bf7e04d58cd3fc904af6a0
Author: Alexander Bochkarev <abochkarev@mirantis.com>
Date:   Tue Feb 25 15:32:11 2014 +0400

    Replace assertEqual(None, *) with assertIsNone in tests
    
    Replace assertEqual(None, *) with assertIsNone in tests to have
    more clear messages in case of failure.
    
    Change-Id: I2560aa559580fb068eb27174c9a7c8cd57e11b69

commit 48d2b1cb01b6f5e3be82207460dce6b42587e81b
Author: Julia Varlamova <jvarlamova@mirantis.com>
Date:   Wed Feb 12 18:52:45 2014 +0400

    Replace tearDown with addCleanup
    
    Infra team has indicated that tearDown should not be used and should
    be replaced with addCleanup in all places.
    
    This patch replaces tearDown with addCleanup methods in cinder/tests/api.
    
    Implements blueprint replace-teardown-with-addcleanup
    
    Change-Id: I640c1985bf7fce6f2fbd4de8e56448b6c9af51ca

commit aa7dd439c580378b1ca2d647c7c2b0c32289b2f1
Author: He Yongli <yongli.he@intel.com>
Date:   Mon Feb 17 12:42:33 2014 +0800

    Use six.StringIO instead of StringIO.StringIO
    
    to keep Python 3.x compatibility, use six.StringIO/BytesIO to
    replace StringIO.StringIO
    
    StringIO works for unicode
    BytesIO works for bytes
    
    Change-Id: I5e40809b2347d4dbe031ba92dac4848b044d3af6
    Closes-Bug: #1280100

commit ee1b6428c7370fe1c488ec74ac87f7388c628677
Merge: 91431b7 e31b9e7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 07:03:04 2014 +0000

    Merge "3PAR: Delete missing snapshot stuck in error_del"

commit 91431b724f499cd1cda29330874472517c581efb
Merge: 3b0c127 da70f88
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 06:59:11 2014 +0000

    Merge "Implement retype in IBM GPFS Driver and refactor"

commit 3b0c127330c135059ca1f4dd5fe632967fdff2e8
Merge: 03918a3 5238918
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 06:59:02 2014 +0000

    Merge "Added 3par initiator target map for FCZM"

commit 03918a3b828643a6c150768535ecb4ff685d01d1
Merge: 2762763 5074cf5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 25 06:25:18 2014 +0000

    Merge "Fix invalid facilities documented in rootwrap.conf"

commit 27627631d4a0a477570b6f8b1bf17cd772208d72
Merge: f2137b3 115b627
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 22:54:29 2014 +0000

    Merge "Fix race in test_delete_backup"

commit da70f8804ec72d5e3f1f88e9559d26c8fb7d29fe
Author: Bill Owen <billowen@us.ibm.com>
Date:   Thu Feb 13 07:54:33 2014 -0700

    Implement retype in IBM GPFS Driver and refactor
    
    1. Add retype method to GPFS driver.  Currently only storge_pool
       attribute is handled.  Future patches will extend this.
    2. Refactor migrate method to handle migration locally if source
       and target are in the same gpfs cluster.
    3. Move driver into 'ibm' directory.
    4. Refactor based on pylint feedback.
    5. Replace mox with mock in unit test.
    6. Improve exception handling and logging.
    
    DocImpact
    
    Implements: blueprint gpfs-volume-retype
    Change-Id: Ibc3bc367e5d42940c69d6747774c82c8cad22a35

commit e31b9e78374bcaeae573cce2915897ceb870ffc3
Author: Ramy Asselin <ramy.asselin@hp.com>
Date:   Mon Feb 24 12:29:01 2014 -0800

    3PAR: Delete missing snapshot stuck in error_del
    
    If the snapshot is deleted outside of cinder, attempting
    to delete it again results in the snapshot state stuck in
    error_deleting.
    
    This is because the current code raises a NotFound exception,
    but the base cinder code does not catch this and update its db.
    
    Instead, log a warning, and simply tell the base cinder code that it was
    successfully deleted.
    
    Change-Id: I5c5d24bc113e320346ff4f1f4f62fffdf7cddfc4
    Closes-Bug: #1283233

commit 52389188372b38ef237898e90cc533cf27d3eda1
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Feb 24 11:35:32 2014 -0800

    Added 3par initiator target map for FCZM
    
    This patch adds the required initiator target map
    for the Fibre Channel Zone Manager.   The
    FCZM looks for the initiator_target_map to try and
    automatically zone up the endpoints.
    
    Change-Id: I61aaf31752f8a5eebb672887c9a943584df66995
    Closes-Bug: #1284275

commit f2137b37e89de52443152ac51e2d117333dbb2fb
Merge: 07ce6ac ec7f21f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 19:00:58 2014 +0000

    Merge "3PAR: Backend assisted volume migrate"

commit 07ce6acaaba4432037dab35eb7f8527355c37c35
Merge: 7d7fde3 3caa76a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 19:00:49 2014 +0000

    Merge "Add encrypted flag to volumes"

commit 7d7fde31baf5017ae0b6657653e663074a9d515e
Merge: 2021a1a 9a8d41e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 18:07:22 2014 +0000

    Merge "Sync oslo imageutils, strutils to cinder"

commit 2021a1a96db3cc5a9b24efbfd161d3a7742c734a
Merge: d8cb56a d8fcf93
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 18:07:19 2014 +0000

    Merge "Add support for FC zone lifecycle management"

commit 115b6276ac3dd7b3e8c6a42e9d0d80709791b7a2
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Feb 24 19:55:15 2014 +0200

    Fix race in test_delete_backup
    
    Unit test sporadically failed due to timing issue - the deletion
    timestamp on the backup was exactly the same as timeutils.utcnow(),
    causing the AssertGreater check to fail.  Change to AssertGreaterEqual.
    
    Change-Id: Ia66d0d4bdae3242780a91f0d384cbd17caa8c197
    Closes-bug: #1284227

commit d8cb56a045e071a77053bbbc75992225a82fc983
Merge: f385908 4c8f269
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 17:26:20 2014 +0000

    Merge "Add x-openstack-request-id to cinder responses"

commit f385908e99991afd373ead0a5774934ba1f84f70
Merge: a655ba5 2e323ba
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 17:04:29 2014 +0000

    Merge "Driver for IBM SONAS and Storwize V7000 Unified"

commit 2e323ba7b154c6bdb76a4c018e99004dabcb8420
Author: Nilesh Bhosale <nilesh.bhosale@in.ibm.com>
Date:   Fri Dec 27 09:02:56 2013 +0530

    Driver for IBM SONAS and Storwize V7000 Unified
    
    The IBM NAS Driver currently implemented to work over NFS protocol,
    and implements required set of features for OpenStack Icehouse release,
    using the features of these storage products. It allows IBM® SONAS®
    and Storwize® V7000 Unified filers to host storage for OpenStack
    environment by integrating with Openstack Cinder service.
    
    DocImpact
    
    Change-Id: I0d630bf7e69454b88e9d1e93b4099631f6138204
    Implements: blueprint ibm-nas-volume-driver
    Related-Bug: #1281152

commit a655ba547c34a5711328650c3fe52677d87239bd
Merge: 71c15c8 65c635d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 09:32:32 2014 +0000

    Merge "Nexenta iSCSI driver: fixed volume_migration"

commit 71c15c8426080871362a2d18282bb761551de6f8
Merge: 05c14e7 13f0468
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 08:39:02 2014 +0000

    Merge "Change default policy for volume_extension:volume_tenant_attribute"

commit 05c14e7397624a3165618260a506ca4e98101e6c
Merge: a0b150c 182e071
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 08:16:24 2014 +0000

    Merge "Fix FC connection handling in the storwize driver"

commit a0b150c9088e2fb037827c8fc86ed2337e98f945
Merge: f028c8a 330a476
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 24 08:16:16 2014 +0000

    Merge "Fix webob.exc.HTTPForbidden parameter miss"

commit 330a476f8a82c672d636d7da78b81cc46db1e9dd
Author: Haiwei Xu <xu-haiwei@mxw.nes.nec.co.jp>
Date:   Mon Feb 24 20:39:19 2014 +0900

    Fix webob.exc.HTTPForbidden parameter miss
    
    HTTPForbidden should use the parameter 'explanation'
    instead of 'detail'.
    This patch fixes this bug.
    
    Change-Id: I688145f7ea942277c7d3ed3221d6ff2bc7a852ad
    Closes-Bug: #1283872

commit c9c6befe7e19adc168aefe1cfaeac8d68dd398fa
Author: liyingjun <liyingjun1988@gmail.com>
Date:   Fri Feb 21 02:58:58 2014 +0800

    Add snapshot related data to limits api
    
    When calling the limits api we can only get Volume and Gigabyte data,
    the snapshot related limit value should be returned too.
    
    Change-Id: I6a5e1e2d1aa6abbac5d5dacd042223ce49207c1f
    Closes-bug: 1282924

commit 4cac1bd3227fd8b65744e75f0df018fb34bcb1c1
Author: LarryLiu <liminliu@cn.ibm.com>
Date:   Fri Feb 14 15:46:07 2014 +0800

    Storwize/SVC: Change volume copy task to async
    
    If Cinder crashes during a migration or retype (where data is moved and
    the operation can take a long time), the storage ends up with multiple
    copies of the same volume which requires storage admin intervention.
    
    This patch maintain a list of pending operations which is backed up in
    admin metadata, and a periodic task reviews the list and removes volume
    copies whose copy operation completed. When Cinder comes up, check the
    admin metadata and rebuild the list.
    
    Change-Id: I6549712bb0083996faced89c2207a4c438ae953d
    Closes-Bug: #1278035

commit 182e071a113fef7138a77bfae0d3b432e875d289
Author: Zoltan Arnold Nagy <nag@zurich.ibm.com>
Date:   Wed Feb 12 23:01:10 2014 +0100

    Fix FC connection handling in the storwize driver
    
    Creating FC connections was not working due to several issues:
    
    1. The lsfabric command in the Storwize/SVC omitted the delimeter and so
    the output was not correctly parsed by the driver.
    2. In some cases comparisons of WWPNs were not case insensitive - ensure
    we compare lower-case WWPNs.
    3. If the host supplied extra information in the connector (e.g. iSCSI
    initiator name in case of an FC setup, or FC WWNNs/WWPNs in an iSCSI
    setup), the driver would try to make those host mappings on the storage
    too.  This could lead into unwanted behaviour and confusing error
    messages (for example, in an FC setup reaching the maximum number of
    iSCSI mappings).
    
    In addition, unit tests weren't properly testing FC - instead they were
    always testing iSCSI due to an error in parsing extra_specs. This patch
    fixes that error and the unit tests as well.
    
    These changes must all be made together for unit tests to pass.
    
    Closes-bug: 1279758
    Change-Id: I64e21609ba089cf5bfd52ce2644f6f229bcc69dc

commit aa6b58b5d21ab35e3a32858e3131679b933cef27
Author: liyingjun <liyingjun1988@gmail.com>
Date:   Thu Jan 16 07:03:28 2014 +0800

    Sync log.py from oslo
    
    This change syncs log.py from oslo-incubator with the
    following commit:
    * Backport 'ident' from python 3.3 for Oslo's SysLogHandler
      79e8a9a08daf563aa8a8d9280c9a6a27dcafc8f2
    * default connectionpool to WARN log level:
      1978114030c275c571a1786644a5e0d51ada29c0
    * Fix deprecated messages sent multiple times
      52b64466177b58c8e80bc72c5ce1e940782c969a
    * Remove None for dict.get()
      86707cd5c01a2de6b9ba386d7ea4f72c9c7286b1
    * Rename Openstack to OpenStack
      61ff7a66fef51ba2a783a5ed87e14256a6e9432c
    * Use ContextFormatter for imparting context info
      dda47c9cef19c5d8f050cf5081535b4061024457
    
    Change-Id: I14c3d7eccc596783e380ebd57110337d3ce49038
    Closes-bug: 904307

commit f028c8ac509acac69f29323fd9fefea143693a75
Merge: c2807f0 a6c8a8c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Feb 23 13:00:13 2014 +0000

    Merge "Remove old driver mapping deprecation"

commit 0f9652d92e175a1f7dc3c2a37ab444b8f189375a
Author: Daniel Gollub <d.gollub@telekom.de>
Date:   Sun Feb 23 09:30:00 2014 +0100

    Replace httplib.HTTPSConnection in unittests
    
    SSL Verification is from now on enabled by default for the
    TestOpenStackClient. So far no unittests was making actively use of
    httplib.HTTPSConnection.
    
    Intention is to reduce noise of audits/scanners which look for Python 2.x
    httplib.HTTPSConnection missing SSL verification. By completely abandoning the use
    of httplib.HTTPSConnection.
    
    Change-Id: Ic0352cf453d5c41f09084a6d68b3393b8ddda84a
    Partial-Bug: 1188189

commit d8fcf93c91c856c3e895a85df6fb8fddac8e715d
Author: Santhoshkumar Kolathur <skolathu@brocade.com>
Date:   Fri Aug 30 19:48:52 2013 -0700

    Add support for FC zone lifecycle management
    
    Allows automated zone lifecycle management in the attach/detach
    entry points of the volume manager for FC volumes (when fabric
    zoning is enabled). Zones are configured automatically as part
    of the active zone set in the FC SAN to provide a more flexible
    and secure way of controlling access. FC zone manager enables
    SAN vendors to add support for pluggable implementations.
    
    Change-Id: I86e02e11afec71ffa25dfbcbd0dc3ddcc35741ea
    Implements: blueprint cinder-fc-zone-manager

commit 5195f95eb6c1deaf1acd2dd0b16025974ed6ec18
Author: Jay Lau <liugya@cn.ibm.com>
Date:   Sat Feb 22 05:47:47 2014 -0500

    Give a way to save why a service has been disabled
    
    Port from nova https://review.openstack.org/#/c/26020/
    
    We added a field to the table of service to log a reason when a
    service has been disabled.
    
    We added a new API extension called os-extended-services.
    
    The new extension will extend the os-services extension adding a
    method for disabling a service and specify a reason for that:
    PUT /v2/{tenant_id}/os-services/disable-log-reason
    
    When the os-extended-extension is loaded the call:
    GET /V2/{tenant_id}/os-services
    will return the list of services with disable reason information
    if that exists.
    
    DocImpact
    
    Change-Id: I885e43132b0e49b63f7858abd3fcffe1b78d3fd8
    Implements bp record-reason-for-disabling-service

commit c2807f0ed41670f63fea15bbd44981509e5662e4
Merge: b996096 1586b2f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 22 05:05:11 2014 +0000

    Merge "Add HP MSA Fiber Channel driver"

commit b996096375dec153be66755f3ba38446f275af94
Merge: f3df7ef 6427b55
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 22 02:07:10 2014 +0000

    Merge "Use six.moves cStringIO instead of cStringIO"

commit a6c8a8c5c2aebb8b08a84dc64ccbe4076c1bbd44
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Feb 17 18:21:12 2014 -0800

    Remove old driver mapping deprecation
    
    This deprecation was introduced back in Grizzly, which will be EOL after
    IceHouse. Removing to clean things up.
    
    Change-Id: I509bb4115c3c88a7af7326125feb760f20847b8d

commit f3df7ef59db310fb96571b89c128089a5b3517a3
Merge: 539c1af 6966a00
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 21 19:15:22 2014 +0000

    Merge "Add support for qos_specs feature to 3PAR drivers"

commit 539c1aff7480cb98fb3343a644e72f9326a36b05
Merge: 4d4b5f7 dfb1a09
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 21 19:10:05 2014 +0000

    Merge "Update 3PAR drivers to pass cert test"

commit ec7f21ff8b8c15734ab845ee10187a1005e979fd
Author: Ramy Asselin <ramy.asselin@hp.com>
Date:   Wed Feb 12 16:23:15 2014 -0800

    3PAR: Backend assisted volume migrate
    
    This patch implements volume migrate using native 3PAR APIs.
    
    Prerequisites:
    1. Same 3PAR backend
    2. Volume cannot be attached
    3. Source and Dest CPGS are in the same domain
    
    Steps:
    1. Create a temporary volume in the destination with a copy of the source
    2. Wait for the copy to complete
    3. Delete the source
    4. Rename the temporary to the same name as the original
    
    Change-Id: Ia42503d41bf8afd908cd3ffb0288f0d353f313f1
    Implements: blueprint native-3par-migrate-volume

commit 4d4b5f78350f05a851091721885affe2863d2903
Merge: 11e875c b1e7d0a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 21 00:18:54 2014 +0000

    Merge "Ensure return for db api functions"

commit 11e875cd58bc7bd193238890ad7340d29e9b3984
Merge: 97c7c7f b0ac829
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 20 20:08:44 2014 +0000

    Merge "Update gpfs driver volume creation process"

commit 97c7c7f2c6270cc65f3f97ac7c9e40fb5c76aa9e
Merge: df852cf efd4ff9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 20 16:35:58 2014 +0000

    Merge "Remove unused function"

commit 1586b2f947c78bded4785aad1d39cbf415d96e4d
Author: Gauvain Pocentek <gauvain.pocentek@objectif-libre.com>
Date:   Thu Feb 13 21:34:59 2014 +0100

    Add HP MSA Fiber Channel driver
    
    This commit implements a driver for the HP MSA arrays. Only Fiber
    Channel is supported for now.
    
    Implements: blueprint add-msa-2040-driver
    DocImpact
    Change-Id: I75232cafadf7f6d15c5959d6c054f2e0f4d14e2c

commit b1e7d0ad220d869323754683dbb447f6821ef705
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Feb 20 13:22:37 2014 +0200

    Ensure return for db api functions
    
    Functions in db/api.py should return whatever the implementation of
    those functions return. This is important for qos_specs_update which
    returns something for the sqlalchemy implementation, but for others as
    well for future implementations.
    
    Added 'return' for functions that were missing it.
    
    Change-Id: I384b1cf915b2d2238fd75d23b17558cae2cf9f50
    Closes-Bug: #1272365

commit df852cfe7fe308ce9a6d63e03d7371a006c4de1f
Merge: 1409e8c 8eb3551
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 20 10:11:35 2014 +0000

    Merge "HP LeftHand Backend assisted volume migrate"

commit 1409e8c1df82b838d3e882e6a0ad52dfbef2e1b8
Merge: 7f7997d 2d24077
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 20 03:30:30 2014 +0000

    Merge "IBM XIV and DS8000 Driver reorganizing (IBM dir)"

commit 7f7997d3b4721805adaebecf14f5edd2044652d0
Merge: b21d0c5 143cba5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 19 23:17:02 2014 +0000

    Merge "GPFS:  Implement volume backup and restore"

commit 8eb35516bda872220c5c044638365c87bcf35f33
Author: Jim Branen <james.branen@hp.com>
Date:   Fri Feb 14 16:02:55 2014 -0800

    HP LeftHand Backend assisted volume migrate
    
    This patch implements volume migrate using native LeftHand APIs.
    
    Limitations:
    1. Same LeftHand backend
    2. Volume cannot be attached
    3. Volumes with snapshots cannot be migrated
    4. Source and Destination clusters must be in the same management group
    5. Volume re-type not supported
    
    Change-Id: I503d5a10ee59db14130c676a5c3a07abf9a2b7af
    Implements: blueprint native-lefthand-volume-migrate

commit 6966a00065c9e092d90161e1f40e9455174bd4d9
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Tue Feb 11 17:38:13 2014 -0800

    Add support for qos_specs feature to 3PAR drivers
    
    This patch includes the ability to set the qos-specs for the
    existing 3PAR qos settings (maxIOP and maxBWS) in addition to
    the new settingis listed below. We would prefer that the
    new qos-specs associated to a volume type be used, but this
    patch also supports setting these values the old way in extra-specs
    for backwards compatibility.
    
    This patch also adds two additional personas to the list of
    valid personas that are now support by the 3PAR backends.
    
    DocImpact: Implements new qos settings
    minIOPS - The minimum IOPs per second
    minBWS - The minimum bandwidth per second
    latency - The QOS I/O target latency
    priority - The QOS scheduling priority (high, normal, low)
    The priority defaults to normal
    
    Two new personas added include HPUX and WindowsServer
    
    Change-Id: I7f94a493919dc2d34daac91d684369d1f51c974c
    Implements: blueprint add-qosspec-support-to-3par-drivers

commit 4c8f269dd19c742bd80ce3ff7db55ff53be4af7d
Author: Chris Buccella <buccella@linux.vnet.ibm.com>
Date:   Fri Feb 14 23:29:28 2014 +0000

    Add x-openstack-request-id to cinder responses
    
    x-openstack-request-id is the common header name for request ID going forward.
    Currently, only glance and neutron return this header. Using the request_id
    middleware is a convenient way to ensure this header is in the response. We will
    also be using the middleware to generate the request ID.
    
    The ID will be generated by the middleware and is inserted into the request
    environment. The current code generates the request ID in the constructor of
    RequestConext; with this change, the ID is generated beforehand and passed in to
    the RequestContext constructor. Not much different here: a request ID is
    generated and is available for use in the handling of the request.
    
    On the response end, the middleware is again used, this time to attach the
    x-openstack-request-id header, using the value of the generated request ID. The
    current code attaches the x-compute-request-id header.
    
    This change is a necessary step toward logging the mapping of request IDs across
    OpenStack services.
    
    UpgradeImpact: api-paste.ini is modified
    
    Change-Id: I30c4e5efa77f9ebffb485d2ea6a6c3f78eb1573f
    Implements: blueprint add-standard-req-id-header

commit b21d0c51fed327e827447119d97f56023bb5ef38
Merge: 4d5dc69 7e36984
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 19 17:06:17 2014 +0000

    Merge "Sync request_id, request_utils for cinder"

commit dfb1a090334d705425e739e8174a9c1c07009433
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Feb 10 13:09:28 2014 -0800

    Update 3PAR drivers to pass cert test
    
    This patch updates both the HP 3PAR Fibre Channel
    and HP 3PAR iSCSI block storage drivers so that they
    can pass the driver certification tests.  We also updated
    the unit tests to use mock instead of mox.
    
    These versions of the drivers require the new 3.0.0 hp3parclient,
    which can be downloaded from the pypi repository:
    https://pypi.python.org/pypi/hp3parclient
    The new hp3parclient requires the 3.1.3 firmware on the HP 3PAR.
    
    The driver certification results:
    Related-Bug: #1278575
    Related-Bug: #1278577
    
    Closes-Bug: #1279137
    
    Change-Id: I72e0a76c865e54c58e41cc4409555d9042e30267
    DocImpact: Document new driver requirements.

commit 4d5dc69f089d05dc06e31f3ababd1db917f9f8b5
Merge: a1d78df fa51dab
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 19 16:58:21 2014 +0000

    Merge "Implement retype in HP LeftHand driver"

commit efd4ff9c2584de9acfbae432f889e222f5058ea1
Author: Wu Wenxiang <wu.wenxiang@99cloud.net>
Date:   Wed Feb 19 21:58:48 2014 +0800

    Remove unused function
    
    Romove unused function stub_out_rate_limiting in
    cinder/tests/api/fakes.py
    
    Change-Id: Ib6fea599eacb140108ca4293cdd089b010a8b979
    Closes-Bug: #1282098

commit 38e192afecd0d08921d4fb4d7166fa156addb6a4
Author: Wu Wenxiang <wu.wenxiang@99cloud.net>
Date:   Wed Feb 19 21:39:41 2014 +0800

    Use len instead of for-loop to get the end index
    
    Use len() instead of for-loop to get the end index in file
    cinder/tests/test_backup_tsm.py
    
    Change-Id: I3a7b0e418f8af4881e21eb5273a03dbcd317c27d
    Closes-Bug: #1282084

commit a1d78df1b7c95dbb5024023662932cd94313dd58
Author: Andrew Kerr <andrew.kerr@netapp.com>
Date:   Tue Feb 18 17:38:12 2014 -0500

    Ensures NetApp iSCSI driver correctly compares int values for size
    
    The NetApp iSCSI driver needs to verify that the new size requested
    during an extend operation does not exceed the max_resize of the
    lun.  However, the driver was doing a >= compare against str values
    of the sizes rather than the int values.  This caused the incorrect
    code path to be used in certain situations.
    
    Change-Id: I8bc66c71db6b469c7adf00ce8b5091513fccb740
    Closes-Bug: 1281279

commit 7e3698417ad8ca0112a05969bcfd7aa60f5bcdd3
Author: Chris Buccella <buccella@linux.vnet.ibm.com>
Date:   Sat Feb 15 02:29:43 2014 +0000

    Sync request_id, request_utils for cinder
    
    This is in preparation for work being done on request ID tracing across
    OpenStack services.
    
    Per discussion in blueprint cross-service-request-id , the standard header
    name for the request ID across OpenStack projects should be
    x-openstack-request-id. The request_id middleware was created for just this
    purpose, as oslo change Ic7967cd62e7b743343d70f751b9238339171e013 . Using the
    same middleware allows for consistency across projects.
    
    There is an additional oslo module, request_utils, introduced as
    change Id085c4444fee2bb68b80738bfe77ccb0ba1908ec to allow uniform logging of
    request IDs. Bring that in as well so we have it when necessary.
    
    Implements: blueprint add-standard-req-id-header
    Change-Id: If080df2a323347924c93a912538dab5ffeffe982

commit 2d240777c84c4244a5d429cc1f040a838121d26e
Author: erikzaadi <erik.zaadi@gmail.com>
Date:   Mon Feb 10 13:01:36 2014 +0200

    IBM XIV and DS8000 Driver reorganizing (IBM dir)
    
        * renamed:    cinder/volume/drivers/xiv_ds8k.py
                      -> cinder/volume/drivers/ibm/xiv_ds8k.py
        * updated all references to old xiv_ds8k paths
        * regenerated sample.conf
    
    Change-Id: Iab094c78a0e4eb1753fe8809089ba1337d95e2e0
    Partially implements: blueprint ibm-volume-driver-reorg

commit 9a8d41e0132d4676b611f940de552dd450b7cac7
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Mon Jan 13 09:44:56 2014 +0800

    Sync oslo imageutils, strutils to cinder
    
    Changes in imageutils:
    ===============================
    bec3a5e Implements SI/IEC unit system conversion to bytes
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    aad179d Fixing misspelled encryption key in QemuImgInfo
    12bcdb7 Remove vim header
    2bd46eb Refactors byte size extraction logic
    
    Changes in strutils:
    ====================
    bec3a5e Implements SI/IEC unit system conversion to bytes
    e53fe85 strutils bool_from_string, allow specified default
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    84d461e Fix a bug in safe_encode where it returns a bytes object in py3
    12bcdb7 Remove vim header
    3970d46 Fix typos in oslo
    1a2df89 Enable H302 hacking check
    67bd769 python3: Fix traceback while running python3.
    b0c51ec Refactors to_bytes
    
    Change-Id: I765bcd40f959162874bfda412b69e673c6e5f732
    Related-bug: #1189635
    Related-bug: #1193765
    Related-Bug: #1257829

commit e96f3b513302cf2ddd362c39bf1b1e9680a1bc7e
Merge: 37eb101 432a47c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 18 03:04:16 2014 +0000

    Merge "Add support for backing up volume metadata"

commit 143cba56cf65201c4b519ba295cb222b0088ad0a
Author: Bill Owen <billowen@us.ibm.com>
Date:   Wed Feb 12 16:41:38 2014 -0700

    GPFS:  Implement volume backup and restore
    
    Add support in gpfs driver for volume backup interface
    to backup or restore a volume using backup service
    specified in cinder.conf.
    
    Implements: blueprint gpfs-volume-backup
    Change-Id: I6f6730bab87c7e7547a66e1b57909f761f87d347

commit a5c5e6871d1d1a3c25627835208fa800eb125934
Author: Navneet Singh <singn@netapp.com>
Date:   Mon Feb 17 18:35:50 2014 +0530

    Fix missing package dependency for requests
    
    The package named requests is used by NetApp eseries
    driver for doing client/server communications. This entry
    is absent in requirements.txt. The patch fixes it.
    
    Closes-bug: #1291325
    
    Change-Id: I044ecce433d3d9e0409762a3e4551e1ce17f607d

commit c1853677d4637edb3c341589fad6aed0d5f71a3d
Author: Pranali Deore <pranali.deore@nttdata.com>
Date:   Mon Feb 17 01:35:34 2014 -0800

    test_volume unittest fails if ran only this module
    
    Using stevedore ExtensionManager to load entry_points(extensions)
    before running any test case.
    
    In BaseVolumeTestCase we have stubbed 'os.path.exists' call,
    because of this stevedore is not able to load entry points paroperly.
    Stevedore internally use pkg_resources and pkg_resources use
    'os.path.exists' to check if entry_points.txt file exists or not.
    Because of stubbibg it is returning True even if file do not exists.
    
    Change-Id: I4fd6bee2e9f33c45ad3deacfe7359dc56171205e
    Closes-Bug: #1263175

commit 5074cf5f574c94bd1a11b143bed9a6b22fa01ec5
Author: shihanzhang <shihanzhang@huawei.com>
Date:   Mon Feb 17 15:51:49 2014 +0800

    Fix invalid facilities documented in rootwrap.conf
    
    The values user0 and user1 do not map to valid facility values.
    local1, etc.  Using user0 results in a  pri value that does not map
    back to a facility of the same name in syslog.
    
    RFC5424 suggest values values of local0 through local7.  Setting
    syslog_log_facility to one of those values results in a message with a
    priority that can be mapped back to the original string value.
    
    This fix adjusts the comment in rootwrap.conf to suggest the local
    prefix instead of the user prefix.
    
    Change-Id: I1c1233ab2386994672d22341fbe3e097409dbcbc
    Closes-bug: #1280879

commit 6427b5506de72f0adf224d3643f6df9d4a465bdd
Author: He Yongli <yongli.he@intel.com>
Date:   Mon Feb 17 14:41:25 2014 +0800

    Use six.moves cStringIO instead of cStringIO
    
    to keep Python 3.x compatibility, use six.moves.cStringIO to
    replace StringIO
    
    Change-Id: Id89c6156d9bba0007e8b16cd2cc28413a7cc5fd3
    Closes-Bug: #1280964

commit e8fac5eda3309a19ee2e1b36883a4e30476644a9
Author: Navneet Singh <singn@netapp.com>
Date:   Fri Feb 14 21:21:33 2014 +0530

    NetApp api fix structure conversion methods
    
    This fixes the issue in api element creation
    when data structures are supplied to be converted
    into NaElements. It could not handle multiple
    keys with same name and also not converted different
    types properly into NaElement. This change fixes the issue.
    
    Change-Id: I84f1ee97a73bbad88bbb64d4a9ac4e1b29cad741
    Closes-bug: #1287643

commit 37eb101b1c91c2219d83b78df28d39dc71f7323b
Merge: b6e116c 2517053
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 20:29:42 2014 +0000

    Merge "Add searchDepth when getClusterInfo called."

commit b6e116c28c9eaffc9a095e6cae95ed7c47f08abd
Merge: 1f23c79 09b20b1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 19:30:57 2014 +0000

    Merge "Fix wrong example of "nova_endpoint_template""

commit 1f23c79cb386c6e0103ba810bc79a9994335f615
Merge: de45d4e 9dcd2ec
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 19:28:50 2014 +0000

    Merge "Replace assertEqual(None, *) with assertIsNone in tests"

commit de45d4e44255ea3e95535a5005f725a0f15aff29
Merge: 359dec4 5a7808d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 19:28:42 2014 +0000

    Merge "Add EMC SMI-S FC Driver in Cinder"

commit 359dec4a21f5fd057241bc970f0836c5da0326dc
Merge: 2197ad0 6ba7b2d
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Feb 15 18:50:25 2014 +0000

    Merge "Imported Translations from Transifex"

commit 2197ad0c53b061f4cdc51db29974ceb6c2360a97
Merge: a5d5f68 a444ca8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 18:45:43 2014 +0000

    Merge "Cast the quota set values to integer before checking their validity"

commit a5d5f68929821a01b6fb9ec2eb995d3e687f5fdc
Merge: 58ae3f2 24755ff
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 18:45:35 2014 +0000

    Merge "Remove dependent module py3kcompat"

commit 432a47cbc03414ca7ee6565c9dbcc91d7bf675fb
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Tue Oct 15 19:01:06 2013 +0100

    Add support for backing up volume metadata
    
    This commit adds a new versioned api to the backup driver base
    class which all backup driver implementations should use in order
    to support backing up volume metadata as well as data. The general
    rule here is that we backup all metadata from a set of db tables
    and can then be selective about what we restore.
    
    As part of this commit, Ceph backup driver implements the new api
    to backup volume metadata (including glance metadata) thus
    supporting restoring volumes as bootable.
    
    It is expected that the other backup driver implementations will
    follow suit and adopt this approach.
    
    Implements: blueprint cinder-backup-volume-metadata-support
    Fixes: bug 1137908
    Change-Id: Icf2f1202d827d2435e09f5dad0f6f022f35dceee

commit 6ba7b2d97fd6c8a9b960097d2c8c4caaacce4a07
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Feb 15 06:17:16 2014 +0000

    Imported Translations from Transifex
    
    Change-Id: Id20fd023c69d84a929f432304ab15e6c80c81b3b

commit 58ae3f2842183adc62d78147e1fc09a6434eae41
Merge: d8f474b eba0458
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 06:03:46 2014 +0000

    Merge "Remove unused exception"

commit 9dcd2ec8324fef1018af9161f70c80c76e7b7357
Author: llg8212 <lilinguo@huawei.com>
Date:   Sat Feb 15 12:42:56 2014 +0800

    Replace assertEqual(None, *) with assertIsNone in tests
    
    Replace assertEqual(None, *) with assertIsNone in tests to have
    more clear messages in case of failure.
    
    Change-Id: Iac9462620bf4ae338998fa6aea7f1514a945059b
    Closes-Bug:#1280522

commit d8f474b98fb40af8eea82f96e5efd66bff6ee728
Merge: 8272f6c c311e94
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 02:21:20 2014 +0000

    Merge "lvm: unhandled exception when migrating volume"

commit 8272f6cefb01e9d2f9a2c97d6b894772392ee49b
Merge: ae5ae50 4d1d934
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 15 01:19:10 2014 +0000

    Merge "Fix cinder-backup volume restore with ceph driver"

commit 3caa76a2b24a586783e22f045d0c40aeffed91b9
Author: Brianna Poulos <Brianna.Poulos@jhuapl.edu>
Date:   Mon Feb 10 16:13:59 2014 -0500

    Add encrypted flag to volumes
    
    Currently, the only way to determine whether a volume is encrypted
    is by retrieving the encryption metadata about the volume (through
    cinder.api.contrib.volume_encryption_metadata) and checking the
    encryption_key_id value.  This patch adds an "encrypted" flag to
    the basic volume api to enable other services (like Horizon: see
    patch https://review.openstack.org/#/c/71125) to easily tell
    whether a volume is encrypted using a basic get call,instead of
    requiring an additional call.
    
    Implements blueprint encrypt-cinder-volumes
    https://blueprints.launchpad.net/nova/+spec/encrypt-cinder-volumes
    
    Change-Id: Id8e422135f17795de06589930afd0309fde28fd1

commit fa51dab15d381371368b7d566f4ad8217541061c
Author: Jim Branen <james.branen@hp.com>
Date:   Fri Feb 14 09:24:53 2014 -0800

    Implement retype in HP LeftHand driver
    
    This adds the ability to modify the
    type of an existing HP LeftHand volume to
    another type supported on the same backend.
    
    Main use case for this is changing provisioning,
    (full vs. thin), adaptive optimization and data
    protections settings for a volume on-demand.
    
    Change-Id: I78e53431708bcb3151c5dc4016e65d1a655e03c6
    Implements: blueprint retype-support-for-hplefthand-driver

commit a444ca8646103042d665536796168252a8ca1031
Author: Sylvain Baubeau <sylvain.baubeau@enovance.com>
Date:   Fri Feb 14 18:13:50 2014 +0100

    Cast the quota set values to integer before checking their validity
    
    Change-Id: I56409607d435a5e2ff702ccb9f19c5d12b432570
    Closes-Bug: #1280159

commit 848ae6677e235778fd0b5efd500ea92c5b955096
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Jan 23 10:43:01 2014 +0100

    Remove rabbit_notifier (Sync notifier with oslo d6e1ba7)
    
    rpc_notifier is available since grizzly, and rabbit_notifier
    was printing deprecation messages since then. Remove it
    for icehouse. This includes a sync to oslo-incubator, which
    includes the following commits:
    
      aff0171 Remove "vim: tabstop=4 shiftwidth=4 softtabstop=4" from headers
      8575d87 Removed copyright from empty files
      8b2b0b7 Use hacking import_exceptions for gettextutils._
      6fa29ae Trivial: Make vertical white space after license header
              consistent
      d7ae4ff Remove deprecated Grizzly features
    
    DocImpact: Remove all references to rabbit_notifier and replace
    it with rpc_notifier.
    
    Change-Id: I889b43dfcebe6574dfa00ea50818f85732860d98

commit 24755ff21f0ee7643ba1cdeb339b260cde5683e9
Author: llg8212 <lilinguo@huawei.com>
Date:   Fri Feb 14 16:34:01 2014 +0800

    Remove dependent module py3kcompat
    
    Module py3kcompat was removed from oslo-incubator, we can use
    six directly.
    
    Change-Id: I6c4266b71312ae53ecaedbd2ce1a865e60eb8d50
    Closes-Bug: #1280033

commit 5a7808d676a844c5c1327bd59ec184e26e0546b1
Author: Xing Yang <xing.yang@emc.com>
Date:   Tue Feb 11 00:00:53 2014 -0500

    Add EMC SMI-S FC Driver in Cinder
    
    Add an EMC SMI-S FC Driver in Cinder. It supports all required
    driver features.
    Also made enhancements to the existing SMI-S iSCSI Driver
    (performance enhancement, multiple pool support and thick/thin
    provisioning, extend volume).
    emc_smis_common.py is the common code used by both iSCSI driver
    (emc_smis_iscsi.py) and FC driver (emc_smis_fc.py).
    
    Implements blueprint emc-fibre-channel-volume-driver
    
    Change-Id: Idace398ef60863811911511bcbbfcecb3bf58270

commit 09b20b1b8493bef07cfc1caa8c345eba7ae33062
Author: ruichen <kiwik.chenrui@huawei.com>
Date:   Thu Feb 13 19:12:21 2014 +0800

    Fix wrong example of "nova_endpoint_template"
    
    In cinder.conf
    
    e.g. http://localhost:8774/v2/%(tenant_id)s
    
    should be
    
    e.g. http://localhost:8774/v2/%(project_id)s
    
    Change-Id: I7dd3be9bc9d2e8f26619b00b5bdbc66505a984b2
    Closes-Bug: #1279747

commit 3fd1beb85c0888251781fe56b067b08c4957b94b
Author: Navneet Singh <singn@netapp.com>
Date:   Mon Nov 25 06:29:41 2013 +0530

    NetApp eseries iscsi driver implementation
    
    This change introduces the iscsi
    driver for NetApp eseries family of storage
    systems. E-series is another  storage
    solution offered by NetApp.
    
    Related-Bug: 1278567
    Implements: blueprint netapp-eseries--cinder-driver
    Certification results: https://launchpadlibrarian.net/166301064/eseries_cinder_certification.log
    
    Change-Id: I8b55d1f1c8de12052281c7cae0c2f89a9d2c3dd1

commit b0ac8294dd9d8dbddfbb320c62d7264daf55be26
Author: Bill Owen <billowen@us.ibm.com>
Date:   Wed Feb 12 17:37:36 2014 -0700

    Update gpfs driver volume creation process
    
    Modify gpfs driver to set file permissions in
    a more consistent way.
    
    Modify image_utils.resize_image to allow caller
    to request it be run as root.
    
    SecurityImpact
    Change-Id: Ic01d91c0d660c74095e8d2b212279b39b9b9dc05
    Partial-Bug: #1260679

commit 3764cecfc3b0a5b35634b15a4b049f433a8a22de
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Fri Jan 17 16:45:32 2014 +0100

    Deactivate LV before removing
    
    With certain versions of LVM2, removing an active LV can end up with
    
      Unable to deactivate open XXX
      libdevmapper exiting with 1 device(s) still suspended.
    
    which causes any lvm command afterwards to hang endlessly on
    trying to access the suspended volume. This seems to be caused
    by a race with udev, so lets be conservative and do the deactivation,
    then wait for udev and then finish the removal.
    
    Closes-Bug: #1270192
    
    Change-Id: I4703133180567090878ea5047dd29d9f97ad85ab

commit ae5ae5079e10f2810b8ba5a29fcddcd10f2f9b38
Merge: 66d6245 63385d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 13 14:43:06 2014 +0000

    Merge "Add update support to volume type encryption"

commit 6846ed79c31f02bbacf48d2bb22e7128549c56f0
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Wed Feb 5 17:39:05 2014 +0530

    VMware: changing volumeops tests from mox to mock.
    
    Changing unit tests implementation of volumeops to mock. In the process
    also moving all these unit tests into a separate class for better
    test organization.
    
    Partial-Bug: #1261097
    Change-Id: I08b2341b22ed9c8f63930a2c73a9737cbe7ef540

commit 66d62457cfe9560e39f7b412b91140fb58723ad7
Merge: 893aaa9 e7e7242
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 13 12:11:24 2014 +0000

    Merge "Rename Openstack to OpenStack"

commit 893aaa9ab3b51e063adef0103e05e10f969735ac
Merge: 3fe6cf5 41e3a94
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 13 06:23:29 2014 +0000

    Merge "GlusterFS: Fix create/restore backup"

commit eba04582cb9199529d286f189f6613c218dd2840
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Thu Feb 13 14:10:21 2014 +0900

    Remove unused exception
    
     o class WillNotSchedule(CinderException):
    
       This exception was removed in the following commit.
    
        commit cea7fe21cecfcd28ede3ba411b8ab8b36c9a7c15
        Author: Zhiteng Huang <zhithuang@ebaysf.com>
        Date:   Thu Jan 2 15:44:30 2014 +0800
    
            Drop Chance/SimpleScheduler Implementation
    
    Change-Id: I8f5f8e6c5c844a67607dae9fb63524aef7069133

commit 3fe6cf5459c6488959f302436f013cc2db0c88a5
Merge: 230760f be163cf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 13 05:06:20 2014 +0000

    Merge "Allow operators to customize max header size"

commit 230760fe0d85bd08b8fc5b6fc4b8c7ded97f9536
Merge: 0bded08 26f9b33
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 13 04:25:21 2014 +0000

    Merge "Changes to cast variable as integer as XML API fails."

commit 0bded089b53ac3e20a061c14804c9b8f3e8cb31b
Merge: f34c484 bdf6e2b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 13 02:00:43 2014 +0000

    Merge "Move create_, remove_ and ensure_export from drivers"

commit f34c484328d49837b7b38b7d2df5e619f5951806
Merge: 23b7700 ab937af
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 13 01:19:14 2014 +0000

    Merge "Ceph backup driver tidyup"

commit 251705354914d4af761965bf32b0e8fd948951c3
Author: Jay Lee <jaesang50.lee@samsung.com>
Date:   Sat Feb 8 01:43:27 2014 +0000

    Add searchDepth when getClusterInfo called.
    
    Without searchDepth, getClusterInfo shows every volume and
    snapshot. It's an unused information and takes very long time.
    
    Change-Id: Id590e3023f4446f01b965baf4e8ac61980101067
    Closes-Bug: 1276388

commit 23b7700a381af24d7c13b08ee0d9e7ee9c41ca2e
Merge: ba8a38e 68228eb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 12 20:19:29 2014 +0000

    Merge "Check type argument on create from source and snap"

commit ba8a38e97c4daa6cfcc302ac7476fe06675816f2
Merge: d033042 b5c4c57
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 12 19:00:52 2014 +0000

    Merge "Removed unused context in _extend_snapshot method"

commit d033042d748cea695f33719d57f3f65754ad6dc5
Merge: e6d91ed adbb272
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 12 16:29:02 2014 +0000

    Merge "Add notifier events to cinder volume rename, reset-state"

commit 68228eb7f41f419eec2427a5e1a14f6612a705ff
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Feb 10 14:42:43 2014 -0700

    Check type argument on create from source and snap
    
    Currently the create from snap and create from source
    options will set the volume-type when specified in the
    create call.
    
    This is actually wrong, because clone and create from snap
    MUST be performed on the same backend as the parent volume.  The
    result is that if the specified type doesn't match the specs for
    it's parent, and actually needs to be on a different backend
    the new volume will "appear" to have the correct type, but it's
    actually invalid.
    
    The --volume-type argument should be rejected when --source-volid
    or --snapshot-id are used, and the parent type-id just picked up
    and used.  Then the user can retype if desired.
    
    Auto failing this strictly causes backward compatability issues though
    so we'll just check for a mismatch and raise an exception in that case.
    This way if the user knows what they're doing and they're explicit
    in the command we still allow it and things are fine.
    
    Change-Id: Ia822cfe48a948045ccea6533bcf92e68ed97ef37
    Closes-Bug: 1276787

commit e7e72424aa1d69d2e0a2ada3156a890da4434506
Author: tanlin <lin.tan@intel.com>
Date:   Wed Feb 12 15:54:03 2014 +0800

    Rename Openstack to OpenStack
    
    Change-Id: I074a734cc7bd5db60aeb08a42a4f36432b6f3163

commit e3eb709b08e52e24cd7e3225a73154efc62ba9fa
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Feb 7 12:43:58 2014 +0800

    Removes use of timeutils.set_time_override
    
    The set_time_override function in timeutils was written as a
    helper function to mock utcnow for unittests before 'mock' was
    generally used. Now that we have mock and fixture, we no longer
    need to use it.
    
    Change-Id: I057d4bc3a8b1d4e96e6830cd3071dc96a05496dc
    Partial-Bug: #1266962

commit e6d91ed83acc7bcc9a389e827f04270392dc640c
Merge: 99898ac dc02810
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 12 07:40:30 2014 +0000

    Merge "Fix LVM migrate_volume tests"

commit 99898acccce1705bf0868298fb53fc49cd3143cb
Merge: 6b431eb 3a4153e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 12 07:30:19 2014 +0000

    Merge "Dont set error_extending status on API extend call"

commit b5c4c5767fbfe9580e68343e722794326e6bb254
Author: ling-yun <zengyunling@huawei.com>
Date:   Wed Feb 12 10:02:54 2014 +0800

    Removed unused context in _extend_snapshot method
    
    Input parameter 'context' of _extend_snapshot method in
    cinder/api/extended_snapshot_attributes.py is not being used, so remove
    this 'context' parameter.
    
    Change-Id: I8577e3938d5ed5bfb143a605320063a6b17c3be0
    Closes-bug: #1279146

commit db29f6e0e239c9efccabf1aede7075f425d9c607
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Mon Feb 10 18:59:38 2014 +0900

    Remove unused methods
    
     o cinder/volume/driver.py
       - def _get_iscsi_initiator(self):
    
         This method was removed in the following commit.
    
           commit cb6faab4d99801e76195802659013a5ccdc6b5b5
           Author: Walter A. Boring IV <walter.boring@hp.com>
           Date:   Wed Jul 10 15:22:06 2013 -0700
    
               Add Brick Fibre Channel attach/detach support.
    
     o cinder/volume/utils.py
       - def get_host_from_queue(queuename):
    
         This method was added in the following commit.
    
           commit 6c708d12f58eb20fce6733f1f6fd08d978570775
           Author: Michael Basnight <mbasnight@gmail.com>
           Date:   Mon Feb 11 15:54:45 2013 -0600
    
               Update cinder-volume to enable multi volume support
    
         But there is no evidence that was used.
    
       - def notify_usage_exists(context, volume_ref, current_period=False):
    
         This method was removed in the following commit.
    
           commit d09b7c78b3c905badb1112434eb9c09c2c8ffb5a
           Author: Ollie Leahy <oliver.leahy@hp.com>
           Date:   Thu Dec 12 11:01:34 2013 +0000
    
               Allow user to specify audit period.
    
    Change-Id: I819679e03df9a2a848004d14e3f55821c88834a4

commit 6b431ebdc108b92c660cb5a8b1640b877b8f8a27
Merge: 0c732de 0916370
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 21:44:47 2014 +0000

    Merge "Storwize/SVC: Check wwpn not None"

commit 0916370a486419b9606331d972666f1551d499d9
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Feb 11 22:34:24 2014 +0200

    Storwize/SVC: Check wwpn not None
    
    If the storage doesn't have WWPN information for a host but gets it in
    the connector, initialize_connection can fail because it does
    wwpn.lower(), and wwpn can be None. Make sure it isn't before calling
    lower().
    
    Change-Id: I9923f5c87a1e596e35116bfcbf08c181b75bba35
    Closes-bug: 1279061

commit 0c732de914e70372b64640c673ec44e273346457
Merge: c7976f1 2f6b405
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 19:52:50 2014 +0000

    Merge "Remove tox locale overrides"

commit c7976f116bc89524e38b2adc648acd2a74212f26
Merge: 0388ec7 0e83faf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 19:39:55 2014 +0000

    Merge "New HP LeftHand array iSCSI driver"

commit 26f9b33085b20a3967299a4d3b2ec871bd6a40d0
Author: Glenn M. Gobeli <Glenn.Gobeli@netapp.com>
Date:   Tue Feb 11 13:03:13 2014 -0500

    Changes to cast variable as integer as XML API fails.
    
    Code change to ensure that the type of the size variable is correct
    when cinder is invoked through XML API. The extend volume code path
    differs from volume create where the flow portion verifies that the
    size variable is an integer; for extend the earliest place to cast
    the size variable is in volume_actions.py.
    
    Change-Id: Iaaed463f988769b8093604cd3b677b270dd2c5cd
    Closes-bug: 1277233

commit 0388ec72dfedbdbd0718e01fd61e555065c6e04c
Merge: baedbeb 5ba26c8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 13:11:57 2014 +0000

    Merge "Storwize/SVC: Fix races in host-related functions"

commit ab937afadff3e368125e39ca1aa96ae135663144
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Thu Feb 6 11:06:02 2014 +0000

    Ceph backup driver tidyup
    
    Fixed typos and cleaned up log messages and docstrings.
    
    Closes-Bug: 1276969
    Change-Id: Idb1ba4f3315edb76fefc993b38b0590b4794345b

commit bdf6e2b5f853b0608dfb81b0d0489b469ead5fd2
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Tue Aug 27 16:17:25 2013 +0400

    Move create_, remove_ and ensure_export from drivers
    
    create_export, remove_export, ensure_export are almost the same in
    LVM and BlockDevice drivers. So they should be moved to
    a common cinder.volume.iscsi module.
    
    Change-Id: Id7aa0e10d6b346356312416aee179a1fe8bacef1

commit baedbeb6294e3f5d426c658b6abdea070e5f7f93
Merge: aeef169 82cb3c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 09:07:47 2014 +0000

    Merge "Add method for unit tests to set logging level"

commit aeef169e01a5e3029f3341e0caae926207784d8c
Merge: 18ae382 5dd125d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 09:07:39 2014 +0000

    Merge "Move clear_volume back to it's own method"

commit 18ae382d6ca951aeb06f1ee3a04cb5e6c367a481
Merge: 9548244 10108f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 08:03:19 2014 +0000

    Merge "Fixes cinder failed to create/restore a backup with NFS driver"

commit 954824466d895130021a52fc95add267e0aff995
Merge: 776845e 2d04764
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 07:56:17 2014 +0000

    Merge "Implement retype in SolidFire driver"

commit 776845eb790aab3e7e883b58bceafaad4cdfe081
Merge: a9112a9 1724c5c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 11 00:30:08 2014 +0000

    Merge "Remove SSH code from 3PAR drivers"

commit 0e83faf4b84722a88ab35d8f0c3e391b0ec2d2af
Author: Jim Branen <james.branen@hp.com>
Date:   Mon Jan 6 16:14:35 2014 -0800

    New HP LeftHand array iSCSI driver
    
    This driver is intended to replace the current OpenStack Block
    Storage HP LeftHand (LH) StoreVirtual iSCSI Driver,
    (cinder.volume.drivers.san.HpSanISCSIDriver), by moving the
    existing SSH interface into the new driver to maintain backwards
    compatibility, and add the new LH REST interface for new driver
    features.
    
    We have the driver broken into 3 files:
    hp_lefthand_iscis.py (common interface)
    hp_lefthand_cliq_proxy.py (old SSH interface)
    hp_lefthand_rest_proxy.py (new REST interface)
    
    The reason we are doing this is because the SSH interface on LH
    array has connections and performance limitations. These problems
    will be resolved by moving to the new LH OS REST interface. Also,
    new LeftHand array capabilities will only be supported in the
    REST(hplefthandclient) interface.
    
    To support new driver capabilities (create cloned volume), the
    python REST client (hplefthandclient) is required and can be
    downloaded from the pypi repository:
      http://pypi.python.org/pypi/hplefthandclient.
    This REST client requires LeftHand firmware version 11.5 or
    greater.
    
    The SSH interface will be phased out over time.
    
    Driver cert test results;
    Related-Bug: 1276809
    
    Closes-Bug: 1277339
    
    DocImpact: Document new driver configuration.
    
    Implements blueprint lefthand-cinder-driver
    
    Change-Id: Id557cab69022c3f7851be14cd82bdab0e4157e55

commit 41e3a94ae18a9219ff4ab10389f3a7799c9b6493
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Feb 7 12:58:35 2014 -0500

    GlusterFS: Fix create/restore backup
    
    Allow create_backup for GlusterFS volumes, but
    only when snapshots do not exist.  (For now.)
    
    Restore is a no-op for the driver, so allow it.
    
    Related-Bug: 1247743
    Closes-Bug: 1275977
    
    Change-Id: I50b8f6cac684c967c7374bb43247a396ce936157

commit be163cf1028aff50413a89060bb8badfa7d51ad5
Author: Florent Flament <florent.flament-ext@cloudwatt.com>
Date:   Fri Jan 17 10:54:27 2014 +0000

    Allow operators to customize max header size
    
    HTTP messages max header line size has been increased from 8K to 16K
    by default to allow using tokens including up to 14-15 catalog
    entries.  The same issue
    (https://bugs.launchpad.net/swift/+bug/1190149) may occur again in
    the future, if keystone's catalog grows further.
    
    Allowing operators to customize the max header size, will allow them
    to have Cinder working whatever the size of the catalog (if the option
    is properly set).
    
    Change-Id: Iac269d96fadc96c1e9383dc03422f2d87196dd9d
    Related-Bug: #1190149
    DocImpact

commit a9112a9cd8d1286e6c62c1a848c10e4d926a45c2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 10 05:21:18 2014 +0000

    Fixup persistence file not found on tgt remove
    
    After commit: beecd769af02ba5915be827d28a7b46d970e41b0
    we're experiencing a race in the tempest gating tests.
    
    It appears that there are certain cases where a detach
    and a delete call can overlap causing a race in the
    remove_iscsi_target method.  The result is that when
    the slower method gets around to the final removal of
    the persistence file it's no longer there, so we
    hit an unhandled exception.
    
    This patch does two things:
    1. It adds the volume lock to the detach_volume
    method in the manager (already in place for delete).
    This should mitigate the race and allow us to avoid it.
    
    2. In the iscsi_remove_target method check if the
    persist file has already been removed when we get
    to the last check.  The fact is that if it was somehow
    removed before we got here we don't really care, we're
    just going to delete it anyway.
    
    Change-Id: Ied45e1a66c8fb79c95ada66f8c59bd2839e200ad
    Closes-Bug: 1277362

commit 2f6b4053c82f3fe7798b47c25d6959071aaeb526
Author: Jeremy Stanley <fungi@yuggoth.org>
Date:   Mon Feb 10 02:57:24 2014 +0000

    Remove tox locale overrides
    
    * tox.ini: The LANG, LANGUAGE and LC_ALL environment overrides were
    introduced originally during the testr migration in an attempt to be
    conservative about the possibility that locale settings in the
    calling environment could cause consistency problems for test runs.
    In actuality, this should be unnecessary and any place where it does
    cause issues ought to be considered an actual bug. Also, having
    these in the configuration actively causes older pip to have
    problems with non-ASCII content in some package metadata files under
    Python 3, so drop it now.
    
    Change-Id: Ib970a2d3cf62619378792d295b4e2e7216e05181
    Closes-Bug: #1277495

commit 82cb3c03909bbb9eadeb9eeedfe17b8deb429a9c
Author: Bill Owen <billowen@us.ibm.com>
Date:   Sun Feb 9 14:46:50 2014 -0700

    Add method for unit tests to set logging level
    
    Implements: blueprint cinder-testcase-set-loglevel
    Change-Id: Id4bb7023659eda593cc5ac451aa580f68a1a6b9d

commit 57c6e2f7a1b9d528fab36c14d0f1526f07d53f91
Author: Navneet Singh <singn@netapp.com>
Date:   Tue Feb 4 16:59:30 2014 +0530

    Brick support for pNFS
    
    This change implements a retry mechanism
    during mounting nfs share. It tries mounting
    using pnfs if no specific nfs version is specified
    in the nfs options. In case of any failure during mounting
    it falls back to regular nfs mount which will internally
    try to mount with highest supported version. If nfs version
    is specified in options then regular mount will be allowed.
    
    Change-Id: I502b375548707ce7021cbacf1cd4f5532804aeb3
    Implements: blueprint pnfs

commit 5ba26c8aa5b295a1202fbc6c01eb050ce3f3af3d
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sat Feb 8 22:59:58 2014 +0200

    Storwize/SVC: Fix races in host-related functions
    
    In the Storwize/SVC driver, initialize_connection checks if a host
    object exists on the storage, and if not, creates one. Similarly,
    terminate_connection checks if there are any more mappings for this
    host, and deletes the host object if there are none. Consequently, there
    exist races between two initialize_connection calls, two
    terminate_connection calls, or one and one.
    
    The easy solution here is to use locks. Because locks are files on the
    local machine, this implies that all cinder-volume processes managing a
    given Storwize/SVC contoller run on the same machine.
    
    Change-Id: I62cd992e7150e7d16f1a2b2be6ef61c64b638858
    Closes-Bug: #1274123

commit 4d1d9349fed815b37b0675d6f3936243a3909125
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Thu Feb 6 13:06:44 2014 +0000

    Fix cinder-backup volume restore with ceph driver
    
    Restore operations currently break if restoring to
    the backup source volume, that volume is an rbd and
    the associated backup was incremental.
    
    Change-Id: Ieafe6ab2d1a15cad2b534a3aab0df29eb8591306
    Closes-Bug: 1276977

commit 0e5b1bfe4fa3dcdfa9e9ed5d6843842861e51b97
Merge: e8feb70 f134e3b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 8 05:04:21 2014 +0000

    Merge "Brick fix BrickException message formatting"

commit 3a4153e5f256fb5c7c308815c2314d427c31864b
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Feb 7 21:55:22 2014 -0700

    Dont set error_extending status on API extend call
    
    Recent change (Ifd523ac5e9039861cf87711dc5c4842b5cb524c2)
    moved the quota check on extend_volume to the API layer
    in order to provide feedback to caller if the quota check
    failed.
    
    The problem is that change still sets the volume status to
    error_extending if the quota check fails.  There's no reason
    to do this if we're now giving immediate feedback that the call
    failed.
    
    I'm also unclear on what the purpose of adding the reservations
    to the rpc call are, but I'll double check on that before changing.
    
    This patch leaves most of the previous change in place but
    removes the setting of error_extending to the volumes status
    on the quota fail.
    
    Change-Id: I8521c876b8d5c344713f211fa0c8c0c58a12a879

commit e8feb702f6953db86f45c4c28ce4182e2e22377c
Merge: 468bb2f cb33593
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 8 04:16:15 2014 +0000

    Merge "Fix misspellings in cinder"

commit cb33593e3d93903990b568b41e545f75a4dd5e83
Author: Shane Wang <shane.wang@intel.com>
Date:   Fri Feb 7 14:45:43 2014 +0800

    Fix misspellings in cinder
    
    Fix misspellings detected by:
    * pip install misspellings
    * git ls-files | grep -v locale | misspellings -f -
    
    Change-Id: I4780a9cdd4a2aff5a3dbc55c87e93b0972d907db
    Closes-Bug: #1257295

commit 10108f4d2e640a9fc12037ece39a833421d27149
Author: Jeff Applewhite <jeff.applewhite@netapp.com>
Date:   Thu Jan 30 14:11:08 2014 -0500

    Fixes cinder failed to create/restore a backup with NFS driver
    
    The action cinder backup-create fails when trying to backup a newly
    created volume when using cinder.volume.drivers.nfs.NfsDriver. This
    patch removes not implemented stubs for backup_volume and
    restore_volume. The inherited methods in cinder/volume/driver.py
    succeed in creating a backup and in restoring it. After manual
    testing of this change backups/restores succeed without the not
    implemented stubs. This change also adds the not implemented
    stubs to the glusterfs driver until a fix is submitted.
    
    Closes-Bug: #1247743
    
    Change-Id: I5478d00442ce855c91a7f04c5ba2b40733d44902

commit 468bb2f40e4f83305624b7b485698f1cb751b591
Merge: 1417802 24d6b57
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 8 00:34:21 2014 +0000

    Merge "Validate the quota in the API layer for volume extend"

commit 141780203a203560e34ab823ec17267ddb3be038
Merge: d6947fc 4edde1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 8 00:19:02 2014 +0000

    Merge "Brick connector fix for GlusterFS"

commit d6947fc930bece63b840983aa89fc6657012a7f2
Merge: 0b6c1aa bf0ad01
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 7 23:24:29 2014 +0000

    Merge "RBD unit test improvements"

commit f134e3becb978c138c33de411c47fd9afa41900c
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri Jan 31 11:33:17 2014 -0800

    Brick fix BrickException message formatting
    
    This patch fixes an issue when passing in a
    formatting key and value for formatted
    text messages for all Brick exceptions.
    
    Added unit tests for brick's exception
    
    Change-Id: I76dcfc6872ca20305d1844162dd0ae28c4bb565c
    Related-Bug: 1238085

commit 0b6c1aa548ceedd0737966e505e85467711b2d4d
Merge: 0e71f48 74762d1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 7 16:39:28 2014 +0000

    Merge "Rename self.tgtadm to self.target_helper"

commit c311e94d3d1f19924ac77d197c616782b497f908
Author: git-harry <git-harry@live.co.uk>
Date:   Fri Feb 7 13:37:59 2014 +0000

    lvm: unhandled exception when migrating volume
    
    Catches the StopIteration exception if the destination volume group
    does not exist when attempting to migrate a volume.
    
    Change-Id: I0b5dd15e4c7198fe54abf1aa917a60554adcd568
    Closes-Bug:  #1277512

commit 2d04764756c25c47f20c6ea8f2c94a0c6673786b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Feb 5 23:33:58 2014 -0700

    Implement retype in SolidFire driver
    
    This just adds the ability to modify the
    type of an existing SolidFire volume to
    another type suppported on the same backend.
    
    Main use case for this is changing QoS settings
    for a volume on-demand.
    
    Also updates the internal attributes to store the
    deltas between the old-type and new-type.
    
    Change-Id: I65a4c34cbec17d0f3987c1d964e6ad1bafea3601
    Implements: blueprint retype-support-for-solidfire-driver

commit 0e71f481237d4aa91bb182e0059851af37c5f43c
Merge: ff8ed31 e989b2d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 7 02:53:30 2014 +0000

    Merge "Don't use shred for volume_clear=zero"

commit ff8ed31bf5e3e967366cb358873187bb636ac8db
Merge: e398628 a9527de
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 7 02:43:57 2014 +0000

    Merge "Add time_type dictionary to test_migrations"

commit 24d6b57d1cb0c4f91545f85ea9c766d1e0ec50a0
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Wed Jan 8 02:52:54 2014 -0500

    Validate the quota in the API layer for volume extend
    
    The user needs a friendly message feedback if the quota exceeds when
    the volume is about to extend.
    
    Change-Id: Ifd523ac5e9039861cf87711dc5c4842b5cb524c2
    Closes-Bug: #1256763

commit e3986285d2b297cd424210e3343f8532b12566ff
Merge: bfb62f9 6c9f81b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 7 01:55:49 2014 +0000

    Merge "Sync RPC module from Oslo"

commit bfb62f96a8ec4df9704b3f7831ee7977409b953b
Merge: 7322e5d 4df8093
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 7 01:53:34 2014 +0000

    Merge "Set a sane default for state_path"

commit 7322e5d78313039d5eccf0dadda17782edc6ae4b
Merge: 67f4483 9a1a15c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 6 22:51:58 2014 +0000

    Merge "On create_volume flow get rid of host parameter"

commit 74762d17b92d6de563a310232fe00c1587776f7e
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Jan 29 10:45:03 2014 -0500

    Rename self.tgtadm to self.target_helper
    
    Using "tgtadm" for this member variable is confusing because it
    actually represents tgt, IET, and LIO.  Rename to a more generic
    term to make things more readable.
    
    Also remove "tgtadm" from method names and references in tests
    where it is not tgtadm-specific.
    
    I'm choosing the name "target_helper" because "tgtadm" = tgtd,
    and "iscsi_helper" doesn't fit when using RDMA in ISERDriver.
    
    Change-Id: I73fab03eb6635be6b49950e3a0ccc0e9801697ca

commit 67f4483067919a14520ef0528325e61ca887118c
Merge: f4b336b 50a1267
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 6 19:32:06 2014 +0000

    Merge "vmware: intermittent failure in test_vmware_vmdk"

commit dc02810c5dc64ca48a163645588ea6a60367227a
Author: git-harry <git-harry@live.co.uk>
Date:   Thu Feb 6 16:16:57 2014 +0000

    Fix LVM migrate_volume tests
    
    In cinder/tests/test_volume.py the following tests fail to correctly
    test the functionality.
    
    LVMISCSIVolumeDriverTestCase.test_lvm_migrate_volume_diff_driver
    LVMISCSIVolumeDriverTestCase.test_lvm_migrate_volume_diff_host
    
    The location_info is incorrect, it needs to be 5 sections separated by
    colons otherwise they fail due to bad location info.
    
    Change-Id: Ie7ceaba6b35c0aedb47cae0db5c60cc489e94c49
    Closes-Bug: #1277155

commit 4edde1fc938be9679fbf9c209a7f28b457b1bef1
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Dec 20 11:30:51 2013 -0500

    Brick connector fix for GlusterFS
    
    Fixes an InvalidParameterValue error by passing the required
    information to Brick for mounting.
    
    See also: 1cd3626 Brick connector revised fix for NFS
    
    Bump driver version 1.1.1.
    
    Closes-Bug: 1238085
    
    Change-Id: Ie45889460dd4775a556d592161c98c24a56989c7

commit f4b336b4176c771950486532803808ce451a0d64
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jan 29 16:57:35 2014 +0000

    Updated from global requirements
    
    Change-Id: I60e217d361a71b2c7518aff98b5530e689d838c5

commit 1cfc3105f04365cd3a96f61252fe0cac823b1f4c
Merge: 5a58a62 7aabee6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 6 14:06:38 2014 +0000

    Merge "vmdk: To add missing time unit in driver option"

commit 5a58a6273cc3d41db1f2c5671e5771edba6d6dd2
Merge: b4493aa e62b705
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 6 12:10:48 2014 +0000

    Merge "Allow spaces in host names in the storwize driver"

commit 50a126735f1f695722fce505aa3b497fd8509c12
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Thu Feb 6 11:37:27 2014 +0530

    vmware: intermittent failure in test_vmware_vmdk
    
    There was a race condition between the two Event() objects being
    created within loopingcall and Retry in api module. Did away with
    the Event object in Retry and used loopingcall the right way.
    
    Change-Id: I2534bad9294747fcd618ba3634abb01ceef92213

commit bf0ad013ba7a601760cff7732c3ae5bd0c5efc15
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Wed Feb 5 17:42:53 2014 +0000

    RBD unit test improvements
    
    This commit brings the implementation of the test_rbd and
    test_backup_ceph unit tests more inline and tries to ensure
    that no mock is set without being unset so as not to tread
    on the toes of any other tests.
    
    Change-Id: Ibb6bd3bf90952914512e3fa39fd216f43f0f8ecb
    Closes-bug: 1276657

commit 5dd125dd8cf555e37b5329867d10c01749f590c4
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Feb 4 13:03:52 2014 -0700

    Move clear_volume back to it's own method
    
    This just moves clear_volume back to it's own method
    and also only calls volutils.clear if we actually
    need to perform the clear operation.
    
    Also takes out the hard-coded multiplier of 1024 and
    uses units.GiB.  Maybe this should be a separate patch,
    I'll spin another if there are objections.
    
    Change-Id: I56f6690fbadc0d44eba48f49d29386d5b9dca195

commit e989b2d2ef5435db4e4147e45cc9f4643eef176f
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Feb 4 14:06:59 2014 -0500

    Don't use shred for volume_clear=zero
    
    We should just call copy_volume unless volume_clear='shred' is
    specified.
    
    Change-Id: Id5e15b000cf0d6146ec13f42ff5bb611b6f18484

commit b4493aa0049136e9837f9b527b57737e5c492191
Merge: 87e906c beecd76
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 5 17:05:30 2014 +0000

    Merge "Remove create_export from volume create"

commit 87e906c1684758bc5ad3b2ebfc7a30a14ff14f2e
Merge: 4e1d168 6b255d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 5 01:51:39 2014 +0000

    Merge "LVM: remove redundant casts to float"

commit 4e1d168aaf186339db373683e8ecb8b3dab3b247
Merge: e61a930 5c23394
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 4 23:09:27 2014 +0000

    Merge "Move clear_volume method to volume.utils"

commit 65c635d6a5be0b4afaa9289c901f90275a0be102
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Mon Dec 23 13:24:41 2013 -0800

    Nexenta iSCSI driver: fixed volume_migration
    
    Fixed volume_migration updating volume provider_location.
    Fixed temporal snapshot deleting after volume migrated.
    
    Change-Id: Id23749cb3724e1510865425232b38b9fc32690f8
    Closes-Bug: #1263258

commit e61a9303274d4cad7411fe35a597a30eb5518633
Merge: 935107d abe8363
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 4 20:25:36 2014 +0000

    Merge "LVM: log thin pool name and size upon creation"

commit 5c2339440a499fb8b86e38893f245b9f02395016
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Fri Aug 23 16:37:38 2013 +0400

    Move clear_volume method to volume.utils
    
    clear_volume was almost the same in LVM and BlockDevice drivers.
    So it has been moved to utils.
    
    Change-Id: Iadb6b8d01cf500109bb48b0d2c817109918519e0

commit 63385d3c4dcfb725222ffd2a854f421581596fa8
Author: Brianna Poulos <Brianna.Poulos@jhuapl.edu>
Date:   Mon Nov 18 18:04:15 2013 -0500

    Add update support to volume type encryption
    
    This patch adds update support to the Volume Type Encryption API
    Extension.  It allows the updating of volume type encryption for
    a given volume type as long as no volumes are currently in use
    with that volume type.
    
    Change-Id: If5f9ef792626e7dfaf82365bb6838b964f8238ae
    Implements: blueprint encrypt-cinder-volumes
    https://blueprints.launchpad.net/nova/+spec/encrypt-cinder-volumes

commit abe836390dc760e87c443d762dac4849eff21e13
Author: Jon Bernard <jobernar@redhat.com>
Date:   Mon Feb 3 12:44:05 2014 -0500

    LVM: log thin pool name and size upon creation
    
    The thin pool creation size may not be obvious to the user, so a log
    message may help alleviate some confusion.
    
    Change-Id: I3a98b610be612a4fb7496a89f9005012c9210bf8

commit beecd769af02ba5915be827d28a7b46d970e41b0
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jan 31 03:53:37 2014 +0000

    Remove create_export from volume create
    
    Currently the LVM driver creates iscsi targets on
    volume creation, even though it's only used at
    attach time.  This isn't necessary and in fact
    causes issues if a volume is extended because the
    target information isn't currently updated after the
    extend.  In addition a number of other drivers inclduing
    the LIO iscsi driver require the target be created with
    initiator info, so the tgt that's created initially
    again isn't valid.
    
    This change removes the create_export call from the
    volume create process and makes it part of the
    managers intialize_connection routine which is
    more appropriate.
    
    This change also removes the target on detach since
    it's not used any longer and again as the volume may
    be modified or extended.
    
    Change-Id: I0b7dfdaf7e49a069da22f22f459861b0b49430a4
    Closes-Bug: 1248947

commit 7aabee6f76fb390faac68f8195dab4018917bae4
Author: Vipin Balachandran <vbala@vmware.com>
Date:   Tue Feb 4 18:11:12 2014 +0530

    vmdk: To add missing time unit in driver option
    
    Time unit is missing in the description of vmdk driver option
    "vmware_task_poll_interval". Due to this, the vmdk driver config
    reference document doesn't have the timeunit in its description
    column. This fix adds the missing time unit (seconds) in the
    driver option.
    
    Closes-Bug: #1258100
    Change-Id: I2c49c65ca9a48a2dcc6898a32b4bbc0433e8916b

commit 935107d5a28e644a046e4a64782c0bd4bb8a7ab0
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Feb 3 20:22:33 2014 -0700

    Update SolidFire Driver to use cinder's units
    
    The SolidFire driver uses math module and it's own
    local GB variable.
    
    This patch just removes that and uses the GiB def
    that already exists in cinder.units.
    
    Change-Id: I4fc167bd61dbb609bd325b4a32b120bf55db02fa

commit 4e04f12ace3077c5fd1e3cd09435501766e24ef1
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Feb 3 20:10:03 2014 -0700

    Update cinder.conf.sample for new keystone client
    
    The latest version of keystoneclient adds a new conf
    entry that we don't have in Cinder.
    
    This patch adds "enforce_token_bind=permissive"
    
    Change-Id: I1aeb6a59ca1787c05075d76dd9d1f96722653d88

commit 4c69c846d261870fc88a42b562994bc6e90f1a02
Merge: a26cabd a7b6d82
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 3 18:40:42 2014 +0000

    Merge "Do not show quota of removed volume types in Default Quotas panel"

commit a26cabd80f5595ae42363d1ece790d69a3e17f57
Merge: 4f3d327 7252457
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Feb 3 18:22:35 2014 +0000

    Merge "Imported Translations from Transifex"

commit 6b255d2a47ff2f7d841f994e026a7e00deb74008
Author: Jon Bernard <jobernar@redhat.com>
Date:   Mon Feb 3 12:44:33 2014 -0500

    LVM: remove redundant casts to float
    
    The vg_free_space field is always assigned a float, so additional casts
    are not necessary.
    
    Change-Id: Ic2af78ba7dbd7388cc071fc2f0ea876a1558d0e9

commit 9a1a15c06262ada0e3c03b225c4a36e9d5c2b4fc
Author: Anastasia Karpinska <akarpinska@griddynamics.com>
Date:   Mon Feb 3 17:41:46 2014 +0200

    On create_volume flow get rid of host parameter
    
    On manager create_volume flow save host parameter to volume_ref immediately
    when create volume_ref and remove host parameter from other tasks.
    
    Change-Id: Ifc672741c317112b084a076ca65c11c5d0290930

commit 4f3d327f4a8bbd2b37927bdfe91054b126c9d056
Merge: 23f5311 7d028b7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 3 08:03:26 2014 +0000

    Merge "Add support for special char in volume metadata"

commit 23f531150f747cababcf2c68c534d23ee99cc9c2
Merge: c4ca3ae d311066
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 3 08:03:18 2014 +0000

    Merge "Remove a catching exception during delete_volume"

commit 7252457d1cc5c2670205c58dd57d388429e18317
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Feb 3 06:17:18 2014 +0000

    Imported Translations from Transifex
    
    Change-Id: I723d6663ee209a3e56c1dfcd6e0ddcd2e2af9a12

commit c4ca3ae9c9c8efa1feaa8385932209fe89af38f3
Merge: 8fca3a8 9afbd3f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Feb 2 20:10:14 2014 +0000

    Merge "Stop volume_type_encryption creation when in use"

commit e62b70562dd8d2d94b526f3f7a52ef4aff9a3f40
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Jan 26 12:39:27 2014 +0200

    Allow spaces in host names in the storwize driver
    
    Storwize/SVC naming rules allow host objects to have spaces in their
    names. The SSH injection filter will currently reject such names, and so
    we surround the names with quotes. Please note that this doesn't allow
    to have an arbitrary character in there except a space (anything else
    will be cleaned up by the driver or rejected by the SSH injection filter
    up the call chain).
    
    Change-Id: If9aec40fe34293031f08d759dd930d73ead456f5
    Closes-Bug: #1270204

commit d311066dd43bdc4598fa76837d78ecfac16f5e58
Author: Bertrand Lallau <bertrand.lallau@gmail.com>
Date:   Sat Feb 1 14:33:33 2014 +0100

    Remove a catching exception during delete_volume
    
    GlanceMetadataNotFound Exception was catching during
    a call to volume_glance_metadata_delete_by_volume().
    This exception is never thrown by the implementation.
    This catching has been removed.
    
    Change-Id: Ifa15df5d9c4517f75a1a050ff5aa34225f33931b
    Closes-Bug: #1274601

commit 8fca3a85f3198f52c05cd9f373b72130ab012271
Merge: a5c4cf8 db94cd2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 1 02:56:27 2014 +0000

    Merge "Remove unused task from manager create_volume flow"

commit 1724c5cee71d3b32466dd9d6cabd22a3339546b4
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Jan 30 23:44:22 2014 -0800

    Remove SSH code from 3PAR drivers
    
    This patch migrates all of the communication
    to the 3PAR array into the client library.
    Some of the calls to the array happen over ssh
    and others happen over REST.  Now the drivers
    don't care.
    
    This allows us to change the external client
    library to replace SSH calls to REST calls,
    without the need of driver changes.
    
    Change-Id: Ia5e94a349308055381001c373b91c444860115c7

commit a5c4cf84c0c5a6102573bccdfd35543ef3fa054c
Merge: a7a65eb cf9915e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 31 17:15:44 2014 +0000

    Merge "Brick LVM: Handle space info as numeric types"

commit db94cd232e8348f3a04536055ac199e3591ea854
Author: Anastasia Karpinska <akarpinska@griddynamics.com>
Date:   Fri Jan 31 18:06:51 2014 +0200

    Remove unused task from manager create_volume flow
    
    ExtractSchedulerSpecTask hasn't been ever used in the
    create_volume flow, so it should be deleted.
    
    Change-Id: Ia841e224bc253c68ed21520951016a1a90634faf

commit a7a65ebdb441896526ce870d0a8189ab659c5de2
Merge: ae48348 d386210
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 31 05:11:46 2014 +0000

    Merge "VolumeManager: initialize even if a volume can't be found"

commit ae48348915088de79f3ffe60b846d566fdb4310b
Merge: f2cb3e8 0132be4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 31 04:26:52 2014 +0000

    Merge "Revert initialize_connection changes"

commit 7d028b77a4bde48ed2729f370773c9d510156686
Author: Ryan McNair <rdmcnair@us.ibm.com>
Date:   Mon Jan 27 21:48:51 2014 +0000

    Add support for special char in volume metadata
    
    Using special characters such as "&" in volume metadata caused SAX
    parser to split text into multiple child nodes, as stated in the
    specs for SAX parsers. In this case extract_text would return
    'None' because text was return if there was exactly
    one child node. Concatenating the values of child nodes accounts
    for SAX parsers splitting contigous characters into
    multiple chunks.
    
    Change-Id: I3709789d33ff7b07eaeaf725f5183105443d0abc
    Closes-Bug: #1268513

commit cf9915e363924c49a9039543c85c8fdb5322527b
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Jan 3 11:19:42 2014 -0500

    Brick LVM: Handle space info as numeric types
    
    Rather than relying on callers to cast values from the VG object
    to float, always create them as floats up front.
    
    This removes the nosuffix option used with the LVM commands in
    Brick, as it does not appear to be used.
    
    Also removes unneeded self.vg_pool_name variable.
    
    Change-Id: Ic19ce206bc8069071e3c2d9e58ba5393119e9b4d

commit f2cb3e8a840a486db8fd6a2208cd5203d96153ac
Merge: 673e7c9 193096a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 30 14:38:33 2014 +0000

    Merge "LVM: Robustify skipactivation detection"

commit 673e7c947a458d8c48d0e3684edf93f6e284de42
Merge: ec44eaa 6a28603
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 30 14:23:04 2014 +0000

    Merge "Create structure of flows' packages"

commit ec44eaa4c9a975c371e06fd0514f5c5d567beb82
Merge: 4b259c6 dc4655a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 30 11:55:07 2014 +0000

    Merge "Fixes incorrect key in dictionary"

commit 4df8093c30d6a9d20a756e3aeeda89649c2ab981
Author: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>
Date:   Thu Oct 17 14:41:01 2013 +0200

    Set a sane default for state_path
    
    This change set a sane default to state_path, removed no more used cfg
    options, and put the previous state_path for tests only.
    
    DocImpact
    Closes bug: #1240879
    
    Change-Id: If56b60950d8ebf9111ef99bfbf2cb549bbb6b29b

commit 4b259c6a158e6510a5d9fa1bfd996086220fe7a1
Merge: 820fb89 6730573
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 30 04:45:40 2014 +0000

    Merge "LVM: Activate source snap LV when cloning from volume"

commit 820fb89c252df89c33ce81e9ba7af7ad319fbc40
Merge: 6ed54c5 a56ace0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 30 02:23:19 2014 +0000

    Merge "Add create_iscsi_target stub to TargetAdmin"

commit 6ed54c5921e413fe74bcee1090abf80bb9eb9b54
Merge: 617f296 5ec6f8f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 30 02:22:16 2014 +0000

    Merge "Extra_spec containing '/' can't be deleted"

commit dc4655a5ae5a2ad576b68f3bc7d5044e395ee49e
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Jan 29 15:53:53 2014 -0800

    Fixes incorrect key in dictionary
    
    This is a corner case for the 3PAR driver.
    The dictionary has a key of 'wwn', not 'WWN'.
    
    Change-Id: Id16a54f14d195a7297ab8db8fc8e2642955338e6
    Closes-Bug: #1274334

commit 9afbd3fbba201ee606cf6e3b57675d3fbf9514b2
Author: Brianna Poulos <Brianna.Poulos@jhuapl.edu>
Date:   Wed Jan 29 15:49:20 2014 -0500

    Stop volume_type_encryption creation when in use
    
    This bug fix addresses bug #1274252.  It requires a volume
    type to have no volumes with the type before allowing it
    to be made encrypted.  This prevents a situation where
    non-encrypted volumes could have an encrypted volume type.
    This fix also adds a unit test to confirm functionality.
    
    Change-Id: Iab0954c2d0af73bce28be7fa319b8b34ca20e720
    Closes-Bug: #1274252

commit 617f2969679cda86fd6320796ceb7b124c0ae5fd
Merge: 6d5c35b 99379d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 29 17:03:40 2014 +0000

    Merge "3PAR iSCSI volumes attach to single nsp"

commit 0132be46bc9b4bb1b3bf77a623cc1d3b7e9307ea
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Jan 28 21:30:59 2014 -0700

    Revert initialize_connection changes
    
    A change was merged that reusulted in interittent
    gate failures.  It seems that in certain cases the
    intitialize is doing an update targets and is
    deleting the existing targets and not recreating them.
    
    The idea of this patch was to fix up the iscis targets
    for cases where volumes are extended.
    
    A better solution is in progress that will remove the
    target creation from the create_volume process altogether.
    
    Currently we seem to have create_export, ensure_export and
    now initialize that all are designed to do very similar
    things.
    
    A bug has been filed to address this and will attempt
    to collapse these functions to be done at attach time.
    
    This particular patch in essence reverts two patches:
    commit: 18f8f5be94aae3b1747b143479ea1b188872f000
    commit: a9267644ee09591e2d642d6c1204d94a9fdd8c82
    
    Change-Id: Ib615847f3cbeb74b1e4416d51730162ad1d07a40
    Closes-Bug: 1270608

commit 6d5c35b0911c07a34cedbac79eb84f97c02dc37c
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Sun Jan 26 20:01:16 2014 +0000

    Convert ceph backup unit tests from mox to mock
    
    Closes-Bug: 1261866
    Change-Id: Ia1e5e971c505a4f5cc00898c6a946d5dee45c29b

commit d386210bc776a599bb31553c96e2a8a43acac61d
Author: Florian Haas <florian@hastexo.com>
Date:   Mon Jan 20 22:42:11 2014 +0100

    VolumeManager: initialize even if a volume can't be found
    
    If a previously volume cannot be exported (for example, because
    an iSCSI target's backing LV is no longer present), VolumeManager
    would previously bail out, leaving the volume service uninitialized.
    This left volumes dangling in limbo: their state would be reported
    as available (clearly not a reflection of reality), and they could
    not be deleted (because the volume service that would be responsible
    for deletion was unavailable).
    
    Instead, catch an exception raised by ensure_export() separately,
    log it, and set the volume to the error state.
    
    For the tgt backend, this will also remove the volume_path file.
    Previously this would cause an ISCSITargetRemoveFailed exception
    when the volume would be removed. Instead, simply log a warning
    and return, the way other backends (example: RBD) already do.
    
    Also, add an info message that reflects the actual path and
    contents of the volume_path file.
    
    Finally, fix up the tgtadm unit test so that it tests for
    identical IQNs,
    
    Closes-bug: 1270959.
    
    Change-Id: Id61407c9a5e020d5a823dd7b8c973d237c35cb9b

commit a56ace019b2ed24181d8d8658d67f6557352cfeb
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Jan 27 18:46:26 2014 -0500

    Add create_iscsi_target stub to TargetAdmin
    
    This should be defined in TargetAdmin, as it is assumed to be
    present in all subclasses by callers.
    
    IetAdm and LioAdm may need additional work to behave as desired
    in all circumstances (such as volume extend), but this should
    at least stabilize things in the meantime.
    
    Closes-Bug: 1273480
    
    Change-Id: Iac1381286ea07982e6db7f7c7abf3f9100e4be50

commit 60ffb0eedf41b56f3c6af5b301400ced95762194
Merge: 80096b6 89d9b0a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 28 01:31:05 2014 +0000

    Merge "Fix up the way we do iqn variable in unit test"

commit 99379d6ec00b7bdfe5a625877d8e680f9240efcc
Author: Ramy Asselin <ramy.asselin@hp.com>
Date:   Wed Jan 15 13:29:34 2014 -0800

    3PAR iSCSI volumes attach to single nsp
    
    Update the 3PAR iSCSI Driver to correctly identify
    the least used iSCSI Node:Slot:Port (NSP) and only attach
    the volume using that single NSP.
    
    DocImpact: Driver now requires 3PAR firmware version 3.1.2 MU3
    Ref: https://review.openstack.org/#/c/68513/
    
    Change-Id: I1627e44a5168a7dbd19ea62312d65a00044753e9
    Closes-Bug: #1269515

commit 5ec6f8f8e8b88f48300e66369840c2fafd06f4c5
Author: Alejandro Emanuel Paredes <alejandro.e.paredes@intel.com>
Date:   Wed Jan 22 15:19:19 2014 -0500

    Extra_spec containing '/' can't be deleted
    
    This patch validates the keys of the extra specs
    before setting them.
    This will make possible to remove those keys.
    It allows alphanumeric characters, underscores,
    periods, colons and hyphens.
    
    Change-Id: Ic2e5d7ce42c8ecb7ee45cd168bd008035fd4bbdf
    Closes-Bug: #1259711

commit 193096a476ca3da2ef7f36f89fdbd897c5bcc320
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Wed Jan 15 15:45:01 2014 +0100

    LVM: Robustify skipactivation detection
    
    Running lvchange might fail due to not being in
    $PATH for non-root user, and the corresponding OSError
    was not caught.
    
    Simply check for lvm2 being 2.02.99 or newer.
    
    Closes-Bug: #1269445
    Change-Id: I308bd97cb729e83677f18a693274265a182d794c

commit 80096b6fb62cec4056efd1aba070623a789571dc
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Thu Jan 9 14:54:22 2014 +0800

    Make sure report_interval is less than service_down_time
    
    Services that inherit service.py/Service class would register
    themselves to DB and then update stats periodically (every
    report_interval second).  The consumer of this kind of information,
    like scheduler or 'os-service' API extension, will consider a service
    is 'up' (active) if last update from that service is not longer than
    'service_down_time' ago.
    
    The problem is if 'report_interval' was configured/provided greater
    than 'service_down_time' by mistake, services would then be always
    considered in 'down' state, which can result in unsuccesful placement
    of volume create request for example.  This is what Bug #1255685 is
    about.
    
    In previous fix: https://review.openstack.org/#/c/60760/, a
    configuration check helper function basic_config_check() was added
    *wrongly* to WSGIService class instead of Service class.  This patch
    moves the configuration check helper function and the check to the
    right place to make sure 'report_interval' is less then
    'service_down_time'.
    
    Closes-bug #1255685
    
    Change-Id: I14bd8c54e5ce20719844f437808ad98a011820de

commit cbc6e8ef5da434d0158b1cb8545c5182c5b96cdf
Merge: 62c8c84 e2fd4f2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 26 11:36:38 2014 +0000

    Merge "Remove unused exceptions"

commit 62c8c841d6d03226e725865b038ca18607a2a3ab
Merge: e6d7a73 e9722f0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 26 09:39:50 2014 +0000

    Merge "GlusterFS: Fix deadlock in volume clone"

commit e6d7a73c778757690f4080c549d0cc03508f45d0
Merge: 3923e50 a0693a9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 26 09:21:12 2014 +0000

    Merge "Redundant check in os-migrate_volume_completion"

commit 3923e5000c1e2132e8afd85b764aaaadb72b66da
Merge: 62d287a c7859db
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 26 08:43:16 2014 +0000

    Merge "Storwize driver cleanup"

commit 62d287a55a4dfaa02ebe6324f36ac28b6c6fa5a9
Merge: 4808281 855caef
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 26 08:07:40 2014 +0000

    Merge "Convert RBD unit tests to use mock instead of mox"

commit 48082814ec6535b84c31a45040980cdf211b3a21
Merge: 7acdf51 f29f812
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 26 07:48:38 2014 +0000

    Merge "Fix import log_handler error with publish_errors set"

commit a0693a91f55b2b08a46f1396dd1a1102783df9c6
Author: zhangyanzi <zhangyanzi@huawei.com>
Date:   Tue Nov 26 12:19:48 2013 +0800

    Redundant check in os-migrate_volume_completion
    
    Remove the redundant check for 'migrate_volume_completion', and add the UT
    for it.
    
    Change-Id: I6b643dbf9ae1302cafe6748a361123d7d76c437f
    Closes-Bug: #1254963

commit 7acdf51329bad161312bbb33d49c45e6cb7791cf
Merge: 5245629 e011130
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 26 06:31:03 2014 +0000

    Merge "Updated error messages for volume clone"

commit 5245629321b000cb671b86bb2a02fa37a6a165d7
Merge: 1c2fb0b db98ee7
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Jan 26 00:17:45 2014 +0000

    Merge "Imported Translations from Transifex"

commit e011130104950c854bc9e139e24422b753653063
Author: Swapnil Kulkarni <swapnilkulkarni2608@gmail.com>
Date:   Tue Jan 21 21:04:10 2014 +0530

    Updated error messages for volume clone
    
    Updated error messages for volume clone from image,
    snapshot and volume to be consistent across.
    Updated error messages to indicate the unit (GB).
    
    Change-Id: I9f51ad0c9ce40864a838fca06583d7d4283e61d8
    Closes-Bug: #1244609

commit 1c2fb0b0472dd536cdd17fee689b972711384246
Merge: e38cbd0 18f8f5b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 21:17:44 2014 +0000

    Merge "Catch new iscsi exception"

commit e38cbd069da8c667638d4f44410e2a752c0d5e31
Merge: 0333023 573c000
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Jan 25 21:08:17 2014 +0000

    Merge "Updated from global requirements"

commit 033302345bf332c3e23f079b10c33fbbfc6b41dd
Merge: 13ed1a7 19d8040
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 14:23:31 2014 +0000

    Merge "Delete volume transfer in volume_destroy function"

commit 13ed1a738fa99769033fb56e252bfe94dc57db57
Merge: 4cd618a 4576ca7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 14:23:22 2014 +0000

    Merge "Enable multi-process for API service"

commit 4cd618a41beb8dd2beef3920bfd617f87fabe064
Merge: 62630c1 2c39b37
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 14:02:29 2014 +0000

    Merge "Sync common modules from Oslo"

commit 62630c1e65c1ac632557f826891ac0dad6ff57e0
Merge: ff401b6 bc8846e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 13:58:02 2014 +0000

    Merge "Sync py3kcompat, sslutils, versionutils from Oslo"

commit ff401b6e73910a974d656dce101fc8f77075acd7
Merge: 5da0f5a 385eaa2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 13:55:03 2014 +0000

    Merge "Sync gettextutils from Oslo"

commit 5da0f5a80a925a70e10b4bce1a0a4a678c204284
Merge: e3fdb5d 28b8ecc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 13:11:43 2014 +0000

    Merge "Fixed inconsistency in iqn"

commit e3fdb5ddfd76c589c9043525063086cfad050ce4
Merge: 29ffebe 04dd95b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 25 09:28:28 2014 +0000

    Merge "Fix docstring and remove unused variable"

commit db98ee7f0322a67d6d80e4d238c1f1a47295176b
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Jan 25 06:21:55 2014 +0000

    Imported Translations from Transifex
    
    Change-Id: I6fd23ffe606bc94c5ad1648da65098c28846087a

commit 573c000cf2d373ad965f5c97f583ca1ee3884d2e
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jan 21 20:23:55 2014 +0000

    Updated from global requirements
    
    Change-Id: I6eee83f9c1f315ad295fc710f98f033349bb7aa9

commit 89d9b0a4e0e8f7ac8a227100016031a7ae6e8341
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Jan 24 19:12:01 2014 -0700

    Fix up the way we do iqn variable in unit test
    
    A recent bug was reported when a developer was trying to work
    with the iscsi target unit tests.  There were two problems discovered,
    one of which has been addressed by the dependent patch of this commit
    (https://review.openstack.org/#/c/68223/) which fixed the inconsistencies
    in the string we used for iqn's in our test.
    
    This patch addresses another issue that's somewhat related and was
    exposed when the developer tried to use the "self.target_name" variable
    instead of hard-coding the iqn's in the tests.
    
    The problem is that the target_name variable uses an invalid format
    for the iqn based on cinder-defaults.  It neglected to use the
    volume_name prefix (in this case: "volume-").
    
    This patch modifies the self.target_name variable to be more accurate
    with what we would see in real usage, it also modifies the test to just
    use this variable rather than hard coding it and running the risk of
    having mismatches again in the future.
    
    Change-Id: I392d423d5c0f58b7a21ee0c477609265002faa0c

commit 18f8f5be94aae3b1747b143479ea1b188872f000
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jan 24 14:51:21 2014 -0700

    Catch new iscsi exception
    
    A while back we fixed up a target create/update error
    that was identified in the gating tests:
        https://review.openstack.org/#/c/47513/
    
    Since then a new patch was introduced to to the update and separate
    it so that it could easily be used in other places.
        https://review.openstack.org/#/c/58599/
    
    The problem is this added a new exception "TargetUpdate" and
    didn't add this to the except block that we have.
    
    This patch changes the catch block to handle the new exception and
    do the retry, thereby putting the original fix back in place.
    
    Change-Id: I1ed1bc6f4249f99a36b1168f9fec0b6b74482acf
    Closes-Bug: 1223469

commit 29ffebe48f2140c325fecc5df14c872f1e9393fd
Merge: 3e0d5c7 5109963
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 24 21:54:04 2014 +0000

    Merge "Fix up calculating space info for mirrored volumes"

commit 19d8040d61d453ec3916d74c628189ca0b54ac59
Author: ling-yun <zengyunling@huawei.com>
Date:   Mon Jan 20 18:48:43 2014 +0800

    Delete volume transfer in volume_destroy function
    
    Doing volume force delete operation on volume-A will change volume-A's
    status to 'deleted', so all related data about volume-A should be deleted.
    Now current version's volume_destroy function doesn't delete related data
    of volume transfer. If there is volume transfer about volume-A, first do
    force delete operation on volume A, and thus the volume-A's transfer data
    would be residual. So remove the related data of volume transfer in
    volume_destroy function.
    
    Change-Id: Id80a6e0cc061fccb02af60706244be043abdd72d
    Closes-Bug: #1270785

commit 3e0d5c77fec7d83f24319bbb84b5e3884635f2af
Merge: 9c3a05d 604e70e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 24 11:39:14 2014 +0000

    Merge "Remove unused method 'is_key_value_present()'"

commit 9c3a05d811753fa6abe1c0da2358b34c036948dd
Merge: 0653475 abb444f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 24 11:39:05 2014 +0000

    Merge "Add support for retype in Storwize/SVC driver"

commit 6a28603f48feb682ed23ce5da4bdace12dc581fd
Author: Anastasia Karpinska <akarpinska@griddynamics.com>
Date:   Wed Dec 18 13:34:23 2013 +0200

    Create structure of flows' packages
    
    1. Create_volume flows were moved to separate files from __init__.py.
       In future each flow should be implemented in a separate file.
    
    2. Add flows.common package for tasks that could be used by different flows.
    
    3. Proposed file structure for flows is more clean and helps to find and reuse
    common code.
    
    4. _exception_to_unicode function and tests were removed because never used.
    
    Partially implements: blueprint create-volume-flow
    
    Change-Id: I63473f549f0c501fe0f373830bc1080239d01892

commit 04dd95bef7e88c2602cca74d542654ec7bdfc754
Author: ling-yun <zengyunling@huawei.com>
Date:   Fri Jan 24 14:41:11 2014 +0800

    Fix docstring and remove unused variable
    
    Fix error docstring and remove unused variable 'volume ' in
    VolumeTransferTestCase.
    
    Change-Id: I6c98af30df88b8f19c23ef5e38e4b5b2eef7436c
    Closes-Bug: #1272182

commit 0653475f499d59fd41e40648802f7577e664a20e
Merge: 3a4da84 f1d30c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 24 07:56:35 2014 +0000

    Merge "Added missing accept_transfer to FC"

commit 3a4da84a463b1f375ffa747549c71d7910595379
Merge: d8dba90 3869f75
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 24 04:06:03 2014 +0000

    Merge "Rename __init__.py to create_volume.py"

commit e9722f09dfd4b58e40afbf285ab9a7738a641dca
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 23 11:57:17 2014 -0500

    GlusterFS: Fix deadlock in volume clone
    
    The create_cloned_volume path could deadlock due to
    create_cloned_volume and create/delete_snapshot using the same
    lock for synchronization.
    
    Refactor the calls to create/delete snapshot to call the inner
    method which does not use a lock.
    
    Introduced by "06999f6 GlusterFS: Synchronize additional op..."
    
    Related-Bug: 1267983
    Closes-Bug: 1272092
    
    Change-Id: I84ca34b201c10644faa047f1c9274c14bcdd0359

commit d8dba90f5be90b8cb7db564098492d0075de8272
Merge: d6f7101 96420a1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 23 18:40:14 2014 +0000

    Merge "Update HACKING.rst with regard to mock usage"

commit 4576ca73eae6e2ec554b4e6785b9fd7ef310ac91
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Wed Jan 8 14:50:29 2014 +0800

    Enable multi-process for API service
    
    Due to the limit of Python interpreter, API service of Cinder can't
    really utilize underlying multi-core architecture even libraries
    like eventlet has been used. To make API service much more scalable,
    we'd adopt multi-process (worker) mode that has been used for long
    in Glance/Swift/Nova.
    
    The default behavior isn't changed with this patch, Cinder API
    service will still run in one process (default value of
    osapi_volume_workers is None).
    
    Implementation wise, a good portion of cinder/service.py has been
    removed because those content has been merged in Oslo version of
    service module.  cinder/wsgi.py is also updated to adopt the change
    for multiple WSGI servers running in separate processes.
    
    Implement bp: multi-process-api-service
    
    DocImpact: 'New config option osapi_volume_workers is used to specify
    number of API service workers (OS processes) to launch for Cinder
    API service.  Setting this config option to a proper value (e.g.
    osapi_volume_workers = # of CPU cores/threads of the machine) can
    greatly improve the total throughput of API service [# of API
    requests can be handled per second].'
    
    Also removed out-dated comments in bin/cinder-api due to the fact
    that this bug [1] has been fixed in eventlet 0.9.13
    
    [1] https://bitbucket.org/eventlet/eventlet/issue/92/eventletgreen-override-of-oswaitpid
    
    Change-Id: I8361d0dc0d43040e48634ff1aee1324e5e0af466

commit 6c9f81b97ededf2b6401861f7d876851ff07b34b
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 16 13:45:05 2014 -0500

    Sync RPC module from Oslo
    
    22e971a safe_log Sanitize Passwords in List of Dicts
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    23f6029 Use six.seraise() instead of `raise exc, val, tb`
    6d0a6c3 Correct invalid docstrings
    7cac1ac Fix mis-spellings
    ef406a2* Create a shared queue for QPID topic consumers
    e6494c2 Use six.iteritems to make dict work on Python2/3
    e227c0e* Properly reconnect subscribing clients when QPID broker restarts
    16fb43b Replace data structures' attribute with six module
    27b21bc Unify different names between Python2/3 with six.moves
    12bcdb7 Remove vim header
    3970d46 Fix typos in oslo
    1771a77 Adjust import order according to PEP8 imports rule
    0717d1d matchmaker_redis compatibility with redis-py 2.4
    f88d59a Drop RPC securemessage.py
    39f6589 Use localisation
    8a3996a Fix missing space in help text
    4bfb7a2 Apply six for metaclass
    d7d74a7 Add `versionutils` for version compatibility checks
    3cdd157 Add third element to RPC versions for backports
    76972e2* Support a new qpid topology
    284b13a Raise timeout in fake RPC if no consumers found
    9721129 exception: remove
    7b0cb37 Don't eat callback exceptions
    69abf38 requeue instead of reject
    28395d9 Fixes files with wrong bitmode
    bec54ac Fix case error in qpid exchange type "direct"
    61c4cde Ensure context type is handled when using to_dict
    223f9e1 Clarify precedence of secret_key_file
    a035f95 Don't shadow cfg import in securemessage
    0f88575 Remove redundant global keyword in securemessage
    848c4d5 Some nitpicky securemessage cleanups
    5c71c25 Allow non-use of cfg.CONF in securemessage
    9157286 RPC: Add MessageSecurity implementation
    2031e60 Refactors boolean returns
    a047a35 Make ZeroMQ based RPC consumer threads more robust
    34a6842 On reconnecting a FanoutConsumer, don't grow the topic name
    f52446c Add serializer param to RPC service
    5ff534d Add config for amqp durable/auto_delete queues
    f9f1b4f Revert "Add support for heartbeating in the kombu RPC driver"
    1a2df89 Enable H302 hacking check
    7bfd443 Avoid shadowing Exception 'message' attribute
    99b7c35 Convert kombu SSL version string into integer
    c37f6aa Add support for heartbeating in the kombu RPC driver
    3006787 Sanitize passwords in _safe_log
    dea334a Replace sys.exit by a RPCException
    3969355 Fix exception arg typo
    22ec8ff Make AMQP based RPC consumer threads more robust
    13650b1 rpc: remove some unused serialization code
    e204885 Optionally reject messages on exception.
    688832f Remove unused zmq relay functionality
    719eba4 Don't reconnect to exclusive fanout consumers.
    980fe5f Allow exceptions to hop up cells
    80476f0 Add can_send_version() to RpcProxy.
    7119e29 Enable hacking H404 test.
    32e2a25 zmq: remove someone unused code from ZmqClient
    6d42ced Remove the amqp_rpc_single_reply_queue option from Havana
    7ce5441 Fix problem with long messages in Qpid
    e3545f8 Enable hacking H402 test
    15d8d69 Silence exceptions from qpid connection.close()
    484a1df Enable hacking H403 test
    35660da Enable hacking H401 test
    1a9a744 MatchMakerStub - make it work & add test
    35aad91 Use zero-copy in ZeroMQ proxy (zmq-rpc-receiver)
    b677b13 Remove rootwrap from IPC directory creation
    93ee6e3 Add generic serialization support
    fe2f108 Enable hacking H702 localization test
    0a14e1d Enable hacking H703: Multiple positional placeholders
    df7ea83 Allow RPC_API_NAMESPACE on RpcProxy objects
    aa89d8b Support capping message versions in the client.
    1d7920a Extract matchmaker_ring to own module
    3e33692 Merge "Removes len() on empty sequence evaluation"
    44c79fc Merge "python3: use 'as' syntax for exception assignment"
    0c54b72 python3: use 'as' syntax for exception assignment
    a514693 Removes len() on empty sequence evaluation
    fde1e15 Convert unicode for python3 portability
    0c9047c* Ensure that qpid connection is closed.
    120ddef Improve Python 3.x compatibility
    
    (* after hash indicates this was already ported to Cinder)
    
    Oslo version:
    7a51572 Merge "Implement cache abstraction layer"
    Date:   Wed Jan 15 19:31:16 2014 +0000
    
    Related-Bug: #1189711
    Closes-Bug: #1270178
    
    Change-Id: I19572c5e98c1c1037a6a622d63fbdea8d6001532

commit 2c39b37625dd094b2a7b63821aab8d71801f26a0
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 16 14:08:53 2014 -0500

    Sync common modules from Oslo
    
    Identified as dependencies for RPC sync by update.py
    
    Contains code from:
    12bcdb7 Remove vim header
    e6494c2 Use six.iteritems to make dict work on Python2/3
    6d0a6c3 Correct invalid docstrings
    fe18bfa Remove keystone from default_log_levels default
    0228b81 Logging excepthook: print exception info if debug=True
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    6d0a6c3 Correct invalid docstrings
    fe18bfa Remove keystone from default_log_levels default
    13eb01c Adding domain to context and log
    27b21bc Unify different names between Python2/3 with six.moves
    a6f40ac Don't log to stdout when log_dir is set
    4c22556 Use py3kcompat urlutils functions instead of urlparse
    0bf03b7 Add network_utils.urlsplit
    e456727 Remove useless logging in networks_utils
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    37e46bb disable SIGHUP restart behavior in foreground
    f08f6ba service: replace eventlet event by threading
    32cd4c0 Allow configurable ProcessLauncher liveness check
    25ff65e Make wait & stop methods work on all threads
    7013471 Fix typo in parameter documentation (timeutils)
    ae931a9 Avoid TypeError in is_older_than, is_newer_than
    ad17a69 Fix filter() usage due to python 3 compability
    
    Oslo version:
    7a51572 Merge "Implement cache abstraction layer"
    Date:   Wed Jan 15 19:31:16 2014 +0000
    
    Change-Id: If83fb203ecbae912e365118861477a9be834fde3

commit bc8846e3d573ad4fe901771da4178a0eb4afc1d3
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 16 13:25:33 2014 -0500

    Sync py3kcompat, sslutils, versionutils from Oslo
    
    Dependencies identified by update.py for RPC update.
    
    py3kcompat:
    12d3bbc Add method quote_plus in module py3kcompat.urlutils
    8575d87 Removed copyright from empty files
    0d8f18b Use urlutils functions instead of urllib/urllib2
    12bcdb7 Remove vim header
    4c22556 Use py3kcompat urlutils functions instead of urlparse
    71743d9 Add urlopen/URLError/pathname2url in urlutils
    0f2906f py3kcompat: Add unquote
    eaec23b py3kcompat: Add urljoin compatibility
    35c317b Fix capitalization, it's OpenStack
    4d12ad1 python3: Import translation layer
    
    sslutils:
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    12bcdb7 Remove vim header
    1a2df89 Enable H302 hacking check
    99b7c35 Convert kombu SSL version string into integer
    b0b37ce Fix IBM copyright strings
    f63ea05 Use oslo-config-2013.1b3
    e50b68c Support for SSL in wsgi.Service
    
    versionutils:
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    a5ae087 fixed typos
    45658e2 Fix violations of H302:import only modules
    37ea814 Adds decorator to deprecate functions and methods
    12bcdb7 Remove vim header
    d7d74a7 Add `versionutils` for version compatibility checks
    
    Oslo version:
    7a51572 Merge "Implement cache abstraction layer"
    Date:   Wed Jan 15 19:31:16 2014 +0000
    
    Change-Id: I72a4ddaa015ce4a8016d580c922e8f7664376cb7

commit 385eaa23149f6780ba6ff2e9a006e0189d810c23
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 16 13:09:05 2014 -0500

    Sync gettextutils from Oslo
    
    Update gettextutils as a dependency for RPC updates
    
    Requires changes within Cinder as well for
    "get_localized_message" -> "translate" method rename.
    
    221c37d Allow the Message class to have non-English default locales
    0e1af5b Implementation of translation log handler
    f5686b1 Merge "Translation Message improvements"
    8b2b0b7 Use hacking import_exceptions for gettextutils._
    2cfc1a7 Translation Message improvements
    45658e2 Fix violations of H302:import only modules
    12bcdb7 Remove vim header
    
    Oslo version:
    7a51572 Merge "Implement cache abstraction layer"
    Date:   Wed Jan 15 19:31:16 2014 +0000
    
    Change-Id: I979114dbebfe2368b071cc6c18951da227b6f74a

commit c7859db129db53f0e4dc743163179163b5ed4f03
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jan 22 14:27:39 2014 +0200

    Storwize driver cleanup
    
    1. Moved Storwize driver into 'ibm' directory and refactored into
       separate files to improve readability and debug-ability. Other IBM
       drivers will be moved into this directory in a separate patch.
    2. Errors coming from storage now raise VolumeBackendAPIException,
       and those coming from the driver raise VolumeDriverException.
    3. Fixed many pylint errors.
    4. Removed any usage of mox from unit tests in favor of mock.
    
    DocImpact
    
    Change-Id: I1696a97279efe834a96b3f3843bc65f0ea6da9cc

commit abb444f2d349b8f8c405a8636046fe4e910928aa
Author: Li Min Liu <liminliu@cn.ibm.com>
Date:   Thu Jan 9 14:54:09 2014 +0800

    Add support for retype in Storwize/SVC driver
    
    In Storwize/SVC, retype can be handled by a few cases:
    1. The change may just require setting an option on the volume
    2. The change may require moving the data in the same pool (e.g.,
       compression)
    3. The scheduler may have chosen a different pool virtualized by the
       same Storwize or SVC, in which case we move the data as in #2
    
    Implements: blueprint storwize-svc-retype
    
    Change-Id: Ic2ed17bce56b5ea65e1596acfa85720cf4818fa8

commit d6f7101f2d76aa8750c23a67ea030f8a9c32eb25
Merge: 1ebc405 bfa6812
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 23 09:29:37 2014 +0000

    Merge "Use a mirrored mirror log"

commit 1ebc405e5ee5c2d922b3b033d9362f9f207c39fd
Merge: d540eb6 657dd07
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 23 09:28:40 2014 +0000

    Merge "Remove unused config options"

commit adbb27239809cb7b85777371b4f9d1599a56661f
Author: jenny-shieh <jenny.shieh@hp.com>
Date:   Wed Jan 22 12:20:07 2014 -0800

    Add notifier events to cinder volume rename, reset-state
    
    Implements: notifiers for cinder volume rename, reset-state
    Fixes: bug #1271692
    Change-Id: Ie82a4c062904a4f86c9f6364649b8c2b9f71ea6e

commit d540eb6f7cac1bb7e705e377c4100a5f1f5f5d8e
Merge: 4325cca 7a56ebb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 23 01:56:06 2014 +0000

    Merge "Pull Bug #1263122 fix for service module from Oslo"

commit 4325ccae288061ec9a834843c77a0febe6332494
Merge: 57a76da 68ed1bc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 15:59:37 2014 +0000

    Merge "Remove unused variable in restore_backup method"

commit 855caef27a6525fc6b200d014dd7fb5de9dfa7ba
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Mon Dec 23 21:10:55 2013 +0000

    Convert RBD unit tests to use mock instead of mox
    
    Change-Id: If32e14a8f5ff180b6c0ff46797bcb81b21f805f1
    Closes-bug: 1261864

commit 57a76da0c0ef77a4c714e9004a3992e278998a39
Merge: 60bc096 7035ef4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 05:45:16 2014 +0000

    Merge "Use oslo.rootwrap library instead of local copy"

commit 60bc096b5dbc041edb30c720fae988778a24f2e9
Merge: 2a32aa0 8228379
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 05:33:49 2014 +0000

    Merge "Fix UnboundLocalError in TgtAdm.update_iscsi_target"

commit 2a32aa0aaf13f1aef809f77d2eb0b2128d8b7f8b
Merge: f3f95bf d09b7c7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 03:45:42 2014 +0000

    Merge "Allow user to specify audit period."

commit f3f95bff2ad92f567f9feac8afc94372f13b9013
Merge: 1636f61 ce889d9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 03:45:34 2014 +0000

    Merge "Transfer creation doesn't support 'name' via xml"

commit 1636f61b9ead21eb03ed444d40221ba53791c9b6
Merge: 8232e16 79f63f9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 03:43:04 2014 +0000

    Merge "Fix cross-import bug in cinder.db.sqlalchemy.api"

commit 8232e16a269bd687bdb9bcfe58daa58656fd3053
Merge: d18113f e71e596
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 03:41:49 2014 +0000

    Merge "Add Backup Service to 'cinder-all' script"

commit d18113f80df8138369868809407c7dc51d1138b3
Merge: 6f2ef65 ed05bbe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 03:38:33 2014 +0000

    Merge "Ensure hostnames are converted to IP for comparison."

commit 6f2ef657efa8735b9f3dc33a5e85c94bbd238e53
Merge: ea5c148 5db9724
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 03:36:08 2014 +0000

    Merge "Update host on driver retype"

commit ea5c148be80fe618515b66ed6f5ea5caa5180921
Merge: 76c83dd 9c1ad54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 22 02:08:51 2014 +0000

    Merge "Remove env from rootwrap filter"

commit 76c83dd9b561b942f299a5e0f6120f2947f8d614
Merge: f67050b f787460
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 21 22:00:58 2014 +0000

    Merge "Remove unused variable in os-extend api"

commit 28b8ecc15d874644952bb74539c61becaf5f7d20
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Jan 21 11:54:15 2014 -0800

    Fixed inconsistency in iqn
    
    Brick's TargetAdmin classes have a
    default value set in __init__ for
    iscsi_target_prefix.   The unit test was changing
    the value returned for the internal _get_target,
    but wasn't changing the CONF.iscsi_target_prefix to
    match.  So the default value in the __init__ was
    being used and hence the differences.
    
    This patch sets the configuration's iscsi_target_prefix
    which alters the values passed into the driver.  This
    also makes the tests consistent between the iqn of the volume
    at create time and delete time.
    
    Closes-Bug: #1271249
    Change-Id: Ie3308cf68adcbdff6057ea795af1299dded82e14

commit 96420a1e2673f5aea4a5e60c5cd000aba524d137
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jan 21 18:00:05 2014 +0200

    Update HACKING.rst with regard to mock usage
    
    Add a sentence about using mock rather than mox for unit tests.
    
    Change-Id: If3c175d986f3ebed6d949df5c473e0cf9177ef6e

commit f67050b501c458f16953538dfb270f74d2fe49cb
Merge: 3f2a6c3 edc9338
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 21 15:16:40 2014 +0000

    Merge "Updates for version list to show correct references"

commit 3f2a6c3c36f4c2e33153b8c6b590bfdc03f336d4
Merge: d4c4f4c a9661fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 21 10:07:49 2014 +0000

    Merge "Use loopingcall from openstack-common"

commit d4c4f4cd13a2c7c9bfe05fca78fa5e6d1e04d4c9
Merge: 407301e 8ba08f0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 21 08:36:07 2014 +0000

    Merge "Pull latest scheduler change from Oslo"

commit 604e70e7524bb854347edfcc079d30d6c68f5f79
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Fri Jan 10 13:39:56 2014 +0900

    Remove unused method 'is_key_value_present()'
    
    The following method is not used.
      is_key_value_present() in cinder/volume/volume_types.py
    
    Change-Id: If1ecd22f2cfb758f0e9f7c6b730727559e9dcdf0

commit 657dd074cddf11767738def39f2686c38fe445c8
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Wed Jan 8 10:39:35 2014 +0900

    Remove unused config options
    
    The following options are not used.
    
    o fake_tests=true
      This configuration was removed in the following commit.
    
        commit 6ae520677da80103bae79e3db3569360df1220cd
        Author: Monty Taylor <mordred@inaugust.com>
        Date:   Fri May 24 01:36:21 2013 +0200
    
            Replace custom skip_ methods.
    
    o backlog=4096
      This configuration was added in the following commit.
    
        commit 24d961023f2a32ca3454991a7891199d2da796dc
        Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
        Date:   Sat Jan 12 16:16:19 2013 -0500
    
            Support for SSL in wsgi.Server
    
      But there is no evidence that was used.
    
    o bindir=$pybasedir/bin
      This configuration was added in the following commit.
    
        commit c53d8e343e50d4cf7ea9a6a81258848c2d893bfb
        Author: Jenkins <jenkins@review.openstack.org>
        Date:   Thu May 3 10:48:26 2012 -0700
    
            Initial fork out of Nova.
    
      But there is no evidence that was used.
    
    o root_helper=sudo
      This configuration was removed in the following commit.
    
        commit 5bce6ad46f57d22fcb22ba9e194fbd1e2d53f55d
        Author: John Griffith <john.griffith@solidfire.com>
        Date:   Tue Jun 4 17:07:03 2013 -0600
    
            Use common.processutils.execute
    
    o nexenta_mount_options=<None>
      This configuration was added in the following commit.
    
        commit 96677735f6d8f1f5b6380127956921f719aab799
        Author: Mikhail Khodos <hodosmb@gmail.com>
        Date:   Wed Aug 14 11:18:12 2013 -0700
    
            Adds Nexenta NFS driver
    
      But there is no evidence that was used.
    
    o nexenta_used_ratio=0.95
      This configuration was added in the following commit.
    
        commit 96677735f6d8f1f5b6380127956921f719aab799
        Author: Mikhail Khodos <hodosmb@gmail.com>
        Date:   Wed Aug 14 11:18:12 2013 -0700
    
            Adds Nexenta NFS driver
    
      But there is no evidence that was used.
    
    o nexenta_oversub_ratio=1.0
      This configuration was added in the following commit.
    
        commit 96677735f6d8f1f5b6380127956921f719aab799
        Author: Mikhail Khodos <hodosmb@gmail.com>
        Date:   Wed Aug 14 11:18:12 2013 -0700
    
            Adds Nexenta NFS driver
    
      But there is no evidence that was used.
    
    o zadara_default_striping_mode=simple
      This configuration was removed in the following commit.
    
        commit 2f907133aeaee09f58be30e75089c23b13573500
        Author: Vladimir Popovski <vladimir@zadarastorage.com>
        Date:   Fri Aug 16 04:34:54 2013 +0000
    
            Add features to Zadara Storage Cinder driver
    
    o zadara_default_stripesize=64
      This configuration was removed in the following commit.
    
        commit 2f907133aeaee09f58be30e75089c23b13573500
        Author: Vladimir Popovski <vladimir@zadarastorage.com>
        Date:   Fri Aug 16 04:34:54 2013 +0000
    
            Add features to Zadara Storage Cinder driver
    
    Change-Id: Ie78b8c7fc081899b8053060150e81e1a6c5d4958

commit e2fd4f204897b10aae1c2d182eacfc5315b9881f
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Fri Jan 10 18:22:36 2014 +0900

    Remove unused exceptions
    
    The following exceptions are not used.
      class MigrationNotFound(NotFound):
      class BadDriverResponseStatus(VolumeDriverException):
      class InstanceNotFound(NotFound):
      class VolumeRetypeFailed(CinderException):
      class DuplicateSolidFireVolumeNames(SolidFireDriverException):
    
    Change-Id: I891360f9c150eb8ea3f3968f12b9ad3da998981a

commit 407301e23b4558863999dfc49e82ae81de4f4c35
Merge: c24e82d e4505f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jan 20 22:11:50 2014 +0000

    Merge "Register EMC config options globally"

commit a7b6d82fd170bc594ceff791eb10b900a61c9175
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Jan 20 10:06:01 2014 -0800

    Do not show quota of removed volume types in Default Quotas panel
    
    Fixes the issue where quota for removed volume types still show up
    in Admin -> Defaults -> Default Quotas view.
    
    Change-Id: I2a822ac08b8347a8d76e8de70deca0e34fafe6e3
    Closes-Bug: #1266906

commit 51099632dfc979c57133a69e4c68cdad3fe47008
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Fri Jan 17 14:07:43 2014 -0700

    Fix up calculating space info for mirrored volumes
    
    The status reporting in the lvm driver for cinder volume incorrectly
    reports free capacity. This is due to a couple of issues:
      a) the number of mirrors isn't taken into account
      b) there are some pathological cases where a
         simple division by total mirrors isn't sufficient
         because all mirrors must be on separate physical volumes.
    
    Co-authored-by: Vishvananda Ishaya <vishvananda@gmail.com>
    Co-authored-by: John Griffith <john.griffith@solidfire.com>
    
    Closes-Bug: 1269964
    Change-Id: I65e16b24367b4093a52c1c52d895fb58ef6a29ff

commit 3869f75e697b591f2ca37a960e5d900e17dbdf98
Author: Anastasia Karpinska <akarpinska@griddynamics.com>
Date:   Mon Jan 13 10:21:36 2014 +0200

    Rename __init__.py to create_volume.py
    
    This commit is the first step of creating packages structure for
    flows. This change is required to preserve git history of renamed files
    for change I63473f549f0c501fe0f373830bc1080239d01892
    
    Change-Id: Ib5ed0e9196fa7bf4fd0b69a13c90e40c360ad8ef

commit 7035ef485ef733c43ca9d22f1327e0ee551642e1
Author: Thierry Carrez <thierry@openstack.org>
Date:   Fri Jan 17 11:28:17 2014 +0100

    Use oslo.rootwrap library instead of local copy
    
    Remove rootwrap code copied from oslo-incubator, make
    cinder-rootwrap a console_script entrypoint pointing in
    oslo.rootwrap instead.
    
    Change-Id: I4e924bc9fccd7f5a8522ac38b7c6d29683990ea8
    Implements: blueprint cinder-oslo-rootwrap

commit 82283790b7c5ba6ae0e561ee3302d7fed7983267
Author: Yuriy Taraday <yorik.sar@gmail.com>
Date:   Sun Jan 19 23:08:06 2014 +0400

    Fix UnboundLocalError in TgtAdm.update_iscsi_target
    
    Closes-Bug: #1270624
    Change-Id: I74a057a9603c5d6aefaec6db62228352b739df56

commit 5db972494a8e6b090e16b14f675226929d3244a7
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Jan 12 15:41:31 2014 +0200

    Update host on driver retype
    
    The volume's host was not updated on retype where the driver handled
    the retype. Now update in all cases.
    
    Change-Id: I64b72ae5617d1dacad8f37c4246ce0f079e015bb
    Closes-Bug: #1268305

commit c24e82d046abb4e64f83cb7201d717b9cb403517
Merge: 28fc82b 2f39c85
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 19 07:35:56 2014 +0000

    Merge "Fix exception log msg in attach volume method"

commit 28fc82bf6a58b69853dcf39069a17a0a6e9cbd30
Merge: ea9c594 e86098c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 19 01:07:49 2014 +0000

    Merge "Fix os.getlogin() problem with no tty"

commit 68ed1bcec81e173648a4a86e5f4e21abc6dcf539
Author: ling-yun <zengyunling@huawei.com>
Date:   Fri Jan 17 11:58:10 2014 +0800

    Remove unused variable in restore_backup method
    
    Variable err in restore_backup method is not being used, so remove this
    'err ' variable.
    
    Change-Id: I31f6da5fd55e025d6496aca76a1157ff5a167d9e
    Closes-Bug: #1270034

commit ed05bbe1e786e3eedfd94e7f6724ecb38f32f1e6
Author: Bob Callaway <bob.callaway@netapp.com>
Date:   Fri Jan 10 11:15:07 2014 -0500

    Ensure hostnames are converted to IP for comparison.
    
    Also switch to using getaddrinfo for IPv6 compliance
    vs gethostbyname.
    
    Change-Id: I1a194eae514a65bff56488571c05457bfa660c02
    Closes-Bug: 1267667

commit e71e59675034585a3d9e894ed13ebcf4b23ecd2a
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Sat Jan 18 02:02:19 2014 +0800

    Add Backup Service to 'cinder-all' script
    
    Backup service is missing in 'cinder-all' script, this patch simply
    add it so that this all-in-one script could launch all Cinder
    Services.
    
    Change-Id: I29c7355baabddd18a14fe9f97b71f58d24a033dc

commit 9c1ad54e7815d50d9561d88337724ad2042c92a2
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Jan 16 22:59:41 2014 +0100

    Remove env from rootwrap filter
    
    Allowing 'env' as a CommandFilter is similar to
    allowing '/bin/bash', which makes all of rootwrap pointless.
    Use EnvFilter instead. Change corresponding commands
    that use env for setting C locale and adjust rootwrap
    filters accordingly.
    
    Several commands that output information that is
    parsed as input by cinder change their behavior
    based on the environment locale, which is depending
    on local system settings. The code is however only
    able to parse in C locale, so enforce that one.
    
    Closes-Bug: #1269958
    
    Change-Id: Ie1463e608c80204c7a8906efb95899a66aa733da

commit ea9c59448e9f3d4652f8c7010965ffa25ca56804
Merge: 35ecd8a 06999f6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 17 15:23:07 2014 +0000

    Merge "GlusterFS: Synchronize additional operations"

commit 35ecd8a97b9781c48d6a67b13dd423da61269314
Merge: c6371f4 fce28fe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 17 13:26:15 2014 +0000

    Merge "Remove legacy config option 'connection_type'"

commit c6371f47cc8c60ae7f72d10dd6a302c8393bcee4
Merge: e2e0ed8 9206b54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 17 13:26:06 2014 +0000

    Merge "Use a *args pass-in instead of a list one"

commit e2e0ed80799c1ba04b37278996a171fc74b6f9eb
Merge: 5be4620 a926764
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 17 13:25:58 2014 +0000

    Merge "LVM: update iscsi target on volume attach"

commit d09b7c78b3c905badb1112434eb9c09c2c8ffb5a
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Thu Dec 12 11:01:34 2013 +0000

    Allow user to specify audit period.
    
    The script 'cinder-volume-usage-audit' is generally run by cron to
    generate volume and snapshot exists audit notifications that can be
    consumed by ceilometer or other auditing systems. In this mode it sends
    notifications for volumes that existed in the 'last completed audit
    period' as calculated by cinder.utils.last_completed_audit_period()
    
    However, it may sometimes be necessary to be able to send notifications
    for audit periods other than than the last completed audit period. For
    example if the host running the audit script was down for a period.
    
    This patch provides three optional command line parameters to the script
    cinder-volume-usage-audit. If no parameters are provided then the
    operation of the script is unchanged. If parameters are provided then
    they have the following effects:
    
    --start_time specifies a date and time that is used in place of the
    start of the last completed audit period.
    
    --end_time specifies a date and time that is used in place of the end of
    the last completed audit period.
    
    --send_actions As well as sending exits notifications the script will
    send any create or delete notifications that would have been sent during
    the specified audit period.
    
    Closes-Bug: #1259147
    
    Change-Id: I0cfe963ea59d811ba4bac0bd3de31382a088b8c8

commit 2f39c8523091c9a2e55254fb32900305524a6fff
Author: ling-yun <zengyunling@huawei.com>
Date:   Fri Jan 17 10:49:58 2014 +0800

    Fix exception log msg in attach volume method
    
    Attach volume happened when volume's status is attaching or available, but
    the exception msg only contain info about "available". So fix it.
    
    Change-Id: I1caf83b94b3e4158eff88871a4187041a25e5d1c
    Closes-Bug: #1270020

commit f29f812bc64726b01a50590894d6d430c5f3d30d
Author: Chang Bo Guo <guochbo@cn.ibm.com>
Date:   Tue Nov 5 22:56:36 2013 -0800

    Fix import log_handler error with publish_errors set
    
    Sync latest module log_handler from Oslo.
    Commit Id is 2843a92a0e4007f50d5ad63d51fe574e1ba5e280
    
    This handler sends the error to configured notifier.
    The notifier could be any kind (log, RPC, no_op, None).
    
    Note: when using publish_errors you also need to set the
    notification_driver option too.
    
    Closes-bug: #1240349
    Change-Id: I4f759b049b8f34904ba11382a2e8fc1578677a8f

commit bfa681204f59bf5ea4700dc21f8f29fb1a4a4fdd
Author: Joel Friedly <joelfriedly@gmail.com>
Date:   Thu Jan 16 17:19:26 2014 -0800

    Use a mirrored mirror log
    
    By default, LVM will sync the two mirrors of a logical volume on
    creation. This is I/O intensive and it takes a long time though, so we
    tell it not to with --nosync. The next default behavior is to create a
    mirror log which says what portions of the mirrors are in sync. But
    then if a disk backing a mirror log fails, we have to deal with
    resyncing the mirrors at each reboot.
    
    This commit tells LVM to use a mirrored mirror log, which will use
    approximately 4MB of extra space, but means we'll never have to
    sync mirrors, ever.
    
    Change-Id: I6586ced4e7e66ae79ae134406a4c633f8fbc8602

commit f1d30c9bc4ae626883d827d3b0a0458aa9f70820
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Jan 16 11:44:13 2014 -0800

    Added missing accept_transfer to FC
    
    The base class FibreChannelDriver was
    missing the new accept_transfer method.
    This was caught while running the devstack
    driver certification tests again the
    3PAR FC driver.
    This patch adds the missing method to the
    base VolumeDriver.
    
    Change-Id: I0aa91a4f11edd03eee7607d15317b89c30732cb7
    Closes-Bug: #1269633

commit e4505f8a617e7c9544bb142478d182ec9d37bdf9
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Wed Jan 15 18:23:40 2014 +0100

    Register EMC config options globally
    
    The registration allows the oslo sample config generator
    to detect the config options and extract automatically
    a config template.
    
    Change-Id: Ib181d734dddbd9b6a664439286969b832d6536e7

commit e86098cfc28f84505d4460108bbdfe019fe1efd0
Author: Koert van der Veer <koert@cloudvps.com>
Date:   Thu Jan 9 21:18:50 2014 +0100

    Fix os.getlogin() problem with no tty
    
    Catch OSError(s) from  os.getlogin() and fall back to looking at
    environment variables to figure out the user's name. The OSError
    is thrown where there is no tty for the python process when
    os.getlogin() is called.
    
    Related-Bug: #1221491
    
    Change-Id: I2bd735c9669ba9d25da108da44ea602f358b2dcc

commit edc93383f7cd9d055d655a8e345a3efa81b7de5b
Author: Swapnil Kulkarni <swapnilkulkarni2608@gmail.com>
Date:   Thu Jan 16 13:28:31 2014 +0530

    Updates for version list to show correct references
    
    Updated views to consider version while creating href.
    Updated fakes to consider version while creating fake href.
    Updated some test cases in v2 api which were using v1 as
    expected output
    
    Change-Id: Ib05180041309ef75c3718924969bd2354d6d8b3a
    Closes-Bug: #1261849

commit 79f63f95fe81a6642f43c4ad2cb75f657e11ca3c
Author: Dima Shulyak <dshulyak@mirantis.com>
Date:   Wed Jan 15 14:44:19 2014 +0200

    Fix cross-import bug in cinder.db.sqlalchemy.api
    
    Cross import in cinder.sqlalchemy.db.api module breaks
    if lazy loading of db backend is removed
    
    In oslo.incubator db.api lazy loading was removed
    Check this change for details https://review.openstack.org/#/c/55985/
    
    Change-Id: I6a75afd0b9b55097ef76ad24c53e84339b527196

commit 7a56ebb96f28f61811450835fcd43de5a4de8661
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Thu Jan 2 14:16:18 2014 +0800

    Pull Bug #1263122 fix for service module from Oslo
    
    Get latest service module from Oslo mainly to avoid the impact of
    bug #1263122 when multi-process API service is enabled.
    
    Follow commits are included in this change:
    * 8b2b0b7 2013-12-20 | Use hacking import_exceptions for gettextutils._
    * 37e46bb 2013-12-20 | disable SIGHUP restart behavior in foreground
    * 12bcdb7 2013-10-11 | Remove vim header
    
    Change-Id: I506ff809c32542520cc6ba2fa07519b1361f439c

commit 8ba08f0aa61d42d618f7772f83c7129c671bde65
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Thu Jan 2 09:31:24 2014 +0800

    Pull latest scheduler change from Oslo
    
    The RetryFilter is now part of Oslo, although it's been renamed to
    IgnoreAttemptedFilter.  Thanks to entry_point, we are able to maintain
    backwards compatibility after pulling that commit from Oslo.
    
    Commits in this change:
    * 66fe978 2013-12-10 | Change IgnoreAttemptedHostFilter to expect 'retry' key (attempt-retry)
    * 135dd00 2013-12-10 | Remove start index 0 in range()
    * 45658e2 2013-12-09 | Fix violations of H302:import only modules
    * 70004c6 2013-12-04 | Add IgnoreAttemptedHostsFilter to oslo
    * 880acf7 2013-11-14 | Change capabilities filters to use resource type (capfilter_message)
    * 06e9d98 2013-11-10 | Add some log messages to capabilities_filter.py
    * 3970d46 2013-11-02 | Fix typos in oslo
    * 8718763 2013-08-19 | Replace list with dict in AvailabilityZoneFilter.host_passes
    * c0d052a 2013-07-12 | python3: Add basic compatibility support.
    * e3545f8 2013-06-02 | Enable hacking H402 test
    * 484a1df 2013-05-30 | Enable hacking H403 test
    * 35660da 2013-05-30 | Enable hacking H401 test
    * 5dcc43b 2013-05-05 | Break out common functionality for filters and weights
    * 1f2aba5 2013-05-03 | Renames filter to base_filter and weight to base_weight
    
    Change-Id: Ibeb685ef60e44cb6388fc460ee6a78255ed3dbae

commit a9661fba21d7e5dd3fb5d29f77266993e3adc460
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Jan 3 17:24:47 2014 -0500

    Use loopingcall from openstack-common
    
    This removes cinder.utils.LoopingCall and uses the copy in
    openstack-common instead.
    
    Change-Id: Id76b89797dffcc65fbf37fd1442f221ff5bb4668

commit 9206b54f8b3f92f948a891240d06b673a2eba332
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Tue Jan 14 10:57:32 2014 -0800

    Use a *args pass-in instead of a list one
    
    Change-Id: Ieef972f413dcf444d26c15a02d1993acf7cbb079

commit f78746062f942b30d73f2575c41dee26b3619f2f
Author: ling-yun <zengyunling@huawei.com>
Date:   Thu Jan 9 18:49:53 2014 +0800

    Remove unused variable in os-extend api
    
    Temp variable _val in _extend method is not being used, so remove this
    '_val' variable.
    
    Change-Id: I4a3f5e28d1882698a3efd116044c4fddff86c474
    Closes-Bug: #1267423

commit 06999f610afc3a123f7a54895e39d690301a8eba
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Jan 10 14:20:41 2014 -0500

    GlusterFS: Synchronize additional operations
    
    create_cloned_volume() and copy_volume_to_image() should also be
    locked against other driver operations to prevent collisions
    from concurrent updates of snapshot metadata or volume file data.
    
    Closes-Bug: #1267983
    
    Change-Id: Idd6158bfbe4dc049c33fa58b40d3d570fc244d01

commit 5be4620ae5bb50c8436de0e11269c85a095ed40b
Author: Flavio Percoco <flaper87@gmail.com>
Date:   Tue Dec 10 12:31:50 2013 +0100

    Move driver initialization check into the method
    
    Volumes and backups managers' methods are decorated with
    `require_initialized_driver` which checks whether the driver has been
    initialized or not. The decorator fails with a `DriverNotInitialized`
    exception if the driver hasn't been initialized.
    
    This early failure leaves volumes and backups in a wrong status which is
    not just confusing for the user but it also makes it difficult to do
    anything with the resources after they've been left in a 'bogus' status.
    
    For example, when a volume creation is requested, the volume is first
    created in the database and its status is set to 'creating'. Then the
    scheduler will pick an available volume node and send the task to it. If
    the driver has not been initialized, the volume status will be left as
    'creating' instead of 'error'.
    
    This patch fixes that issue by moving the driver initialization check
    into the various manager's methods. In some cases this check is done at
    the very beginning of the method, in some others - either to avoid code
    duplication or because the lines above the check made sense to be
    executed first - this check is done later in the method.
    
    Change-Id: I2610be6ba1aa7df417f1a1f7bb27af30273e4814
    Closes-bug: #1242942

commit 6f1e6f473c84657b33dde094cb4b047fbdaf7c45
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Jan 13 12:19:12 2014 -0500

    Update cinder.conf.sample for keystoneclient change
    
    A new version of python-keystoneclient adds the
    "include_service_catalog" option, so the sample conf needs to be
    updated.
    
    Closes-Bug: #1268614
    
    Change-Id: Ie6913e481caf61ee517c1c101565401fe33c60d6

commit ce889d99f61aecd0b4002d44866bbfff8ff6a2c3
Author: wingwj <wingwj@gmail.com>
Date:   Sat Dec 14 20:00:08 2013 +0800

    Transfer creation doesn't support 'name' via xml
    
    Change the transfer create XML deserializer to use 'name' rather than
    'display_name'. This is in line with cinderclient and the json code.
    
    Change-Id: I97ba0c4411fe4a151261ed2f657465951bcb9d7b
    Closes-Bug: #1243613

commit dc79d39b03643531c559dd9352c621d95c5c6057
Merge: 77ee831 783e324
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jan 13 12:20:17 2014 +0000

    Merge "Switch to Oslo's config generator"

commit 77ee831fbef4d8405fe2e9e8930b975cedd027f1
Merge: 45f31ef 671cd61
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 12 21:24:51 2014 +0000

    Merge "Print driver exception on retype"

commit 13f0468e376a17ea7811b97c5a8f72bb63d52249
Author: liyingjun <liyingjun1988@gmail.com>
Date:   Sun Jan 12 23:19:44 2014 +0800

    Change default policy for volume_extension:volume_tenant_attribute
    
    The volume_tenant_attribute extension should be accessible by
    the owning tenant and the admin. Change default policy from
    'rule:admin_api' to 'rule:admin_or_owner'.
    
    Change-Id: I886cd717741c86b5083aeaf16e3e7ea5b4e525b4
    Closes-bug: #1269312

commit 45f31ef1c39273a9e1e257da4e0ca0c8dd649ed8
Merge: 87189a9 1d9927d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 12 14:40:34 2014 +0000

    Merge "Fix Brick LVM test command parsing"

commit 87189a91ccd603206a7c70519f7ef8545c93c73e
Merge: 8d1fd9e cea7fe2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 12 13:51:25 2014 +0000

    Merge "Drop Chance/SimpleScheduler Implementation"

commit 671cd61704551a5d1fd753bb890650edd6dcd152
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Jan 12 15:43:34 2014 +0200

    Print driver exception on retype
    
    If the driver raises an exception, make sure it is printed. Also change
    the logging level from info to error because an exception should not be
    thrown under normal conditions.
    
    Change-Id: I003959c3f7c7667124ef61911587012fd4e1d667
    Closes-Bug: #1268294

commit 8d1fd9eef3fec6ec1efdda54cf3f2b5764fb7c9a
Merge: 3bce48e 2a7b119
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 12 12:28:40 2014 +0000

    Merge "Add bool_type dictionary to test_migrations"

commit 3bce48e2b3895c8ab4fcc2e968075234ad233aea
Merge: b061ed7 d64478f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 12 12:17:01 2014 +0000

    Merge "Hiding postgresql password in connection string"

commit b061ed77811bab83877c3974ebd77a81c44089b0
Merge: 8aba794 ae7fcda
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 12 09:51:59 2014 +0000

    Merge "Remove unused message from iogrp_data setup"

commit 8aba79498d2c43dfd974ee4b4ab30ce72916e625
Merge: 5147e79 3e4f554
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 11 17:21:10 2014 +0000

    Merge "Fixed a problem in iSCSI multipath"

commit 5147e79800960a1eda15cb8dd4222767af26f741
Merge: 0ea8085 9834639
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 11 14:13:40 2014 +0000

    Merge "3PAR: Raise Ex when del snapshot with depend vol"

commit 0ea80857eed9e9456d2f15eb76620a67676d98ce
Merge: 7268c4d aa1ba1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 10 20:17:57 2014 +0000

    Merge "Raise max header size to accommodate large tokens."

commit 7268c4d091a360ea4ccd7b5fb8e691dea350e0f8
Merge: d402fbf b85cc49
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 10 09:26:04 2014 +0000

    Merge "VMDK:Using host mount info for datastore selection"

commit d402fbfcc29769a4185ed945f2234ba03a751286
Merge: 41a4ade dfefeda
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 10 06:06:37 2014 +0000

    Merge "Fix sheepdog copy_image_to_volume method"

commit 41a4aded3c5b11e8de9b5927c7f0b80de86bda60
Merge: 21ebf28 d017dba
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 10 04:25:31 2014 +0000

    Merge "Fix sqlalchemy bug in transfer_get_all_by_project"

commit cea7fe21cecfcd28ede3ba411b8ab8b36c9a7c15
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Thu Jan 2 15:44:30 2014 +0800

    Drop Chance/SimpleScheduler Implementation
    
    This patch removes the implementation of ChanceScheduler and SimpleScheduler
    as previous changes have made sure they are internally replaced by
    FilterScheduler.
    
    The "max_gigabytes" config option is deprecated and will leave it like that
    for one more release before we can remove it.
    
    DocImpact: "ChanceScheduler and SimpleScheduler have been deprecated and
    their implementation have been removed from Cinder."
    
    Implement bp: deprecate-chance-and-simple-schedulers
    
    Change-Id: Ifb1cb25e3bb4cdf26fa3283336b83fce5c97141e

commit d017dbacc89233ec0f786f5af5d760b02b67a7cb
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Thu Dec 19 16:11:29 2013 +0000

    Fix sqlalchemy bug in transfer_get_all_by_project
    
    Because of incorrect use of the sqlalchemy methods joinedload and filter,
    incorrect lists of volume transfers were being returned by
    transfer_get_all_by_project().
    
    Change-Id: I378a512611591eec896edd5f217e75f9ff0f8ad3
    Closes-Bug: 1262432

commit dfefeda9cf87a8a4109c3f4e35feb5ee1d9eedff
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Jan 8 16:21:41 2014 -0700

    Fix sheepdog copy_image_to_volume method
    
    The sheepdog driver fails when trying to
    create volume from image due to a bug in
    SheepdogDriver.copy_image_to_volume.
    
    The utils.convert method is being passed the
    tempfile object, but should only be passed
    the name of the tempfile.
    
    Change-Id: I6b261d29895bf9c2c30b2d95d74e5be58b8e9b10
    Closes-Bug: 1261941

commit 21ebf2898e2f5fc8127b7a3bdc9743c49933f952
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Dec 9 15:34:39 2013 -0500

    NFS/GlusterFS: Skip incorrectly formatted shares
    
    Shares should always be of the form address:/volume.  If they are
    not (i.e., are missing the '/'), then skip them and issue a warning
    message.  This will prevent us from sending incorrect connection_info
    dicts to Nova.
    
    Closes-Bug: #1267253
    
    Change-Id: Ic40cd0cdc862b44b0a7d3e5b1d7c4fee8ea1b28d

commit da2caad4b952a19b183beacc9670aff1fbe2415d
Merge: 40a7da8 5b74ecb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 8 18:06:53 2014 +0000

    Merge "Modify default prefix for solidfire account"

commit ae7fcdab7813dbb2e682b00b817e796a9c30a3f8
Author: Lynxzh <jmzhang@cn.ibm.com>
Date:   Mon Jan 6 11:45:33 2014 +0800

    Remove unused message from iogrp_data setup
    
    The iogrp_data is initialized during do_setup loaded.
    The vdisk_count is originally used but later removed.
    In ValueException raised, the variable is no longer required.
    Remove this will give a clearer message when
    ValueException raised.
    
    Change-Id: Ib7b6c6a870ddd7932e8da1436d615f9ee458bd93
    Closes-Bug: #1266321

commit fce28fe9ce246fa9f2e1fc9946efacf207485260
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Wed Jan 8 11:22:25 2014 +0800

    Remove legacy config option 'connection_type'
    
    'connection_type' is a legacy config option originated from Nova.
    Nova used this option to specify underlying virtualization type for
    compute service and had deprecated it (with 'compute_driver') in
    Folsom and had it removed in later release.  In Cinder Folsom release,
    the XenSMDriver in Cinder used this config option to verify the target
    hypervisor but in Grizzly XenSMDriver has been renamed and refactored
    and no longer used this config.  Therefore, this option is dead for
    a long time, and should be removed.
    
    Change-Id: I4d72f31302fa813df42e71224151148a9c4a76c7

commit 40a7da8c3f6f0d53e9fe1e5d29c0ddfe07208dee
Merge: 92e28b3 1babca0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 8 06:16:47 2014 +0000

    Merge "Fix downgrade in 002_quota_class.py for MySQL"

commit 92e28b375b50f228a89975c38033e9e4af8f8383
Merge: 575a417 534ce5d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 8 06:11:22 2014 +0000

    Merge "Fix the invalid argument of webob.exc.HTTPBadRequest"

commit 575a4176b7f80f44b123684e7b9950a378831f93
Merge: d07a305 724c077
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 8 06:11:19 2014 +0000

    Merge "Removed deprecated config option hp3par_domain"

commit d07a305e28110bc9903ac4298bb761f0ede0b7a4
Merge: bf00664 3fd7857
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 8 05:03:29 2014 +0000

    Merge "Add ability to modify volume type"

commit 5b74ecbcce2916213086226c36bf935260dfc23f
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Dec 31 09:04:05 2013 -0700

    Modify default prefix for solidfire account
    
    The SolidFire driver creates a unique account at volume
    creation composed of <cinderhost-tenantID>.This is fine
    until one tries to implement HA Cinder or moves their
    Cinder node to another machine.
    
    This patch changes the default setting to be an empty string
    (ie no prefix), but still allows backward compatability by setting
    the config option to 'hostname'.
    
    DocImpact: Changes default for account-prefix, for backwards compatability
    use the non-default 'hostname'
    
    Change-Id: I500ea14c1b4e9e3efd51c035cc3c4e6232da9dd6
    Closes-Bug: 1265208

commit a9527de9ed3a2eae951564c3c74b7319113e8bf5
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon Jan 6 16:32:00 2014 -0600

    Add time_type dictionary to test_migrations
    
    A number of postgresql migration tests fail because the test case
    is verifying that an sqlalchemy.types.DATETIME column was created.
    When the column type is checked, however, postgresql reports the type as
    sqlalchemy.types.TIMESTAMP.  The mismatch causes numerous
    test cases to fail for postgresql.
    
    This creates a dictionary for each engine being tested to handle the
    different time types.
    
    Change-Id: Ic9921ff9fda001a66c0ea3a6a75c8adefa60b107
    Closes-bug: 1262426

commit bf00664cf4a857698ced2b9f590df9d704349e89
Merge: 86f6fde ed19770
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 7 21:11:33 2014 +0000

    Merge "Adding helpful URL links to README.rst and HACKING.rst"

commit 9834639454103ee2ba980628f0bc67ad0baa94ff
Author: Ramy Asselin <ramy.asselin@hp.com>
Date:   Mon Jan 6 15:26:07 2014 -0800

    3PAR: Raise Ex when del snapshot with depend vol
    
    Deleting a 3PAR snapshot can result in an HTTP Conflict error message,
    such as when a volume is dependent on it.
    Previously, this exception was not caught, and the state was set
    to "Error_Deleting" with no recovery path.
    The code was updated to catch this exception and raise a
    SnapShotIsBusy exception with an appropriate error message.
    The state reverts back to 'Available' allowing the user to try again
    after removing the dependency.
    
    Change-Id: Ibe8c5d581af10c85397c37993c49f8fc3bce8620
    Closes-Bug: #1250249

commit 2a7b11922bd9389287915c45de92ca5eed3d448e
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon Jan 6 14:45:34 2014 -0600

    Add bool_type dictionary to test_migrations
    
    A number of MySQL migration tests fail because the test case
    is verifying that an sqlalchemy.types.BOOLEAN column was created.
    When the column type is checked, however, mysql reports the type as
    sqlalchemy.dialects.mysql.TINYINT.  The mismatch causes numerous
    test cases to fail for MySQL.
    
    This creates a dictionary for each engine being tested to handle the
    different boolean types.
    
    postgresql and DB2 encounter similar issues.  Subsequent patches
    will make the appropriate changes for those databases.
    
    Change-Id: I81cb3c6feeacf887f1f473ec54414e0e215d2c24
    Closes-bug: 1260126

commit d64478fd35a7024f46fa8dbf54103a7a0e30be5a
Author: galstrom21 <jshepher@rackspace.com>
Date:   Tue Jan 7 10:38:06 2014 -0600

    Hiding postgresql password in connection string
    
    Closes-Bug: #1266804
    Change-Id: Iafc820d6201acf5b563b62bd9f20a715901f1ab4

commit 86f6fde84ee1987c1ec2dad377e2596612aa97e4
Merge: 24d7e24 c32302c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 7 04:37:46 2014 +0000

    Merge "Update V2 API to return detailed volume information on create"

commit 3e4f554f614c8cb6d5f014c72f3c635184a4dec2
Author: Xing Yang <xing.yang@emc.com>
Date:   Mon Jan 6 17:16:05 2014 -0500

    Fixed a problem in iSCSI multipath
    
    Multipathing during copy image to volume and copy volume to image
    operations doesn't work properly if there are different targets
    associated with different portals for a mulitpath device.
    
    Change-Id: I65c93f3788020c944db0d3a55063a6415554ff11
    Closes-Bug: #1266048

commit 534ce5dde117a61abbab49e8b1bc34b5fcbfc095
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Thu Dec 26 16:09:01 2013 +0900

    Fix the invalid argument of webob.exc.HTTPBadRequest
    
    webob.exc.HTTPBadRequest() does not have a parameter 'reason'.
    
    Change-Id: I65103ce72849e921150c4d098993fa523f53fe3a
    Closes-Bug: #1264223

commit 3fd7857a36f90cc28f3869139511ec4e82b50d92
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Sep 3 16:06:27 2013 +0300

    Add ability to modify volume type
    
    This patch adds the volume retype operation, which allows a user to
    change a given volume's type.
    
    When retyping, the scheduler checks if the volume's current host can
    accept the new type (i.e., it checks if the host passes the filters when
    using the new type). If the current host is suitable, its manager is
    called which calls upon the driver to change the volume's type.
    
    There are two cases where a retype operation may require migrating the
    volume:
    1. The volume's current host cannot accept the new type
    2. The volume's driver cannot perform the retype operation
    
    In case of a migration, a volume with the new type is created, and the
    data is migrated to it.
    
    Volume migrations resulting from retype can be controlled by passing a
    policy, which can be either:
    1. 'never': Never migrate (the retype fails if migration is required)
       (default)
    2. 'on-demand': Migrate when necessary
    
    This version will cause retype operations to fail if the current and
    new volume types have different:
    1. QoS settings that are enforced by the front-end for in-use volumes.
    2. encryption settings.
    
    Subsequent patches can address these cases.
    
    DocImpact
    
    Change-Id: I2dc99b4fa64d611d2bb936fc3890ca334e08bb55
    Implements: blueprint volume-retype

commit 1babca0b8ffc86918729f2d4ad604c32f0b8deeb
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon Jan 6 12:44:26 2014 -0600

    Fix downgrade in 002_quota_class.py for MySQL
    
    Downgrade in the script 002_quota_class.py is failing for MySQL
    because there is an attempt to delete the quota_classes table
    while the reservations table still has a foreign key defined.
    The foreign key causes the delete of the quota_classes table to fail.
    
    This change is based upon commit 8328fc46d783f4ec9286eededafa91afae89cba0
    which makes a similar change to 018_add_qos_specs.py .
    
    Change-Id: I81844a2da4fb3b831f1f9dead3634e82f54e559e
    Closes-bug: 1265944

commit 724c077fa62e93fdb4c2e43ae5521448d389d36e
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Mon Jan 6 09:06:18 2014 -0800

    Removed deprecated config option hp3par_domain
    
    The hp3par_domain config option was deprecated in the Havana release.
    This just removes it from the code, test and config sample file
    for the Icehouse release.
    
    DocImpact
    
    Change-Id: Ib3820cfc1b0db8a8b5755ac59d30691ce832fcea

commit 24d7e244133ddb46fc3de79b8222424db21672d1
Merge: 7a958ce 289f639
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jan 6 02:06:17 2014 +0000

    Merge "Replace Simple/Chance Scheduler with FilterScheduler"

commit 7a958ce1ff87a37df0a68693e05716d417c3bb89
Merge: 9062dff 3c876c6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 5 00:07:59 2014 +0000

    Merge "removed unused context in check_*** methods"

commit 9062dffb87cc7c4a3250c6d6a53ae676f2cd295c
Merge: 2aa6499 04e333f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 5 00:04:43 2014 +0000

    Merge "add 'force' verification in _volume_upload_image"

commit 2aa649965e769247c827dd3a51fb31ea9d5111ec
Merge: d23be9c 404a9fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 4 23:24:24 2014 +0000

    Merge "LVM: Fix "intialized" typo in warning msg"

commit 1d9927dacfc2d11e65f3392d8db465613b3843da
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Jan 3 12:44:33 2014 -0500

    Fix Brick LVM test command parsing
    
    The case reporting only one fake-volumes VG was never hit, which also
    caused us to not test the lvcreate -T path.
    
    Change-Id: If43d6aff5f90d6eca24b3df790d8ad3a86bfc8f3

commit c32302c5d5f35df39b49d32fcba47a4d36b3783a
Author: Swapnil Kulkarni <swapnilkulkarni2608@gmail.com>
Date:   Sat Jan 4 12:54:13 2014 +0530

    Update V2 API to return detailed volume information on create
    
    Current implementation returns only summary information, so
    cinderclient requires additional GET call to get details.
    Updated the api to return the details by default so the GET in
    cinderclient can be removed.
    
    Closes-Bug: #1265893
    
    Change-Id: I56d4d79c4a942d8bf53318e46737674dc0bf9b56

commit 404a9fbfa289cf80256b7dbbf7185875f7c897d7
Author: Eric Harney <eharney@redhat.com>
Date:   Sat Jan 4 09:22:43 2014 -0500

    LVM: Fix "intialized" typo in warning msg
    
    Change-Id: I3b07b30840835a46c165fc360522b268229f5e50

commit d23be9c0577e815fb217dd0ef971f181c3deca0a
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Jan 4 06:13:42 2014 +0000

    Imported Translations from Transifex
    
    Change-Id: I6aef6484cc40f233cfce2c6cd36c7e16039e1903

commit 01cc78d9ec86953417d742bf0b3defc4803d02e7
Merge: 3167f45 1862217
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 4 06:07:28 2014 +0000

    Merge "GlusterFS: Use correct base argument when deleting attached snaps"

commit 3167f458515443e81339743a29985bba2e7e7692
Merge: bc3b8ef a80914e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 4 03:45:38 2014 +0000

    Merge "Removed copyright from empty files"

commit bc3b8ef618f667669d45ff79933b58fd03c7f115
Merge: 1aa01b3 303858b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jan 4 02:32:55 2014 +0000

    Merge "Remove unused fake_flags"

commit 3c876c67eb32ecffb58a2234c828e5cfee70ec90
Author: ling-yun <zengyunling@huawei.com>
Date:   Fri Jan 3 16:51:50 2014 +0800

    removed unused context in check_*** methods
    
    Input parameter 'context' of Check_*** methods(check_attach,
    check_detach, _check_metadata_properties, _check_volume_availability)
    in cinder/volume/api.py are not being used, so remove this 'context'
    parameter.
    
    Change-Id: I314f662f2fe54a6b073181ff5c0f0214e9ef822a
    Closes-bug: #1265725

commit 1aa01b3b79847ebeecc0b39e3af6cb09b8ea6e19
Merge: bb52be9 a4c750f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 3 09:09:11 2014 +0000

    Merge "Reduce the redundant variable declarations"

commit 04e333f78ec8f22cdc0f0ab8701ae6a277bacbd5
Author: ling-yun <zengyunling@huawei.com>
Date:   Fri Jan 3 15:56:05 2014 +0800

    add 'force' verification in _volume_upload_image
    
    _volume_upload_image API should only support to upload 'in-use' volume to
    image when assign 'force' parameter as true value. Now
    _volume_upload_image API does not do verification for 'force' parameter,
    so we can upload 'in-use' volume to image when assign 'force' parameter
    with string value 'false' or 'false111'. This patch add verification for
    'force' parameter.
    
    Change-Id: I9e1d0e517d0ff97c136903dd6e50a305e18651f3
    Closes-Bug: #1265718

commit aa1ba1f0176af286506e4188628e5acbb8f7f0e6
Author: Shao Kai Li <lshaokai@cn.ibm.com>
Date:   Thu Jan 2 00:51:41 2014 -0500

    Raise max header size to accommodate large tokens.
    
    The max header is exceeded in the following scenario
    - Auth tokens built with a keystone v3 API catalog
    - A catalog with approximately 8 or more endpoints defined
    
    An equivalent fix will be required for all projects which use
    eventlet.wsgi.
    
    Copied from https://review.openstack.org/#/c/33362/
    
    Closes-Bug: 1190149
    
    Change-Id: I3fcb196b25a7a477b799c8dfa2ff5115977ca06d

commit bb52be971deea9e2374b5cef1b1f208e4354276e
Merge: 6ccc654 dd9536a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 3 00:42:14 2014 +0000

    Merge "Add additional metadata as key-value pairs in 3PAR"

commit a9267644ee09591e2d642d6c1204d94a9fdd8c82
Author: Jon Bernard <jobernar@redhat.com>
Date:   Thu Jan 2 16:28:59 2014 -0500

    LVM: update iscsi target on volume attach
    
    This patch updates the existing iSCSI target for a LVM volume during
    attach.  This is necessary in the event that a user extended the volume
    after creation so that the correct size is visible to the host.
    
    This adds support only for tgtadm.  Other changes may be needed for
    ietadm/lioadm to provide the same functionality.
    
    Change-Id: I185a90ffc4d50dd9f91381df07289476fa792043
    Closes-Bug: #1248415

commit 6ccc654a0509c4e308713f9e6fd95266cd112c9d
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Dec 13 10:39:09 2013 -0500

    LVM: Activate Thin Pool LV upon initialization
    
    If the LVM thin pool is not active, space calculation fails,
    as data_percent is not known.  Activate the pool upon initialization,
    since we intend to use it anyway.
    
    Slightly refactors _get_thin_pool_free_space so that it is clear
    which missing/unexpected value is breaking things if a similar error
    occurs for some other reason.
    
    Closes-Bug: #1260773
    
    Change-Id: I7cb187746c1ac297b82254c6efa37ba1c5fbb3e1

commit 186221779a92002ff9fa13c254710c0abb3803be
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Dec 18 19:11:44 2013 -0500

    GlusterFS: Use correct base argument when deleting attached snaps
    
    When deleting the most recent snapshot, the 'file_to_merge' field
    which translates into the base= field for libvirt's blockRebase
    call in Nova must be set depending on whether other snapshots exist.
    
    If there are no other snapshots, base = None, which results in
    libvirt clearing the qcow2 backing file pointer for the active
    disk image.
    
    If there are other snapshots, pass the parent of the file being
    deleted as the new base file.  The snapshot info pointer for the
    prior base file must also be updated in this case.
    
    Closes-Bug: #1262880
    Change-Id: If7bc8259b031d0406346caafb8f688e65a38dba6

commit 783e3243f98a90550a8b7ec8ce279709ab8db372
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Dec 12 14:22:49 2013 +0100

    Switch to Oslo's config generator
    
    This fixes the sample configuration to contain proper
    config groups alongway.
    
    Regenerate sample config with oslo's config generator.
    
    DocImpact: Removes the deprecated memcached_server
    option from DEFAULT (now in keystone_authtoken group)
    
    Closes-Bug: #1206650
    Closes-Bug: #1260322
    
    Change-Id: I170715bfe6ec7dad9f7317e7bb56cbb68034c4ec

commit a80914ecacda361473ae70d6185ec9664eae00ab
Author: Matt Fischer <matt@mattfischer.com>
Date:   Wed Jan 1 19:31:20 2014 -0700

    Removed copyright from empty files
    
    According to policy change in HACKING:
    http://docs.openstack.org/developer/hacking/#openstack-licensing
    empty files should no longer contain copyright notices.
    
    Change-Id: I031098958938e2301986949ad4659c5a7eb41561
    Partial-Bug: #1262424

commit 303858b473fc62c7c47e5d4b022c970fbccd5640
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Thu Jan 2 09:17:32 2014 +0800

    Remove unused fake_flags
    
    fake_flags.py should have been removed in change
    I3424d0a401b3ef7a3254d3e913263554361a52ff but somehow it's left
    untouched in that change.  This module has been replaced by
    cinder/tests/conf_fixture.py, and shouldn't be around anymore.
    
    Change-Id: Ied840b95253d998c1b3326c1dde9d469fa783c85

commit f52cb1b1c44c20d034bbb72e2ae98dbadc8e2495
Merge: 7b04653 fe03c20
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 31 20:14:05 2013 +0000

    Merge "Only reverify backing lun when create backing lun"

commit 7b04653595cc56a6072c5f113e48ff9fb698a7cd
Merge: fd73c5b 8014017
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 31 20:13:57 2013 +0000

    Merge "Output Strings of bin/*.py should support i18n"

commit fd73c5bf3d0da700dc94823401b17473746a2452
Merge: 21cd934 254e37a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 31 19:59:03 2013 +0000

    Merge "Add AllocatedCapacityWeigher"

commit 21cd93431515c2ec27b06a7bad5c331df80f668a
Merge: 5b2dbd4 9fbb0b1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 31 16:31:24 2013 +0000

    Merge "Remove dynamic default on sf_account_prefix"

commit 5b2dbd4711830ea0d3ee223e78a2437acceede4e
Merge: 6b9ebeb ff3f2e5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 31 16:31:21 2013 +0000

    Merge "Remove vim header"

commit 289f63934459baccae1e7c547890cc5f4e9f26b3
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Tue Dec 31 15:00:52 2013 +0800

    Replace Simple/Chance Scheduler with FilterScheduler
    
    This patch replaces SimpleScheduler and ChanceScheduler with
    FilterScheduler. Scheduler manager is changed so that when it
    detects 'scheduler_driver' is set to SimpleScheduler or
    ChanceScheduler, it changes underlying scheduler driver to
    FilterScheduler, and then host manager will use a pre-defined
    combination of filters & weighers to keep scheduler behavior *MOSTLY*
    the same as its old counterparts.
    
    To simulate ChanceScheduler/SimpleScheduler, 'AvailabilityZoneFilter',
    'CapacityFilter' and 'CapabilitiesFilter' are chosen to filter
    out hosts that isn't in the target AZ, doesn't have sufficient
    capacity and doesn't support needed capabilities. And newly
    added 'ChanceWeigher' will randomly pick a host from hosts
    that passes above filters - just like ChanceScheduler does;
    for SimpleScheduler, 'AllocatedCapacityWeigher' will sort hosts
    with their 'allocated_capacity' - the one allocates the least
    is the winner by default.
    
    So the two new weigher, 'ChanceWeigher' and 'AllocatedCapacityWeigher'
    are the key FilterScheduler to act identical when choosing
    back-ends to serve requests. The 3 filters on the other hand,
    are essential to make sure this 'new' Simple/Chance Scheduler can
    support volume types, encryption and QoS.
    
    Partially implements bp: deprecate-chance-and-simple-schedulers
    
    Change-Id: I0538b9692a23af6457ed463447fea8e564570848

commit a4c750f3027977551c1fdab430040689a620edb0
Author: ls1175 <liusheng@huawei.com>
Date:   Tue Dec 31 15:54:17 2013 +0800

    Reduce the redundant variable declarations
    
    The method create() in /cinder/api/v2/volumes.py has two redundant
    variable declarations: image_href = None image_uuid = None
    These should be reduced
    
    Change-Id: If3798d4bd96998707d7a5f87ece95ed8c93cc042
    Closes-bug: #1265148

commit 6b9ebeb8c0ecdaa8bb872f42f9ae9aed0795cb91
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Dec 31 06:13:49 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I7b845f52864b6764f518edba463086cee195d7fd

commit ff3f2e5735f0d486b72b6881b05ace94d6d34d03
Author: DennyZhang <denny@unitedstack.com>
Date:   Tue Dec 24 22:37:04 2013 -0600

    Remove vim header
    
    No need to set tabstop tons of times, this can be set in your vimrc
    file instead.
    
    More disucssion:
    http://openstack.10931.n7.nabble.com/Remove-vim-modelines-td21780.html
    
    Partial-Bug: #1229324
    Change-Id: Ib3a31c8819ee1950d72f7da5627593623d351560

commit 07e0a120f3dc4473cf3be37dbe8abc6d0cc1b866
Merge: a75eb8c 5fe07c1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 30 20:18:20 2013 +0000

    Merge "Redundant size check in volume restore api"

commit a75eb8ceef6573b171ed79c56804b6c00757583b
Merge: 2d6a903 c0f5f9d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 30 20:18:11 2013 +0000

    Merge "Empty files shouldn't contain copyright nor license"

commit 5fe07c1be34a73c457bd8e6b8a86bfc6e53567d5
Author: ling-yun <zengyunling@huawei.com>
Date:   Wed Dec 25 16:03:27 2013 +0800

    Redundant size check in volume restore api
    
    In cinder volume restore api, we do twice size check when restore volume
    with a given volume uuid. It's necessary to remove the redundant check.
    
    Change-Id: I8f240b2c0d1014d212ff56c2c9b5e193f9d552bd
    Closes-Bug: #1264053

commit 254e37ab3c995f6514084d38f2f797da9cf5e5a9
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Wed Dec 11 21:46:38 2013 +0800

    Add AllocatedCapacityWeigher
    
    AllocatedCapacityWeigher is a weigher that weigh hosts by their
    allocated capacity. The main purpose of this weigher is to simulate
    the SimpleScheduler's behavior, which sorts hosts by the size of
    all volumes on them.  So by allocated capacity, it equals to the
    sum of size of all volumes on target host.
    
    In order to keep track of 'allocated' capacity, host state is updated
    to add a 'allocated_capacity_gb' attribute to record the value, which
    means each back-end must report one extra stats to scheduler.
    Fortunately, the 'allocated' capacity we are interested in here is
    pure Cinder level capacity, the volume manager can take all the burden
    to calculate this value without having to query back-ends. The volume
    manager does the initial calculation in init_host() by the time when it
    has to query all existing volumes from DB for ensure_export(). After
    initial calculation, volume manager/scheduler will keep track of every
    new request that changes 'allocated_capacity' and make sure this value
    is up to date.
    
    !DriverImpact! Cinder driver developers, please read on:
    
    This patch contains a change that might IMPACT volume drivers: volume
    manager now uses 'stats' attribute to save 'allocated_capacity_gb'.
    And this information will be merged with those stats drivers provide
    as a whole for scheduler to consume.  If you plan to report any form
    of allocated space other than the apparent Cinder level value, (e.g.
    actual capacity allocated), Please choose a key name other than
    'allocated_capacity_gb', otherwise it will *OVERWRITE* the value volume
    manager has calculated and confuse scheduler.
    
    Partially implements bp: deprecate-chance-and-simple-schedulers
    
    Change-Id: I306230b8973c2d1ad77bcab14ccde68e997ea816

commit 2d6a90382310541e056372727697e2480fee614a
Merge: 5bc87a9 1e73e64
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Dec 29 09:38:37 2013 +0000

    Merge "Handle terminate_connection() exception in volume manager"

commit 5bc87a9c33838b7cbd80b22e4e2206fd964da69b
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Dec 28 06:14:19 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ic024fd0bef15147662612ed49b28133019d68aed

commit ed1977084483e5bfca39daf1cc4a3bd471e4ea29
Author: chadlung <chad.lung@gmail.com>
Date:   Fri Dec 27 19:29:17 2013 -0600

    Adding helpful URL links to README.rst and HACKING.rst
    
    Change-Id: Id9d3606616993c50bf6ab29880efa495999b9ce4

commit 1e73e64e7407294dc68af9c09323e2b396335c4a
Author: ling-yun <zengyunling@huawei.com>
Date:   Tue Dec 24 11:45:16 2013 +0800

    Handle terminate_connection() exception in volume manager
    
    Due to the fact that we sometimes need to manually terminate a volume's
    connection through volume api, it's possile that these backend drivers
    throw exceptions while doing that. Currently exceptions are bubbled up to
    volume API not being handled. This patch logs exception in volume manager
    and then raises VolumeBackendAPIException to caller.
    
    Change-Id: If809f97998f52516af09ec21b3052b67d3a62f36
    Closes-bug: #1263820

commit c0f5f9d7afb513b977a9c7147684bc93f9431b7e
Author: DennyZhang <denny@unitedstack.com>
Date:   Tue Dec 24 22:36:15 2013 -0600

    Empty files shouldn't contain copyright nor license
    
    http://docs.openstack.org/developer/hacking/#openstack-licensing
    
    Partial-Bug: #1262424
    Change-Id: Ib4d35e85ed23581f4a27a1daca8664180751f6f1

commit 8328fc46d783f4ec9286eededafa91afae89cba0
Author: Alan Meadows <alan.meadows@gmail.com>
Date:   Thu Dec 26 11:12:37 2013 -0800

    Bugfix missing foreign key removal for mysql
    
    Downgrading the cinder schema fails when running 018_add_qos_specs.py
    under MySQL. The upgrade path of this schema patch adds the foreign
    key volume_types_ibfk_1 on table volume_types, and the downgrade does
    not correspondingly remove it before attempting to drop the
    qos_specs_id column.  This update removes the foreign key when
    the engine is mysql prior to dropping the column.
    
    Change-Id: Ibd3b35ad3b0bd41ad04ab7aeeb28c3ba7e5d255d
    Closes-Bug: #1264360

commit f10e1db7a58d4243d1566377b59e09897439fe49
Merge: 848d072 690d386
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Dec 26 18:14:52 2013 +0000

    Merge "Imported Translations from Transifex"

commit 848d072e59400f084e5e25255241c178c5af9706
Merge: 96c5cba f14dcb7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 26 17:52:58 2013 +0000

    Merge "Add qos_specs support to solidfire driver"

commit 96c5cba1a924a736bbc1d597b1a34d82ac35367c
Merge: 6ad52ee 17e556a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 26 17:48:52 2013 +0000

    Merge "Handle initialize_connection() exception in volume manager"

commit 6ad52ee016b5aef2993d819142435e26b0be27a9
Merge: 8a5ce96 9c7f5c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 26 17:44:26 2013 +0000

    Merge "Fix spelling errors"

commit 9c7f5c9c64690b68377ad860c805f90a17237b65
Author: skudriashev <skudriashev@griddynamics.com>
Date:   Sun Dec 22 01:04:28 2013 +0200

    Fix spelling errors
    
    Spelling errors fixed in comments and log messages.
    
    Change-Id: I8ce4899fbb22136ce6d03e1796fc01d929f35562

commit 690d3866b07b7daebf83257c45c9907c988363ce
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Dec 26 06:13:45 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I8f2b51a5c5c58fa8c64899091e726139f93967d1

commit dd9536ac6e6df0e1ae6754e580b99cfbfd05eb77
Author: Sivaramakrishna Garimella <sivaramakrishna.garimella@hp.com>
Date:   Mon Dec 9 11:11:13 2013 +0530

    Add additional metadata as key-value pairs in 3PAR
    
    Track status of openstack volumes on 3PAR through
    additional metadata added as key-value pairs. During volume attach
    and detach, corresponding instance metadata is updated onto the
    cinder volumes.
    
    Change-Id: Iea8d2f26555e6be60001bf73755cae42446afec6
    Closes-Bug: #1258033

commit 8a5ce963dc9b96f485536ab851ef0e2a1d0e8313
Merge: 3364034 5654992
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 23 18:46:36 2013 +0000

    Merge "Set volume_dd_blocksize configurable on per-driver basis"

commit 17e556acf5c33583dcb6ed34bfd5a5fd9c148c9e
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Mon Dec 2 17:05:08 2013 +0800

    Handle initialize_connection() exception in volume manager
    
    Due to the fact that several drivers require backend communication to fetch
    connection information for a volume, it's possile that these driver throw
    exceptions while doing that.  Currently exceptions can bubble up to volume
    API not being handled.  This patch logs exception in volume manager and
    then raises VolumeBackendAPIException to caller.
    
    Change-Id: Ib3cc152e04ba029dd835a64b0cfb0a77b8a6828e
    Closes-bug: 1256804

commit 3364034235727254eb4070f36b81a7edc1ea73a2
Merge: e58f1f3 a0895f0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 23 15:51:15 2013 +0000

    Merge "Service launcher method docstring corrected"

commit 801401787b674dc6fac3f6bf2bae9267ee708ed1
Author: ling-yun <zengyunling@huawei.com>
Date:   Wed Dec 4 15:22:57 2013 +0800

    Output Strings of bin/*.py should support i18n
    
    Many more output strings in cinder/bin/*.py don't support i18n,
    which should be fixed as visible message.
    
    Change-Id: I863c09a0a398b99360e5a080091e320b594d4024
    Closes-Bug: #1257613

commit e58f1f31c54057b58fd1de1ae38d9a18f3082906
Merge: e40dafd 2de87b8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 23 08:16:41 2013 +0000

    Merge "Fix and enable gating on F401"

commit f14dcb79c8767a4a17c19db4adbab44bb55f2218
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Dec 20 17:33:23 2013 -0700

    Add qos_specs support to solidfire driver
    
    We've added a new qos_specs object to Cinder that allows creation
    and management of qos settings separate from volume-types.
    Now instead of embedding the qos info in the extra-specs of the
    volume-type we associate the desired qos-spec to a volume-type.
    
    This change implements the capability of the SolidFire driver to
    take advantage of that feature.
    
    Change-Id: I215bd0cff0c0a91c106de27eea9ec2b91689a46e
    Implements: blueprint add-qosspecs-support-to-solidfire-driver

commit a0895f0030f6a95f7415b35b92fde871f54668b9
Author: skudriashev <skudriashev@griddynamics.com>
Date:   Sat Dec 21 00:02:09 2013 +0200

    Service launcher method docstring corrected
    
    * Launcher run_server method parameter in docstring
      renamed to match actual argument name.
    
    Change-Id: Ic7934dd540a026141f525ea8ea6f976f959c7ea2

commit e40dafd54411f0e4648fc051ef4d9c806f337f9d
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Wed Dec 11 23:56:14 2013 +0800

    Fix QoS information in initialize_connection() result
    
    Currently the entire QoS information (if any) is included in the result of
    initialize_connection() even if the consumer of the QoS is 'back-end'. Also
    the format for QoS specs also is changed so that front-end (Nova) can
    parse correctly. Add unit test to cover initialize_connection().
    
    Closes-bug: 1259957
    
    DocImpact
    
    Change-Id: Ibc5e92cc1ddf6404e5b234ef524698feae282eec

commit 2de87b883ec0a8d7ceb2b67096423c8cb3e5d88b
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Fri Dec 13 13:29:12 2013 +0100

    Fix and enable gating on F401
    
    Do not allow unused imports in modules, and remove those
    that are currently unused.
    
    Change-Id: I7600b1cce22eaef87633f98a89db2086a3ec2b55

commit fe03c20ea35486ef0b4bb5eea6be7ff2c8564b7a
Author: ling-yun <zengyunling@huawei.com>
Date:   Fri Dec 20 10:55:18 2013 +0800

    Only reverify backing lun when create backing lun
    
    In TgtAdm, we alway do twice _verify_backing_lun whether backing lun
    exists or not.
    If backing lun exists, it doesn't need to call _verify_backing_lun
    function again.
    It only needs reverify whether backing lun exists or not when recreate
    backing lun.
    
    Change-Id: Ic11d778362540df307056a1adcba932e571b7d20
    Closes-Bug: #1262958

commit 5654992881ffef83c3c6c775e956f40ae80a2a5a
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Thu Oct 10 16:37:16 2013 +0400

    Set volume_dd_blocksize configurable on per-driver basis
    
    Allow volume_dd_blocksize config option to be configurable on a
    per-driver basis.
    This allows drivers used in multi-backend configurations
    to define their own values. We port this to the LVM and block_device
    drivers here but it can easily be ported to others as and when
    needed.
    
    DocImpact
    
    partially implement bp: per-driver-config-for-utils-functions
    
    Change-Id: Ice9e815f18e5ebf3727aab7d3a221acacb710cd4

commit 2c76803a63dd9486678c893f2c697c6e9826d6ac
Merge: 25eff9e 61786a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 18 07:19:23 2013 +0000

    Merge "Add exception logging if flow creation fails"

commit 25eff9e3a9b498d38a4feeaf721a1f230fc01d5c
Merge: 0b59fd7 e066158
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 18 00:39:23 2013 +0000

    Merge "Do not clone non-raw images in rbd backend"

commit 0b59fd73ef19b440471c3bfb2f5c5adbf786783b
Merge: 54b7842 582abea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 18 00:21:24 2013 +0000

    Merge "Fix and enable gating on H402"

commit 61786a8924fe984ec50c3159dc216bb7533e0f56
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Tue Dec 17 15:20:02 2013 -0800

    Add exception logging if flow creation fails
    
    If the create_XYZ_flow fails in being created
    its useful to log exactly what the error was in
    detail (instead of trapping it and only raising
    a generic error). The more detailed error shows
    what the real problem was during the flows
    construction (which usually is some larger
    problem).
    
    Change-Id: I9cd6b8e2c6298d8791ba3063be78f9b4c4a7c5d0

commit 54b7842b8edc83c8d677e8effba5a281fb18dae2
Merge: 4a09146 99f3ce3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 17:12:16 2013 +0000

    Merge "make delete recovery messages debug level"

commit 9fbb0b19b145099a8275e19f2bcf89c220bb9c6e
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Dec 12 18:05:31 2013 +0100

    Remove dynamic default on sf_account_prefix
    
    A dynamic default makes it difficult to generate
    a proper cinder.conf.sample template. Make it
    default to the hostname when the option is unset
    or left at default.
    
    DocImpact: default of sf_account_prefix changed to "None", which
    however preserves behavior of a previously unset option: use
    the current hostname.
    
    Change-Id: Ic90305bd93ae0156c37e32012cdc32848192de07

commit 4a09146e18ef18f21a847ee1b9e00818bda6a28b
Merge: df60b65 92e058d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 13:15:02 2013 +0000

    Merge "Fix KeyError while generating a WSGI response"

commit 99f3ce38e9ad1e272a4a04858ff1acc709e7c9cb
Author: Sean Dague <sean.dague@samsung.com>
Date:   Tue Dec 17 07:29:46 2013 -0500

    make delete recovery messages debug level
    
    lvm.delete has recovery logic within it to do a second attempt
    if it should fail the first time. It is currently however logging
    those second attempts at error and warn levels. However, as this
    is normal flow these should be debug level instead.
    
    This is currently causing a few resets in the gate because this
    is a non whitelisted error.
    
    Change-Id: Ie684331d9d97c089ec23569d06981e90eb7f6a67
    Closes-Bug: #1261731

commit df60b655a16a8d6e5a630555d71197af3ac44038
Merge: f55e36a 53c49d0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 08:45:49 2013 +0000

    Merge "Remove unused code from volume manager (reset_stats)"

commit f55e36afff359871f158b5e7f009463e551caa1d
Merge: 531a98c 4545f1b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 08:33:28 2013 +0000

    Merge "Pylint fixes for Brick iSCSI/LVM"

commit 531a98cc786fb6df6389fae546391494adb195ba
Merge: ecbd5f8 8904259
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 08:33:25 2013 +0000

    Merge "Pylint fixes for GlusterFS driver"

commit ecbd5f8b7004f9fce19444457446cec63552ff59
Merge: 57a7422 fee7a4e
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Dec 17 05:02:38 2013 +0000

    Merge "Imported Translations from Transifex"

commit 57a7422c2e831e530813c1b93cbbd6beec824470
Merge: b4fdafc 96ef263
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 04:41:14 2013 +0000

    Merge "3PAR FC: add ability to add WWNs to host"

commit b4fdafc5a3e1bba3c6af1b39dc2e08d51f15e43c
Merge: b7e974f 051aa36
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 03:58:29 2013 +0000

    Merge "Use mock for scheduler tests"

commit b7e974f4ed673337c7f2d5316f950458bc0a41f1
Merge: 4edc155 d7b66d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 03:47:42 2013 +0000

    Merge "[Netapp/Nexenta] Move registration of config options"

commit 4edc155c0aa6999a67ba7016b57da489c8c079cf
Merge: f02b2dc 6976c03
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 17 00:39:52 2013 +0000

    Merge "Adds unit tests for drivers.rbd.RBDImageIOWrapper"

commit 53c49d08ad33afeae46e50f261171d0032670b12
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Dec 16 17:50:49 2013 -0500

    Remove unused code from volume manager (reset_stats)
    
    self._last_volume_stats appears to be unused, now that we don't
    use _volume_stats_changed().  This means reset_stats() also does
    nothing.
    
    This triggered a pylint 'attribute-defined-outside-init' warning.
    
    Change-Id: I4c4f7497e72f726f3430f90df61188bf2f1073c1

commit 8904259b94481ca9e177c988f50ecabdecd117a4
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Dec 16 17:44:02 2013 -0500

    Pylint fixes for GlusterFS driver
    
    Remove unused 're' import
    Remove unused parameter for _create_snapshot()
    
    Change-Id: I40411b6206d282ae07c905faa44dcccecb45c120

commit 4545f1b99e7202f50666bd74d94aa99a8adaa615
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Dec 16 17:29:32 2013 -0500

    Pylint fixes for Brick iSCSI/LVM
    
    Fixes a few of the more straightforward pylint errors
    in these files.  (anomalous-backslash-in-string,
    attribute-defined-outside-init, and bad-indentation)
    
    Change-Id: Ic131717a83fe182fe578b63eccf364d300a8989c

commit 96ef263f61385f486402c50f3f3abc7e614a8b49
Author: Jim Branen <james.branen@hp.com>
Date:   Fri Dec 6 15:32:53 2013 -0800

    3PAR FC: add ability to add WWNs to host
    
    When a host is created on the HP 3PAR array,
    at initialize connection time, the host is
    created with all WWNs provided in the connector
    structure. However, the driver did not have
    the ability to add new WWNs after a host is created.
    
    This patch adds the ability to add WWNs to a
    host, at initialize connection time, if a new
    WWN is provided in the connector structure.
    
    Change-Id: I6fd8a5511f83d5460da30ff5558a3e95964a95f5
    Closes-bug: 1258229

commit fee7a4e5074d6b132473e23a732a8a4a3de99129
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Dec 16 06:14:18 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I2554bd4a076f855c8f2026d98ecb649b35edcbf8

commit f02b2dc71f86b0ae9bdcc83944c926a779f950de
Author: Jay Lau <liugya@cn.ibm.com>
Date:   Sat Dec 14 10:54:16 2013 -0500

    Adjust import order according to PEP8 imports rule
    
    This patch just adjust import order to follow PEP8 imports rule.
    See http://www.python.org/dev/peps/pep-0008/#imports
    
    Imports should be grouped in the following order:
    1) Standard library imports
    2) Related third party imports
    3) Local application/library specific imports
    
    Change-Id: Ifa3f219207b02d60e757e17c42dae1fef2f628fe

commit e066158b5235a3879fe90fa3bd813fc3363c01f5
Author: Dmitry Borodaenko <angdraug@gmail.com>
Date:   Wed Nov 27 14:33:00 2013 -0800

    Do not clone non-raw images in rbd backend
    
    RBD backend only supports booting from images in raw format. A volume
    that was cloned from an image in any other format is not bootable. The
    RBD driver will consider non-raw images to be uncloneable to trigger
    automatic conversion to raw format.
    
    Includes conversion of the corresponding unit test to use mock (instead
    of mox) and expanded comments and error messages based on change #58893
    by Edward Hope-Morley.
    
    Change-Id: I5725d2f7576bc1b3e9b874ba944ad17d33a6e2cb
    Closes-Bug: #1246219
    Closes-Bug: #1247998

commit 6976c038b8676543c33f549ed682de8286edde3a
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Sat Dec 14 22:52:52 2013 +0000

    Adds unit tests for drivers.rbd.RBDImageIOWrapper
    
    Change-Id: Id256ec6ed20c1f52eb67cf5a807f67b01a641962
    Closes-bug: 1238614

commit 1622b284c6f59a6b9e12f84ee0173e330d895071
Merge: 62e4c0c d8a1116
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Dec 15 08:38:17 2013 +0000

    Merge "GlusterFS: Complete snapshot_delete when info doesn't exist"

commit 62e4c0cd769c74c1f8671d27b4b6bf590213d535
Merge: 91841ef b38ece6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Dec 15 08:38:12 2013 +0000

    Merge "Remove test that was no longer used for long"

commit 91841ef3c71c970644b0103b825b430cff5a90ad
Merge: 7b87e07 486f684
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 14 14:47:48 2013 +0000

    Merge "Add disabled_reason field to services table"

commit d7b66d21966dc99ca062193552eaec81455da852
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Dec 12 14:17:43 2013 +0100

    [Netapp/Nexenta] Move registration of config options
    
    This doesn't really make a difference in practice, but
    makes it possible for the sample config generator to figure
    out the config group relationship when options are in one
    file.
    
    Change-Id: I3bc6ab5bcc85a8c11c9261b0d8c520fb846a7864

commit 582abea303c1aa4656aac284062e68208e033d83
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Dec 14 12:33:24 2013 +0100

    Fix and enable gating on H402
    
    Summary docstrings should end with punctuation.
    Also changed it to command-style in a few places.
    
    Change-Id: Id94fe995aa05356106ad09899b0ada27d608ff21

commit 7b87e07e02809f18b6466684802343d40ed53abb
Merge: 9d09987 d3cf754
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 14 08:32:27 2013 +0000

    Merge "make help text more meaningful for cinder docs"

commit 9d0998791a0b08700d780504471dce276606911c
Merge: ecfbec5 ebd52f2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 14 05:55:24 2013 +0000

    Merge "Switch create volume commands to Taskflow 0.1.1"

commit ecfbec563e5f1c49ebac784794b54beb105e8cd2
Merge: 7a85523 18b1420
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 14 03:22:17 2013 +0000

    Merge "Make sure report_interval is less than service_down_time"

commit 673057320929d33095c998d477c2537567ccf74b
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Dec 13 11:18:56 2013 -0500

    LVM: Activate source snap LV when cloning from volume
    
    Similar to the change made in:
    01a2199 LVM: Activate source LV before cloning from it
    
    Previous change only fixed this issue for clone-from-snapshot.
    
    This activates the source snapshot LV when cloning from volume
    as well, fixing the problem where cloning fails due to inability
    to open the source LV device.
    
    Change-Id: If48be8516fd71738cb83a91683c33d02f227b9d6
    Related-Bug: 1252423
    Closes-Bug: 1260786

commit 7a85523d125a2cb3928039a10fa725bfcd1627b4
Merge: e3ce1ca 32d4f14
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 13 19:30:50 2013 +0000

    Merge "Remove LANG=C from rootwrap invocations"

commit b38ece6ccf048c85b7a76c7f80f072ed58fd5c83
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Fri Dec 13 22:20:47 2013 +0800

    Remove test that was no longer used for long
    
    test_too_big_volume() case in test_volume.py was legacy from nova-
    volume, it was never actually testing anything.  This change removes
    this case for good.
    
    Change-Id: I66e0eb80326f039ddc580dec0409fd4090ba5102

commit e3ce1ca32c758f71fb801e605a8ff0326223f69b
Merge: 7a77a22 3badd1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 13 14:09:00 2013 +0000

    Merge "Lazy log the fixed_key warnings"

commit d3cf7544a549bc75b0cb6870788f33b6f5ff8526
Author: Bob Callaway <bob.callaway@netapp.com>
Date:   Thu Dec 12 10:39:39 2013 -0500

    make help text more meaningful for cinder docs
    
    Change-Id: I5ccb7801a6df8039c59c7a2f2aacd72907a076a4
    Closes-Bug: 1260373

commit 7a77a222f19b5e20e7857de9e832fca051ebd3d9
Merge: 097072d a83506d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 12 18:24:42 2013 +0000

    Merge "Add the driver name to get stats log output"

commit ebd52f2e6de96b965878f0fd5e56f089ceb1ff93
Author: anastasia-karpinska <akarpinska@griddynamics.com>
Date:   Tue Dec 10 23:12:31 2013 +0200

    Switch create volume commands to Taskflow 0.1.1
    
    - Old TaskFlow code was removed from Cinder.
    
    - TaskFlow 0.1.1 was added to Cinder requirements.
    
    - Create volume flows for volume.api, volume.manager and
      scheduler.manager were updated to use taskFlow 0.1.1
    
    Partially implements: blueprint create-volume-flow
    Change-Id: Idbac8d001436f02978b366fbb3205ce84c847267

commit 051aa362ff1f52926b1725ab24b3b21bfb5e5e21
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Dec 10 10:43:07 2013 +0200

    Use mock for scheduler tests
    
    In our effort to move from mox to mock, this patch will convert the
    scheduler unit tests to use mock exclusively.  Also fixed some pylint
    errors along the way.
    
    Change-Id: If5a94838981a04a38c2797ced07f23abfafbedb7

commit 32d4f14c9ecaf56767a4a4c3fd7fba2e85935d98
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Dec 12 00:49:27 2013 +0100

    Remove LANG=C from rootwrap invocations
    
    For more than a decade already, systems support LC_ALL=C,
    which overwrites LANG=C, so setting both is only confusing.
    
    Change-Id: I5640b9cb747892162a856315ea7331cfea7cba5a

commit a83506d170e90b111b7e63fab9f585883971f316
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Dec 9 11:58:40 2013 -0800

    Add the driver name to get stats log output
    
    When the manager call tries to update the driver
    stats, it checks to ensure the driver is initialized.
    When the driver hasn't been initialized, it logs
    a warning without the driver name.  This is confusing
    for multiple backends.   This patch adds the driver
    name, version and the config group name, to the log output,
    so the admin can see which driver is failing.
    
    Change-Id: I82e8aa969e7baa55db9c8dddc1c08db2a1a41091
    Closes-Bug: #1259279

commit 097072de724cf1f17cf6153afc47ee898710fae3
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Dec 12 00:02:30 2013 +0100

    Remove hashbang (#!) at beginning of python modules
    
    Change-Id: I8f138f82952938fcfaa0e9fc150cb97471febb31

commit 92e058d6800e1cb33a0359cdc5c079b55612525c
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Wed Dec 11 17:35:13 2013 +0800

    Fix KeyError while generating a WSGI response
    
    The KeyError exception raised while generating a WSGI response based on
    the 413 exception. Because there may be no "Retry-After" attribute in the
    exception headers.
    
    Change-Id: I89eb1878acc2195775be17fbcba8088f2e00bac1
    Closes-Bug: #1259867

commit 1e14e6a42c8eb9df5ee2da11da66f8ec9da8e84d
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Dec 10 00:16:34 2013 +0000

    Updated from global requirements
    
    Change-Id: I2d8f240009d2f847b321baa011880f753783be83

commit 3badd1ffbe8796d27b924f882ed05b8d3f4f0f11
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Dec 10 14:51:32 2013 -0500

    Lazy log the fixed_key warnings
    
    Cinder currently spews quite a bit of WARNINGs like this with
    the default settings:
    
    WARNING cinder.keymgr.conf_key_mgr [-] config option keymgr.fixed_key
    has not been defined: some operations may fail unexpectedly
    
    Many users may not be using features that require key manager...
    so logging the WARNING message a bit more lazily seems reasonable.
    
    Change-Id: I5ab72285c7d4bc2ec3196dd94fabf977b3a4ebaf
    Closes-bug: 1252512

commit 5cb91b70b96b9eb8f22f8c596c0853b0468af268
Merge: d1b55c8 a347b99
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 10 05:58:10 2013 +0000

    Merge "delete.start/delete.end notification for hostless"

commit d1b55c8ee3dff21a47451907f9223e6b9226859f
Merge: 7aca005 e997f8b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 10 05:46:55 2013 +0000

    Merge "GlusterFS: Remove glusterfs_disk_util option"

commit 7aca0052932009903fd121728aee9eff21b54205
Merge: 05f87fb bc16517
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 10 05:46:47 2013 +0000

    Merge "Catch TypeError when new_size is None on extend"

commit 05f87fb86947327c475a0c93e6f5f118197f7868
Merge: ac72d86 118e253
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 10 04:23:57 2013 +0000

    Merge "Sync matchmaker_ring.py from oslo-incubator"

commit 486f6847a97f02de5de0d4c9be15c84998afcfb8
Author: Jay Lau <liugya@cn.ibm.com>
Date:   Tue Dec 10 08:45:30 2013 +0800

    Add disabled_reason field to services table
    
    Add a column (String 255) in the services table to store
    disabled_reason field.
    
    Change-Id: I3cc03029831bdf6a52e9b65c673794430807aeee
    Implements part of bp record-reason-for-disabling-service

commit ac72d868dcdb33d116f1217335628a451b9962a5
Merge: 0f24cf9 49f96f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 10 00:16:03 2013 +0000

    Merge "Add RBD test for volume not existing during delete"

commit bc16517ac7351b715d0202f7beb5a5e0d7ff8f97
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Dec 9 16:00:20 2013 -0700

    Catch TypeError when new_size is None on extend
    
    The volume_actions extend method does not catch/handle TypeError
    exceptions.  The tempest volume_actions test includes a negative
    test that doesn't pass in a new-size so the result is we get an
    unhandled exception/trace in the log files for these runs.
    
    Change-Id: I8b699a28e06e62126da02c3318d3129412dffa6b
    Closes-Bug: #1259336

commit 0f24cf91e1a0ea3b99a46da501d0195456dc0b88
Merge: 45fb1b0 17912f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 9 22:15:45 2013 +0000

    Merge "LVM migration: Check if name is equal to dest_vg"

commit 118e2530c445b2bd0199699ae2e79159f77e1a88
Author: Paul Mathews <pmathews@bluehost.com>
Date:   Tue Dec 3 15:35:18 2013 -0700

    Sync matchmaker_ring.py from oslo-incubator
    
    Cinder does not currently include the matchmaker driver, which is the
    preferred configuration with ZeroMQ.
    
    Change-Id: I8514f1780e6492f9d37134d282a5196709347bd8
    Partial-Bug: #1185690

commit 45fb1b01b5e4d152f5630d3936e44b9d1fd84207
Merge: c48720e 174ebde
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 9 18:24:01 2013 +0000

    Merge "Brick LVM: Set C locale when gathering PV info"

commit c48720e24fe4100759adb811158d24ffa1788f46
Merge: 4ea2f91 4f6e5fc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 9 18:19:11 2013 +0000

    Merge "Adds lock for create from vol/snap to avoid race conditions"

commit 4ea2f910921e982848b73b3285b023bf18f7ce1e
Merge: e53d108 cbd7acf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 9 18:12:49 2013 +0000

    Merge "Sync rpc fix from oslo-incubator"

commit e53d10801fe370cbeeab0315091d15b431237cbb
Merge: dbac700 1679acd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 9 16:26:04 2013 +0000

    Merge "Returns thin pool free space calculated from actual usage"

commit dbac7001439914a0c941ebf0fc2fed1058ea7aba
Merge: 78c7d1d b91e6e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 9 07:17:28 2013 +0000

    Merge "Fixes case insensitive for resp body"

commit 78c7d1d88f2b4afd1d669fd84668fe60a93b577a
Merge: 7689ff9 1dff304
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 9 07:07:40 2013 +0000

    Merge "Convert lvm_mirrors to int"

commit 7689ff9a01b695658a76ad2cb8bfcd84a992b3d2
Merge: bd75f2e 69ce114
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Dec 8 08:03:07 2013 +0000

    Merge "LVM migrate: Use keywords for the brick instance"

commit 49f96f80dbeaa561ac98d174139a567d1f610988
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Dec 6 11:13:09 2013 -0800

    Add RBD test for volume not existing during delete
    
    For cases when the volume does not exist in the backend, but Cinder
    still knows about it, we just return from the rbd driver and let Cinder
    do its thing.
    
    Change-Id: I6150756bdd48259ec8d550fa7a5dc7a9f882ca22

commit bd75f2e72c59d03cc7222ddb1c71b124c6f75898
Merge: 916bc20 d72914f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 6 19:12:59 2013 +0000

    Merge "LVM: Create thin pools of adequate size"

commit cbd7acfc294c4bf2ae0014bcf04646382bed469d
Author: Flavio Percoco <flaper87@gmail.com>
Date:   Fri Dec 6 11:06:09 2013 +0100

    Sync rpc fix from oslo-incubator
    
    Sync the following fixes from oslo-incubator:
    
    ef406a2 Create a shared queue for QPID topic consumers
    e227c0e Properly reconnect subscribing clients when QPID broker restarts
    
    Change-Id: I934a6ea6e9eb510513640870750ea37e6f076df9
    Closes-bug: #1251757
    Closes-bug: #1257293

commit 1679acd53d1f0c330edf583afe8b347a7304499c
Author: Giulio Fidente <gfidente@redhat.com>
Date:   Tue Dec 3 13:44:20 2013 +0100

    Returns thin pool free space calculated from actual usage
    
    This change adds a hidden method which calculates the thin
    pool free space from the data_percent LVM options and reports it
    accordingly in _update_volume_stats()
    
    Change-Id: Id6a69644505ca10811db458ea90ed10f643054b2
    Closes-Bug: 1249782

commit 916bc20bdd22fc1a6d2a0493e83f0e2640eef259
Merge: 62617e6 f31d62a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 6 00:00:42 2013 +0000

    Merge "Catch ImageBusy exception when deleting rbd volume"

commit 174ebde8e6a8cddc2db615b127d7d0066dabaa31
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Dec 5 18:12:33 2013 -0500

    Brick LVM: Set C locale when gathering PV info
    
    Some locales use commas as decimal separators, which means
    that code breaks when someone expects to be able to use the
    PV size as a float.
    
    Change-Id: Idceb405e021ea8a0f44e19be43bad1307fbbb51c
    Related-Bug: 1219963

commit 17912f4c4fba270a15cab47bb68d9e30c34a69b0
Author: Flavio Percoco <flaper87@gmail.com>
Date:   Thu Dec 5 17:05:33 2013 +0100

    LVM migration: Check if name is equal to dest_vg
    
    The existence check of the destination volume group is wrong. It
    currently checks if there's a VG with a name equal to the source's vg
    name instead of checking if it's equal to the dest_vg.
    
    Closes-bug: #1258203
    Change-Id: Ia5d4acb24b94c6aa832107c7eb4b6996985af97f

commit 1dff30492f0ce1df3ef01ccc21353248a7207709
Author: Flavio Percoco <flaper87@gmail.com>
Date:   Thu Dec 5 16:14:39 2013 +0100

    Convert lvm_mirrors to int
    
    When the location_info is parsed and `lvm_mirrors` extracted, it is not
    being converted to int. This causes some boolean checks to return True
    even when there are not mirrors enabled because of the u'0'.
    
    Closes-bug: #1258133
    Change-Id: I67c463d9f139fe326bbcab4d193c45459129b514

commit 69ce114232f9102220b45c8242eda3e78872a3e6
Author: Flavio Percoco <flaper87@gmail.com>
Date:   Thu Dec 5 13:48:24 2013 +0100

    LVM migrate: Use keywords for the brick instance
    
    In the `migrate_volume` method a new instance is created when the
    dest_vg is not equal to the source vg. This new brick instance is
    created using positional arguments instead of keywords. However, some of
    those arguments are passed in the wrong positions.
    
    This patch uses keywords for the misplaced arguments.
    
    The patch also changes `test_lvm_migrate_volume_proceed` in order to
    fully test the happy path and catch things like this.
    
    Closes-bug: #1258128
    Change-Id: I75cf91171709554053fd5b52a4aae4e176e8364e

commit d72914f739b1467ad849dd47fddd321965fed928
Author: Jon Bernard <jobernar@redhat.com>
Date:   Thu Nov 21 17:58:13 2013 -0500

    LVM: Create thin pools of adequate size
    
    Thin pools in LVM are quite different from volume groups or logical
    volumes and their differences must be taken into account when providing
    thin LVM support in Cinder.
    
    When you create a thin pool, LVM actually creates 4 block devices.  You
    can see this after thin pool creation with the following command:
    
        $ dmsetup ls
    
        volumes--1-volumes--1--pool       (253:4)
        volumes--1-volumes--1--pool-tpool (253:3)
        volumes--1-volumes--1--pool_tdata (253:2)
        volumes--1-volumes--1--pool_tmeta (253:1)
    
    In the above command, a thin pool named 'volumes-1-pool' was created in
    the 'volumes-1' volume group.  Despite this, the 'lvs' command will only
    show one logical volume for the thin pool, which can be misleading if
    you aren't aware of how thin pools are implemented.
    
    When you create a thin pool, you specify on the command line a size for
    the pool.  LVM will interpret this size as the amount of space requested
    to store data blocks only.  In order to allow volume sharing and
    snapshots, some amount of metadata must be reserved in addition to the
    data request.  This amount is calculated by LVM internally and varies
    depending on volume size and chunksize.  This is why one cannot simply
    allocate 100% of a volume group to a thin pool - there must be some
    remaining space for metadata or you will not be able to create volumes
    and snapshots that are pool-backed.
    
    This patch allocates 95% of a volume group's free space to the thin
    pool.  By doing this, we allow LVM to successfully allocate a region for
    metadata.  Additionally, any free space remaining will by dynamically
    used by either data or metadata if capacity should become scarce.
    
    The 95/5 split seems like a sane default.  This split can easily (and
    probably should) be made user-configurable in the future if the user
    expects an abnormal amount of volume sharing.
    
    Change-Id: Id461445780c1574db316ede0c0194736e71640d0
    Closes-Bug: #1245909

commit e997f8b06ecd4ed0a13c557d621db69eb68f2f3d
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Dec 5 13:45:46 2013 -0500

    GlusterFS: Remove glusterfs_disk_util option
    
    The glusterfs_disk_util option lets one choose whether to
    use df or du to calculate space usage.  This serves no real
    useful purpose.  Should remove this option to simplify things.
    
    Since this does not meaningfully impact behavior, removal of
    this option shouldn't require any special deprecation efforts.
    
    (This same change was made for the NFS driver in 5bf7b9be.)
    
    DocImpact: Remove config option
    
    Change-Id: I302692454b43de15688d65873a72a3dada0c67cb

commit f31d62a178a370ae9d736c09a3186ea9a3c92ee3
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Wed Dec 4 18:13:06 2013 +0000

    Catch ImageBusy exception when deleting rbd volume
    
    If we try to delete an rbd volume that has 'watchers' on it
    i.e. client connections that have not yet been closed
    possibly because a client crashed, the remove() will throw an
    ImageBusy exception. We now catch this exception and raise
    VolumeIsBusy with a useful message.
    
    If the volume delete fails in this way it will now stay as
    'available' instead of going to 'error_deleting' so that the
    delete can be retried (since it is expected to work on a
    retry after waiting for the connection to timeout).
    
    Change-Id: I5bc9a5f71bdb0f9c5d12b5577e68377e66561f5b
    Closes-bug: 1256259

commit 4f6e5fcc252799e2b9207b6ef2b58b52a7a93563
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Thu Nov 14 19:00:00 2013 +0000

    Adds lock for create from vol/snap to avoid race conditions
    
    This patch protects create from volume/snapshot by using a
    lockfile to protect the operation from concurrent deletes of
    the volume/snapshot used in the create operation.
    
    Currently, if a volume/snapshot is deleted while a volume is
    being created from it that delete may complete during the
    create operation thus leaving the new volume in error or stuck
    state. This lock will ensure that:
    
    (a) if a create of VolA from snap/volB is in progress, any
        delete requests for snap/volB will wait until the create
        is complete.
    
    (b) if a delete of snap/volA is in progress, any create from
        snap/volA will wait until snap/volA delete is complete.
    
    Co-authored-by: Takashi Natsume <natsume.takashi@lab.ntt.co.jp>
    Closes-Bug: 1251334
    Change-Id: Ie4bc0af789ab232593f55aa2f6b34345eb9b9929

commit 62617e656fe5895de30ce55971b07680f7b0a6b2
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Thu Dec 5 10:14:16 2013 +0800

    Fix docstring for snapshot_metadata controller
    
    Change-Id: I8227c79c35688da03f5b850daec3215d7c79b2a6
    Closes-Bug: #1258000

commit e99cd785d8ddbffcd1d741cf336b2e929c6cb28f
Merge: dd7fea0 20667f7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 5 08:36:19 2013 +0000

    Merge "NetApp fix for vsadmin role failure for ssc"

commit dd7fea0d6d786fc28236a748eb49657d72129bac
Merge: a99c0c1 aa45357
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 5 08:36:11 2013 +0000

    Merge "Update hacking to hacking>=0.8.0,<0.9"

commit b91e6e31ece12d5b1204680aa0a912e3b9569f3b
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Thu Dec 5 11:15:11 2013 +0800

    Fixes case insensitive for resp body
    
    Create metadata for a volume with key-value set, which key in uppercase
    and lowercase(e.g.{"key": "v1", "KEY": "V1"), the server accept the
    request and return the key-value set {"key": "v1", "KEY": "V1"}. But the
    server just add one metadata because the server is not case sensitive.
    
    The patch will modify the resp body with the one which the server added.
    
    update_all has the same ploblem.
    
    Fixes errors on v2 unittest without difficulty.
    
    DocImpact
    Closes-Bug: #1258004
    
    Change-Id: Ic337c0a351ac234493e1d73b86ba87520f32289a

commit b85cc49588c9f40e091801af33da8c7575058ec0
Author: Vipin Balachandran <vbala@vmware.com>
Date:   Wed Nov 13 20:33:39 2013 +0530

    VMDK:Using host mount info for datastore selection
    
    Currently the VMDK driver picks a datastore for volume creation based
    on space utilization. The shadow VM corresponding to the volume is
    migrated to a different host and datastore if the volume is attached
    to an instance created in a host which cannot access the volume's
    current datastore. To reduce these migrations, this fix selects a
    datastore which is connected to maximum number of hosts, provided
    there is enough space to accommodate the volume. Ties are broken
    based on space utilization; datastore with low space utilization
    is preferred.
    
    Closes-Bug: #1250816
    Change-Id: I5ecf22d782857fca0889799229465c49afe188a0

commit a99c0c14e646cc1a0fa93540b98e4b56741f7db2
Merge: 05cb719 3b2842b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 5 03:53:43 2013 +0000

    Merge "All API controllers inherit from wsgi.Controller"

commit 05cb71956841d89770e919a1a94de5769d69b984
Merge: 81ce121 b625f55
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 4 22:16:17 2013 +0000

    Merge "Fixes case insensitive for resp body"

commit b625f558862465184dd28da7215f34c77ec1ece6
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Fri Nov 29 16:56:35 2013 +0800

    Fixes case insensitive for resp body
    
    Create metadata for a snapshot with key-value set, which key in uppercase
    and lowercase(e.g.{"key": "v1", "KEY": "V1"), the server accept the
    request and return the key-value set {"key": "v1", "KEY": "V1"}. But the
    server just add one metadata because the server is not case sensitive.
    
    The patch will modify the resp body with the one which the server added.
    
    update_all has the same ploblem.
    
    DocImpact
    Change-Id: I684049412a4aa84f593e970c87157c74fffdfffe
    Closes-Bug: #1255917

commit 81ce121d782f9d419ff3eaa6f29f8b3df990e0c4
Merge: e128cff 44a66bb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 4 07:05:13 2013 +0000

    Merge "Change method name to test_get_volume_stats"

commit 3b2842bf2df46daf4e4d26695c06963499968181
Author: ling-yun <zengyunling@huawei.com>
Date:   Tue Dec 3 16:19:17 2013 +0800

    All API controllers inherit from wsgi.Controller
    
    Most of the Cinder Public API Controllers inherit from wsgi.Controller,
    but still some Cinder Public APIs controllers directly inherit from
    object. So it's necessary to unify all the Cinder Public API Controllers
    inherit from wsgi.Controller.
    1. For code cleanup.
    2. When we try to do body valid check in api's put/post method later, we
    can use the helper function is_valid_body instead of using try...catch
    block.
    
    Change-Id: I88812224e0b182939cfccce63982cb8f95792891
    Closes-Bug: #1257198

commit a347b99c261dc1c761a8bc51c2aee99d20161ca6
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Tue Dec 3 21:31:17 2013 -0600

    delete.start/delete.end notification for hostless
    
    Third party GUIs may rely on notifications to track the
    progress of volume creation and deletion.  In the case that
    a volume is being deleted after a failed attempt to create
    (the volume is listed in the database but is not actually
    resident in a backing store) the path that is taken in
    volume.api.delete() makes no notifications of deletion
    occurring.
    
    This patch adds a volume_utils.notify_about_volume_usage
    call to the beginning and end of the delete with a
    delete.start and delete.end respectively.  The notifications
    serve as triggers for GUIs to refresh the state of the
    volume.  This change makes the hostless delete path's
    functionality more consistent with the other paths through
    the delete code.
    
    Change-Id: I091b9d277834b341105569d41a48ef5c1fc105ce
    Closes-Bug: 1257053

commit e128cffb9c5f4b8e76491664204db2b548307cf4
Merge: f57ff3d 598bc3a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 4 01:44:58 2013 +0000

    Merge "Add attach/detach notifications"

commit f57ff3d75333ee0fc60d35d16d3eab19584c0eb7
Merge: 1111f18 d746f1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 4 00:42:41 2013 +0000

    Merge "Add unit tests for volume reserve and unreserve"

commit 1111f18cffbc7209f6081a11cb6185507dd9c8f0
Merge: 825b7cb 2a8485a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 3 21:59:14 2013 +0000

    Merge "Bump to sqlalchemy-migrate 0.8.2"

commit 825b7cb2b46a9880cb30f5cbafb51d9344e04208
Merge: c33076a e5d459a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 3 21:58:07 2013 +0000

    Merge "Don't stop volume service for failed re-export operations"

commit c33076a63e77ab10b5cf7a1edabd2efb5d2e3255
Merge: 190407f fea9ebc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 3 20:42:16 2013 +0000

    Merge "Add more logging to migrate_volume_completion"

commit 190407fb0ce134500223832f64315c780b7ab856
Merge: 47768b3 d54c49a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 3 20:42:09 2013 +0000

    Merge "Use model_query() in db.*****_destroy"

commit 47768b3f6aed85c0d7bca40793e04fe971b591d4
Merge: 2e0d1f4 5a45238
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 3 18:47:30 2013 +0000

    Merge "Adjust RBD delete log level"

commit 2e0d1f41ec01b15076f9ba78036d4e90d3de2474
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Tue Dec 3 22:49:12 2013 +0800

    Fix typo/misspelled words
    
    Fix type/misspelled words found by this handy tools:
    https://github.com/lyda/misspell-check
    
    Some 'typo's were intentional since they are part of function name,
    so they are left alone.
    
    Change-Id: I4badda869521659b541d018727a6f71f518e2ee0

commit aa453576ff13c97c63dcb3cd5941675ffdc93360
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Dec 3 09:44:35 2013 +0200

    Update hacking to hacking>=0.8.0,<0.9
    
    Update hacking version to match version specified in requirements repo.
    
    Fixed the following issues, which the newer version checks for:
    print "" -> print("")
    self.assertEquals -> self.assertEqual
    self.assertNotEquals -> self.assertNotEqual
    
    Change-Id: Ic4b70fd8f565cda28e23fe6b1da0e278f949373c
    Closes-Bug: #1256738
    Closes-Bug: #1256737
    Closes-Bug: #1257274

commit fea9ebc68ffa60e732201e36eca84ea26b2e0910
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Dec 3 10:47:33 2013 +0200

    Add more logging to migrate_volume_completion
    
    Add a debug message on entering the function, and an info message if
    it was called to clean up an error. This is useful because Nova copies
    the data of in-use volumes, and if it fails there will only be a
    message in the Nova logs.
    
    Change-Id: I546d0bae8639072727ebe23394885d40255ba1d4

commit f573b7e3b6bf473c4e5970a9cc1426b4c0a4f767
Merge: 19a2f99 5896966
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 3 08:00:06 2013 +0000

    Merge "Use assertAlmostEqual instead of failUnlessAlmostEqual in unit tests"

commit d54c49a22e3ce147003cc9a926b7b72e8dc9c1a8
Author: ling-yun <zengyunling@huawei.com>
Date:   Sat Nov 30 17:09:28 2013 +0800

    Use model_query() in db.*****_destroy
    
    Use model_query() instead of session.query in db.volume_destroy,
    db.volume_type_destroy, db.transfer_destroy and db.snapshot_destroy as
    other methods use.
    model_query function is the query helper which is used in most part of
    cinder/db/sqlalchemy/api.py.
    
    Change-Id: I97be252df9d40bb97231e3341d5cedec26af2d93
    Closes-Bug: #1256483

commit 19a2f99830121d5b70b9129d9fcdc7c88fca969c
Merge: d3a6d29 714f085
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 3 03:47:47 2013 +0000

    Merge "Remove unused import and CinderNode sqlalchemy model"

commit 44a66bb47fb74db37e7914aa136bd4019fa2aa4d
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Tue Dec 3 10:33:57 2013 +0900

    Change method name to test_get_volume_stats
    
    Change test method name from test_update_volume_stats2 to
    test_get_volume_stats in cinder/tests/test_eqlx.py.
    
    It was pointed out by Change-Id:
    I0642bdb911ca72517ed655f795e0055f4c4654b8
    
    Change-Id: Id21c67e3e1151573e69ef21714fbf493f62ad425

commit 5a452389d94d0a0b1ea4ba1b486e9f30740d698b
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Dec 2 13:42:52 2013 -0800

    Adjust RBD delete log level
    
    Set notice of volume no longer existing in RBD backend when attempting
    to delete to log INFO level. Also move a comment next to related code.
    This is a follow-up to suggestions from
    3de7da12d1098ef777305099e5f4a039e536bf99.
    
    Change-Id: I3ff854e0ead79e208106a371e14ec6ac7603d387

commit 2a8485a296f87bdb70583ff40f856b56b054086b
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Dec 2 19:14:43 2013 -0500

    Bump to sqlalchemy-migrate 0.8.2
    
    This allows us to drop some unsightly sqlalchemy-migrate 0.7.3
    patching.
    
    The related requirements change is here:
    
      Icde6248ca102884323d7912bab0f4a716aa294ec
    
    Change-Id: I5f80dfc07f8256716d025002fc1a1f47e58b2142

commit d746f1fcbdaa61a9ea80abaf6f5209cdf1e88948
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Nov 21 22:55:34 2013 -0800

    Add unit tests for volume reserve and unreserve
    
    This adds unit tests for successful reserving and unreserving, and vice
    versa for not being in the right status.
    
    Change-Id: Iaa777055315251efa4a14976e25b9baab222f934

commit e5d459ae7176f25c2b43606e37c049a52e54e5dc
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Dec 2 14:58:57 2013 -0500

    Don't stop volume service for failed re-export operations
    
    Commit b71570 "Set vol driver initialized before deleting volumes"
    changed the manager behavior to call set_initialized() before
    attempting to re-export volumes.
    
    Drivers should not be considered initialized before re-export has
    succeeded.  Otherwise a failure to export causes the volume
    service to stop, when that failure should be handled like any other
    failure to initialize.
    
    Closes-Bug: 1257049
    Related-Bug: 1232177
    Change-Id: Ic6bc89ef3f15dbbc971fdd8c91117cccb5c2801b

commit d8a11168c908fe6c6a07fbb30a5bc88a6df6e939
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Nov 19 16:25:47 2013 -0500

    GlusterFS: Complete snapshot_delete when info doesn't exist
    
    The snapshot_delete operation will fail if the snapshot info file
    doesn't contain a record for the snapshot, or does not exist.
    This happens in cases such as when snapshot_create fails to commit
    anything to disk.
    
    The driver should allow the manager to delete the snapshot
    in this case, as there is no action required for the driver
    to delete anything.
    
    Closes-Bug: #1252864
    
    Change-Id: I8686a1be09dbb7984072538bff6c026bb84eeb52

commit d3a6d29aef60bdc90c8762875fdf20ecbdfb4bb4
Merge: f9d3f6a 4fdc1df
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 2 15:31:55 2013 +0000

    Merge "Removes dublicated assert from test_migrations.py"

commit f9d3f6ab9a651bfd8c7e3d95d8e11b6bcab206c5
Merge: 9097b94 d02ae92
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 2 10:43:06 2013 +0000

    Merge "Fix typo in cinder"

commit d02ae9225d8ba4f7373ecced49c2d7c1cd17a732
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Fri Nov 29 12:21:48 2013 +0800

    Fix typo in cinder
    
    tranfers -> transfers
    recurse -> recursive
    satisified -> satisfied
    
    There are other typos will be fixed in Oslo. The commit is:
    https://review.openstack.org/#/c/59319/
    
    Change-Id: I6fc2be0414962f456a827d294e258637af665524
    Closes-Bug: #1255908

commit 9097b9407b6ce16c7b5678682284a0ad0fcc652d
Merge: b9e9177 018ba63
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 2 05:44:04 2013 +0000

    Merge "Fix _update_volume_stats typos"

commit b9e91777a7dd7db334e9f2691f972f865f1d4efb
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Dec 1 06:16:40 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ia998d21f646311717eda6301be51ec8bf1cb7034

commit 598bc3a9909537a61641ad8bb5023e06353469a7
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Mon Oct 7 16:16:13 2013 -0400

    Add attach/detach notifications
    
    Add the following notifications:
      - attach.start
      - attach.end
      - detach.start
      - detach.end
    
    Blueprint: attachment-notifications
    Change-Id: I4a4b123468c139bc2bcd948a1e7438c3830b5e42

commit 4fdc1dfe59514451e93f363b49c58f41e982d948
Author: Andrei V. Ostapenko <aostapenko@mirantis.com>
Date:   Sat Nov 30 15:49:29 2013 +0200

    Removes dublicated assert from test_migrations.py
    
    Change-Id: I1f05a0a79827c50d4d826207fafd7330dc89c308

commit 6a6fc11489ac7d57321df77eee7746db53ab3a6e
Merge: 59efb05 4a8ad10
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 30 06:45:02 2013 +0000

    Merge "Redundant body validation for volume_upload_image"

commit 59efb05b4971e8d1713de3c1c96bea8fd3e045b9
Merge: 7a31127 6bd4dae
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 30 05:43:04 2013 +0000

    Merge "Fixing check order for empty body in get_body()"

commit 7a31127bfb0443dce699894d50324ac03add77aa
Merge: 74baeac 371fa54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 30 05:22:56 2013 +0000

    Merge "GlusterFS: Ensure Cinder can write to shares"

commit 74baeac91923b6a404a8931dddafaff7f4f1fd1a
Merge: fc02462 1350867
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 30 05:22:48 2013 +0000

    Merge "Make volume_glance_metadata_create compat with DB2"

commit fc02462e625cf5427fa2794c51b69be8cf638a89
Merge: 2e78038 62523bb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 29 08:53:18 2013 +0000

    Merge "Updates .gitignore"

commit 2e78038f949461deaec1c6248f3a88d1d1c2bd5d
Merge: bf517e3 8185d1b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 29 08:52:46 2013 +0000

    Merge "Fix Storwize terminate_connection with no host"

commit bf517e3f89bdf6757e687ff750298a9842af4757
Merge: 9403c49 3ddf451
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 29 08:51:13 2013 +0000

    Merge "Fix suppressed exceptions for migration downgrade"

commit 5896966d40884a7bdba2878386ef8f2966d08d1a
Author: Sergio Cazzolato <sergio.j.cazzolato@intel.com>
Date:   Fri Nov 29 00:38:44 2013 -0500

    Use assertAlmostEqual instead of failUnlessAlmostEqual in unit tests
    
    The method failUnlessAlmostEqual has been deprecated since python 2.7.
    http://docs.python.org/2/library/unittest.html#deprecated-aliases
    Also in Python 3, a deprecated warning is raised when using
    failUnlessAlmostEqual therefore we should use assertAlmostEqual instead.
    
    Change-Id: Ic9947028afdb5b1ba8f19103018a6f1bc3fc551f
    Closes-Bug: #1257068

commit 9403c49a2ee51a781edd0cb60735e790286bd4c2
Merge: fecf558 ba0ac2e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 29 03:39:35 2013 +0000

    Merge "Add chance weigher to scheduler"

commit 6bd4dae9680aae924ef24750e15f00711c14b1a3
Author: Andres Buraschi <andres.buraschi@intel.com>
Date:   Thu Nov 28 11:35:07 2013 -0300

    Fixing check order for empty body in get_body()
    
    Cinder API logged the following debug message for each request with
    empty body:
    "Unrecognized Content-Type provided in request get_body"
    Check order was fixed in get_body function to follow the correct flow
    and display the right message (empty body).
    
    Change-Id: Ie561983a4da791a412fea3fc390dab718dfce191
    Closes-Bug: #1252692

commit 62523bb7d75b733d31cc81312d3112cc21a49757
Author: Sushil Kumar <sushil.kumar2@globallogic.com>
Date:   Thu Nov 28 07:42:52 2013 +0000

    Updates .gitignore
    
    To ignore swap files from getting into repository
    currently the implemented ignore is *.swp
    however vim adds more swap files if .swp exists,
    so improving this with .*.sw?
    
    Closes-Bug: #1255857
    
    Change-Id: I22b6fa351dd565d4783f432c01785c706acd8397

commit 714f0855d29dfbbc1bc722d74f44250f42598ffe
Author: Olga Kopylova <olkonami@gmail.com>
Date:   Wed Nov 27 13:45:32 2013 +0200

    Remove unused import and CinderNode sqlalchemy model
    
    Class CinderNode is never used,
    attribute_mapped_collection from sqlalchemy.orm.collections imported but unused.
    
    Change-Id: I5d72aaf0922eab001f2db5b884b65632481df937

commit 3ddf4511596b2fcfc4ec134cd9edaeaba823e42b
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Tue Nov 26 11:48:38 2013 +0530

    Fix suppressed exceptions for migration downgrade
    
    In SQLAlchemy migration versions 009, 010 and 020, we missed
    reraising exceptions while logging errors in case of a downgrade.
    We don't want exceptions to pass silently. This patch fixes that.
    
    Closes-bug: 1227881
    
    Change-Id: Id11b1c5d2e26d208e88bb84e5b46c4b7affc3f9f

commit fecf558aaf4780d39f7eda4e7c70cc261f38a019
Merge: 4a67568 a0cbbf8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 28 06:38:11 2013 +0000

    Merge "Add volume migration code to Nexenta iSCSI volume driver"

commit 4a67568980b3f806b0a46c9de4f0575a8e95887f
Merge: 0c21ce7 d869dee
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 28 06:35:55 2013 +0000

    Merge "Parse out '@' in volume['host'] to do discovery"

commit 0c21ce73daabba5cbd8ad3fb5a318a3dd2b40a2f
Merge: 11d2f57 b523699
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 28 06:32:36 2013 +0000

    Merge "Fix the wrong verification for 'readonly'"

commit 11d2f573b2bfa67810617bf87815173bcdeb732d
Merge: a07d1a8 e6a1ba5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 28 04:25:23 2013 +0000

    Merge "Handle NotFound exception in snapshots API code"

commit b523699ce039d77e0bc02eb2c00e436c2e28a274
Author: zhangyanzi <zhangyanzi@huawei.com>
Date:   Thu Nov 28 10:02:16 2013 +0800

    Fix the wrong verification for 'readonly'
    
    A mistake verification for 'readonly', fix it, and add some tests.
    
    Change-Id: Iea20245eef2e884cf4c0d8e62c2da4f1cd967106
    Closes-Bug: #1255802

commit a07d1a8e34f7bcf740c1a12cce691644952635f6
Merge: 79d8072 9d571d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 28 00:16:27 2013 +0000

    Merge "Remove the redundant judgment for 'restore'"

commit d869dee85aa9d32d1a397b954f6583d6bfa60c18
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Nov 27 16:38:22 2013 -0700

    Parse out '@' in volume['host'] to do discovery
    
    The backup method of getting iscsi info is to use
    iscsiadm discovery, however currently that method
    just uses volume['host'] which in the case of
    multi-backend will use "host@backend-name".
    
    This will cause the discovery to fail of course, so
    this change just parses out the '@' symbol if it's present
    and avoids the problem in the first place.
    
    This also beefs up the error logging and exception catching
    a bit.
    
    Parsing out the '@' symbol all the time should be safe as
    the accepted valid chars for hostnames are digits, a-z and
    hyphens.
    
    Change-Id: Ic45a38bf4c56a4aec6847ab0d29e3b41d35bd3d2
    Closes-Bug: #1250673

commit a0cbbf8e1afe6e9d6bbe29f977b2726146615447
Author: keystone <mikhail.khodos@nexenta.com>
Date:   Mon Nov 11 09:21:30 2013 -0800

    Add volume migration code to Nexenta iSCSI volume driver
    
    Utilize ZFS-specific optimizations for direct host-to-host
    volume migration
    
    DocImpact
    Implements: blueprint nexenta-iscsi-volume-migrate
    Change-Id: Ib9f2fa7e1ccb93dbdbc951ddc3a0eda55cb001d5

commit e6a1ba529172b14eed6f611a1d6a09e673176dfd
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Nov 27 14:02:48 2013 -0700

    Handle NotFound exception in snapshots API code
    
    Passing tests in the gate leave unhandled trace/error messages
    for a VolumeNotFound issue.
    
    These are caused by the test_volumes_snapshots_negative test
    which requests a non-existent volume and the tests pass however
    the log files are a bit messed up due to the unhandled exception.
    
    This change just adds a try/catch block around the volume get calls
    in the snapshot modules and raises HTTPNotFound as appropriate.
    
    Change-Id: I2096f2da7c68ef7924fc8e69b2d5c2afea578512
    Closes-Bug: #1255214

commit 79d807223674a23158c7c650b7c3717142aa04a9
Merge: 1c6ad38 348ff10
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Nov 27 20:45:16 2013 +0000

    Merge "Imported Translations from Transifex"

commit ba0ac2e0e2f7ddf71caf6dcc6978e96962bfd08b
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Wed Nov 27 10:26:03 2013 +0000

    Add chance weigher to scheduler
    
    Adds chance weigher to scheduler to allow distribution of requests
    randomly between a number of volume managers.
    
    Change-Id: I3f652caf200c406965b52b94cebb244d3bc1779a

commit 1c6ad3872ae4fe6d31b72267b869a1594b194870
Merge: 384e0bd f1cc872
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 27 10:16:56 2013 +0000

    Merge "The param 'readonly' is incorrect checked"

commit 4a8ad10c3d5d79e09805c28486bd0f8a5a16c511
Author: zhangyanzi <zhangyanzi@huawei.com>
Date:   Tue Nov 26 14:39:18 2013 +0800

    Redundant body validation for volume_upload_image
    
    The body validation is redundant for os-volume_upload_image,should remove
    the redundant validation.
    
    Change-Id: Iba7a4d5f917615f8a8d6320b5fe18af66e4011e0
    Closes-Bug: #1254975

commit 348ff1073abea80137b31a79ead6455678f5f33c
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Nov 27 06:16:11 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Icbaec16425abf1dfbeba7e3581998dbac5cc89e0

commit 8185d1b5db421441ebba128f23f840a42f9bf050
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Nov 26 21:10:22 2013 +0200

    Fix Storwize terminate_connection with no host
    
    Nova may pass a connector to Cinder with no 'host' field, which was
    causing a KeyError in the Storwize driver. This patch resolves this case
    by doing the following:
    1. If the volume is mapped to only 1 host, unmap it
    2. If the volume was not mapped or mapped to multiple hosts, print a
       warning but don't raise an exception
    
    Change-Id: I0ec1c24adbdfbcf1c4868b4981a2e2618d4b411c
    Closes-Bug: #1244257

commit 018ba6302b0f5b909e9f32f44a14c21313a2663e
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Tue Nov 26 15:54:17 2013 +0900

    Fix _update_volume_stats typos
    
    Fix _update_volume_stats typos in 'cinder/volume/driver.py' and
    'cinder/volume/drivers/eqlx.py'.
    '_update_volume_status' to '_update_volume_stats'
    
    Change-Id: I0642bdb911ca72517ed655f795e0055f4c4654b8
    Closes-Bug: #1254978

commit 384e0bdf9f5b2dd0dc7d3e539d8af8f1bdbcb21f
Merge: dedc4f3 1cd3626
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 26 20:41:32 2013 +0000

    Merge "Brick connector revised fix for NFS drivers"

commit dedc4f35a676ec9f61bbe3e460a0f18fda697aff
Merge: 1f40726 9c816aa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 26 17:56:18 2013 +0000

    Merge "GlusterFS: Set correct permissions for volume file created via clone"

commit 1f407260e819b99f59747c066cec7b846d681003
Merge: 0cb55c5 f1df39f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 26 11:56:00 2013 +0000

    Merge "Fix docstring for Snapshot model"

commit 0cb55c534eaf816620e76f853252d6a17522237f
Merge: 0b71a3f 9c2029a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 26 11:55:52 2013 +0000

    Merge "Pull latest service module from Oslo"

commit 9d571d39d7370efd290c6139e74c4884c5f7edbe
Author: zhangyanzi <zhangyanzi@huawei.com>
Date:   Mon Nov 25 19:13:52 2013 +0800

    Remove the redundant judgment for 'restore'
    
    In the function 'restore', there is redundant judgment for the body, it
    should be removed.
    
    Change-Id: Icfc5ae20141fad9d72de227cf5c06ca8504bd22c
    Closes-Bug: 1254671

commit 1350867613d8638baf8ccc85910a61df94d5a86d
Author: zhuzhubj <zhuzhubj@cn.ibm.com>
Date:   Wed Jul 3 18:07:43 2013 +0800

    Make volume_glance_metadata_create compat with DB2
    
    As DB2 does not support SQL insert via raw number type if
    table column data type is "CLOB" ("TEXT" in sqlalchemy), we need
    to convert numerical values to string before insert operations.
    
    This problem was discovered through the
    test_volume_create_get_update_delete_from_image test case in
    tempest.api.volume.test_volumes_get.  The test case fails with
    a DBError without this change in place.
    
    Partial-blueprint db2-database
    
    Change-Id: I5b378cce5b639df23d7003548f49bdab1eecf6a0

commit 9c816aa0cf20ff0200831f58d8f14efb5e9e288e
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Nov 25 16:39:03 2013 -0500

    GlusterFS: Set correct permissions for volume file created via clone
    
    This is currently done when creating a new volume from scratch,
    but not when cloning a new volume.
    
    Closes-Bug: #1254768
    Change-Id: I8506dc0824bacdb6cc42b4cadd41c2cad3a74b5b

commit 371fa540600b20b97eae389e1f976145866cadae
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Nov 19 18:01:55 2013 -0500

    GlusterFS: Ensure Cinder can write to shares
    
    Ensure the Cinder user can write to the GlusterFS share.  This
    is required for snapshot functionality, and means the admin
    does not have to set this permission manually.
    
    Closes-Bug: #1236966
    Change-Id: I4a9ea40df9681ca6931ad6b390aa21b09d6cfec9

commit f1cc8726058a5b3bc4b955e3441e498c2ead8471
Author: zhangyanzi <zhangyanzi@huawei.com>
Date:   Mon Nov 25 19:33:49 2013 +0800

    The param 'readonly' is incorrect checked
    
    In the function os-update_readonly_flag, the param 'readonly' is incorrect
    checked, without the param in request, i think it should raise exception
    with message like "Must specify readonly in request."
    
    Change-Id: I19e15e988ffa2d093d374f6a33ce94d45ffe2c30
    Closes-bug: 1254682

commit f1df39fe7be45c9d789f7b889de35328158079c4
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Mon Nov 25 17:55:08 2013 +0800

    Fix docstring for Snapshot model
    
    "Represents a block storage device that can be attached to a VM." as the
    description of model Snapshot is incorrect.
    
    Change-Id: I1d7c985869f0829b9305a18a3570928a9da40519
    Closes-Bug: #1254635

commit 0b71a3f0bd502f9637043aa3f21a6653d536b866
Merge: 1554451 8f8be68
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 09:19:21 2013 +0000

    Merge "To fix test_get_dss_rp in test_vmware_vmdk.py"

commit 1554451c98a1962cf2a6060847cd97033ce3ca4e
Merge: 7e747e3 430d3a5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 09:19:05 2013 +0000

    Merge "Remove dead code from test_get_volume_stats()"

commit 7e747e33a69337be20361c6c460d58847cc6b648
Merge: 34e5b18 273d876
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 09:02:40 2013 +0000

    Merge "Add greenthread.sleep() to parent wait()"

commit 34e5b18625e1f7c5026ba902c3a73be3dfcb4fe6
Merge: e253ca9 cb68891
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 08:51:17 2013 +0000

    Merge "Update openstack/common/periodic_task"

commit e253ca9b3569e9da55c46139886f2c4046d52d88
Merge: 81ee01e c4db75a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 05:31:20 2013 +0000

    Merge "Pass the size when fetching image in xenapi driver"

commit 81ee01e7dddd4300d1d1aa5dd3b479b0b967acc4
Merge: 0efba20 585f34f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 05:31:04 2013 +0000

    Merge "NetApp fix free space as zero during 1st vol stats update"

commit 0efba20347d7f91f4e18d57153da9ef5347a4f50
Merge: 1e666f9 6dfb3ed
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 05:30:33 2013 +0000

    Merge "Fix docstring for _migrate_volume_completion"

commit 1e666f9ec732b21098c2b293cea7dfe1c088d793
Merge: 172c8c3 60f5b77
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 05:30:25 2013 +0000

    Merge "Initialize and terminate connection raise 500 err"

commit 172c8c3a5e27a59503126481127400e165e71df3
Merge: fa2cbe7 58db021
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 05:30:18 2013 +0000

    Merge "Migrate volume should check para "host" in request"

commit fa2cbe7bd53991f879c769410acbdded0aaf8785
Merge: a1e64eb d79ea38
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 04:56:54 2013 +0000

    Merge "Fix ./run_tests.sh -V --virtual-env-name"

commit a1e64eba29d128a29d89af01604d6dffdd4e6fef
Merge: b6e1677 3aef512
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 25 02:32:52 2013 +0000

    Merge "Ensure 'status' in update_snapshot_status"

commit 18b14203d8b30c9792d8c819f7993961b2ec8fc5
Author: liyingjun <liyingjun1988@gmail.com>
Date:   Sat Nov 23 22:06:19 2013 +0800

    Make sure report_interval is less than service_down_time
    
    If service_down_time is less than report_interval, services will
    routinely be considered down, because they report in too rarely.
    Add check for service_down_time vs report_interval, if report_interval
    is larger than service_down_time, automatically change
    service_down_time to be report_interval * 2.5
    
    DocImpact
    
    Closes bug #1255685
    
    Change-Id: I9b291669ea201321b03a48d2a132810f3bace2dc

commit b6e1677a6d750d14e23c161b9ed77f64d774602a
Merge: 3de7da1 45489f9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Nov 24 10:31:24 2013 +0000

    Merge "Remove unused code in test_admin_actions.py"

commit 3aef51279b36a47ec26b958ec6022da4208cc15e
Author: zhangyanzi <zhangyanzi@huawei.com>
Date:   Fri Nov 22 16:41:39 2013 +0800

    Ensure 'status' in update_snapshot_status
    
    The function os-update_snapshot_status doesn't check whether the param
    "status" is in request body. It throws 500 error. We should catch the
    KeyError and return 400 (HTTPBadRequest) instead.
    
    Change-Id: If3775e3c0299cf0edbdda5081a6633b38462011b

commit cb688915028bca58848fc990bd284ca9161e9fdf
Author: Michael Still <mikal@stillhq.com>
Date:   Sat Nov 16 22:33:55 2013 +1100

    Update openstack/common/periodic_task
    
    The following commits are in this update:
    
    1771a77 Adjust import order according to PEP8 imports rule
    4bfb7a2 Apply six for metaclass
    0ea069e Removed calls to locals()
    
    Change-Id: Ied20ce735af79b52e7674a3dfe3b097b84b61533

commit 60f5b775eb1306c2460a73940ef709ed62eae4e2
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Fri Nov 22 17:02:32 2013 +0800

    Initialize and terminate connection raise 500 err
    
    Initialize and terminate connection should check whether "connector" is
    in request body. It throws 500 error if "connector" is not present. We
    should catch the KeyError and transfer it to 400 (HTTPBadRequest)
    instead of.
    
    Closes-Bug: #1253944
    Change-Id: If38419592701c8a14df52f94fd46ed0fc7a17e04

commit 6dfb3ede190cb013f747617e75218953330c54ca
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Fri Nov 22 15:40:11 2013 +0800

    Fix docstring for _migrate_volume_completion
    
    "Migrate a volume to the specified host." as the description of
    _migrate_volume_completion func is incorrect.
    
    Closes-Bug: #1253910
    Change-Id: Ica944d9a7fa962ff56a9f0107ac1519623d2e551

commit 58db021240cafb33f602aba50fdaa9060c15d84a
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Fri Nov 22 15:22:07 2013 +0800

    Migrate volume should check para "host" in request
    
    The server doesn't check whether the parameter "host" is in request
    body. So the 500 error has been thrown.
    
    We should catch the KeyError and transfer the KeyError to
    400 (HTTPBadRequest) instead of 500.
    
    Closes-Bug: #1253904
    Change-Id: I3fb07113816a87f284b47e32bacd57f78a32676c

commit 3de7da12d1098ef777305099e5f4a039e536bf99
Author: Mike Perez <thingee@gmail.com>
Date:   Sat Nov 23 10:50:15 2013 -0800

    Continue to delete volumes that DNE in rbd backend
    
    If a volume has already been deleted in the RBD backend, catch the
    exception and let Cinder continue removing it in the database.
    
    Closes-Bug: #1254318
    Change-Id: I99b591ce78d82c6eaabff0459d9c523e85c8e65f

commit 010a5d2919dd3132eb0e8fd099bf005bc1bff55b
Merge: 3fce89d 7d26416
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 23 01:31:14 2013 +0000

    Merge "Add default quota class into DB during migration"

commit 3fce89d1c5a38ce326ace4ee6a97bc96d171c6be
Merge: 653c403 7b64653
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 23 01:24:15 2013 +0000

    Merge "Using HttpNfcLease to transfer vmdk files."

commit 9c2029a8019e04634acf26ee780b59f78e19331f
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Thu Nov 21 17:02:23 2013 +0800

    Pull latest service module from Oslo
    
    Get latest service module from Oslo to prepare for multi-process API service implementation.
    Below are the commits included in this pull.
    
    Changes being pulled into in service module are:
    * e7bc8c9 2013-11-20 | Merge "os._exit in _start_child may cause unexpected exception"
    * 96a2d4e 2013-11-07 | os._exit in _start_child may cause unexpected exception
    * 1771a77 2013-11-05 | Adjust import order according to PEP8 imports rule
    * 3110c0f 2013-10-17 | Use multiprocessing.Event to ensure services have started
    * b5fba9e 2013-09-18 | Move comment in service.py to correct location
    * 11cc74f 2013-08-26 | Fixes issue with SUGHUP in services on Windows
    * 825ace5 2013-06-17 | Add service restart function in oslo-incubator
    * c935d1c 2013-07-16 | Merge "Allow launchers to be stopped multiple times"
    * dc8aa79 2013-07-08 | Allow launchers to be stopped multiple times
    * 1a2df89 2013-06-25 | Enable H302 hacking check
    * 52e857a 2013-06-19 | Ignore any exceptions from rpc.cleanup().
    * 5518ad3 2013-05-16 | Add graceful service shutdown support to Launcher
    
    And these dependent modules
     - cinder/openstack/common/eventlet_backdoor.py
        * 1dcc747 2013-07-15 | Fix stylistic problems with help text
        * 1a2df89 2013-06-25 | Enable H302 hacking check
        * c7c55b2 2013-06-20 | Improve usability when backdoor_port is nonzero
     - cinder/openstack/common/gettextutils.py
        * 3970d46 2013-11-02 | Fix typos in oslo
        * 88db9c8 2013-10-03 | When translating if no locale is given use default locale
     - cinder/openstack/common/jsonutils.py
        * 3d7504b 2013-09-23 | Ensure that Message objects will be sent via RPC in unicode format
        * 1807d32 2013-08-22 | jsonutils: make types py3 compatible
        * bdef862 2013-08-22 | jsonutils: do not require xmlrpclib
        * ded9bd6 2013-08-04 | Make dependency on netaddr optional
        * 7b7566b 2013-06-25 | Add netaddr.IPAddress support to to_primitive()
     - cinder/openstack/common/local.py
        * cb2a2b6 2013-06-28 | Modify local.py to not be dependent on Eventlet
        * 547ab34 2013-03-11 | Fix Copyright Headers - Rename LLC to Foundation
     - cinder/openstack/common/log.py
        * a82e889 2013-11-14 | Merge "Do not name variables as builtins"
        * 2251cb5 2013-11-13 | Do not name variables as builtins
        * 25c5854 2013-11-13 | Adds admin_password as key to be sanitized when logging
        * cbfded9 2013-11-11 | Default iso8601 logging to WARN
        * 76b0cd1 2013-11-04 | Add mask password impl from other projects
     - cinder/openstack/common/loopingcall.py
        * 1a2df89 2013-06-25 | Enable H302 hacking check
     - cinder/openstack/common/threadgroup.py
        * 9d3c34b 2013-10-25 | Add a link method to Thread
        * 1a2df89 2013-06-25 | Enable H302 hacking check
     - cinder/openstack/common/timeutils.py
        * f3b5f17 2013-11-12 | Add helper method total_seconds in timeutils.py
        * 53ebd30 2013-10-18 | python3: use six.text_types for unicode()
        * 3bc6f79 2013-09-19 | Fix timeutils.set_override_time not defaulting to current wall time
        * af76064 2013-08-29 | Optimize timeutils.utcnow_ts()
        * df3f2ba 2013-07-26 | BaseException.message is deprecated since Python 2.6
        * d28fa69 2013-06-27 | python3: Add python3 compatibility.
    
    Partial bp: multi-process-api-service
    
    Change-Id: Ifd25eae9eb2d6ae53bcf1665c3d5b7db4144433c

commit 273d8765115f0936d24549db8698dbe7e8d2ec1a
Author: scott-dangelo <scott.dangelo@hp.com>
Date:   Fri Nov 22 16:28:07 2013 +0000

    Add greenthread.sleep() to parent wait()
    
    Add an eventlet.greenthread.sleep() to wait() to keep
    cinder-volume parent from looping after catching SIGTERM
    and hogging the CPU. This was already added to the running
    state but is missing from the SIGTERM caught state when
    the parent waits to reap the child.
    
    Change-Id: Ia871e31db5bf9ec4e86f926f8f6c4f0f4ecb7925
    Closes-Bug: #1254089

commit d79ea38c168230377828bc5667e4fdbd8638b776
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Nov 22 10:13:58 2013 -0500

    Fix ./run_tests.sh -V --virtual-env-name
    
    Currently if --virtual-env-name is specified, the tests fail
    because it still creates .venv/ but then looks in the specified
    location to use the venv.
    
    This makes --virtual-env-name work as expected.
    
    Change-Id: I036cd08f7b7b9dc87e7012f8dd198a26375297a2

commit c4db75abddbb72ac5f717f6a9266e078b69206a8
Author: Xavier Queralt <xqueralt@redhat.com>
Date:   Fri Nov 22 10:39:37 2013 +0100

    Pass the size when fetching image in xenapi driver
    
    In commit 6e287c0f2bb7d4994d50f1763f412277e4dac6f7 the fetch_to_raw
    method was changed to accept the volume size so it can fail when the
    image doesn't fit in the destination volume. In this commit we also
    updated all the volume drivers to pass the volume size to that method so
    it could perform the check. The xenapi driver missed that change.
    
    This commit updates the xenapi driver to pass the volume size when
    fetching the image to enable the introduced check.
    
    Change-Id: I89bc4b3b1c1e6b06f5c529166cf9ffa1fe600c96
    Related-Bug: #1235358

commit 653c403b047822e3a4b270c78218142d1ec33347
Merge: b4a9c25 0d3e9c3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 09:06:49 2013 +0000

    Merge "Add support for extend volume in GPFS vol driver"

commit 45489f9814fce0f7b3f6c947076529962902f729
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Fri Nov 22 16:21:19 2013 +0800

    Remove unused code in test_admin_actions.py
    
    Change-Id: I66fa378005d0e8b181274a47b1746a1fe787e716
    Closes-Bug: #1253931

commit b4a9c2569935a05a4b58f655fda8e30476dd1f96
Merge: 704faab d97304d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 07:49:29 2013 +0000

    Merge "Fix typo in cinder.volume.API."

commit 704faab94b23906c6f50f3bcfdbf99542c9c14b7
Merge: 791f5a0 a5424f7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 07:07:45 2013 +0000

    Merge "Don't do glance v2 calls when config is set to v1"

commit 791f5a0b25fef7aee0ac5ce70e311b4d6c834358
Merge: e6f2ed6 a3ebe1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 06:16:25 2013 +0000

    Merge "Remove suffixes from LVM brick test vgs output"

commit e6f2ed60be911ff01f4f2b7aa67450ac273df9cf
Merge: 61df6b4 8b6d51e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 05:06:05 2013 +0000

    Merge "Add valid check and unit tests on quota class"

commit 61df6b477d047090940afa3de1e5a1fa58a48f4d
Merge: a106f68 381e717
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 05:06:02 2013 +0000

    Merge "Create snapshot throws 500 Internal Error"

commit a106f688cb67311d59acc83370a6989ee401c4a8
Merge: 034a360 8a1fd88
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 03:08:19 2013 +0000

    Merge "GlusterFS: Synchronize operations that manipulate qcow2 data"

commit 034a360048990c9b020e3ea3d896235c2e506590
Merge: b9298d2 8b6f417
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 22 03:02:15 2013 +0000

    Merge "Subclass vendor specific exceptions."

commit 0d3e9c32869a77574dee07a0556de87ba7cdb2e5
Author: Bill Owen <billowen@us.ibm.com>
Date:   Mon Nov 18 15:52:00 2013 -0700

    Add support for extend volume in GPFS vol driver
    
    Add support for extend volume support to the GPFS volume
    driver.
    
    Ensure that requested volume size is implemented for each
    of the volume creation paths.
    
    Replace instances where units.GiB could be used but was not.
    
    Implements: blueprint gpfs-extend-volume-support
    Change-Id: I79295205f4147fca109f5cb59497a6e1fbe6d296

commit 430d3a5b94543e3b24a58d61d1497b3683ff309e
Author: Jon Bernard <jobernar@redhat.com>
Date:   Fri Nov 15 17:38:31 2013 -0500

    Remove dead code from test_get_volume_stats()
    
    The _emulate_vgs_execute() routine is never called because the function
    that calls it (get_all_volume_groups) is overridden to return fake
    output without executing vgs.
    
    Change-Id: I3d3f536f7d85128547dc9e758e3930412ebed121

commit a3ebe1fbaf90b0419a90c7b7dd6f76f59c676752
Author: Jon Bernard <jobernar@redhat.com>
Date:   Tue Nov 19 12:06:52 2013 -0500

    Remove suffixes from LVM brick test vgs output
    
    When fake_execute() is called to retrieve volume group information, the
    --nosuffix flag is passed but ignored.  This patch honors the nosuffix
    flag and removes the unit suffix from the volume group sizes in the
    returned output.
    
    Change-Id: I45f41bc58f4ffb4bd527336c0f760350cff7c355

commit b9298d2517549ffad98a0cef11e4ea5986d4e448
Merge: 9f138a1 b9ff8cd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 21 22:56:06 2013 +0000

    Merge "LVM: Activate source LV before cloning from it"

commit 8b6f41715c4a4a8554444d634fbe62f73aa084d2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Nov 11 14:57:44 2013 -0700

    Subclass vendor specific exceptions.
    
    Up until now drivers have been able to define their
    own custom exception classes.  In most cases these are
    inherited from either a native python exception class
    or at best the base cinder exception class.
    
    The problem with this is that it makes it very difficult
    for higher layers (such as volume manager) to do any intelligent
    exception handling and the base Cinder.exception class is too broad.
    
    This change takes the first step in cleaning this up.  We create
    new exception classes for all drivers to inherit from:
      VolumeDriverException
      VolumeBackendAPIException
      BackupDriverException
    
    This still allows the freedom to create custom exceptions for a
    particular driver, however it also gives us a common exception
    class to catch and check in higher levels.  Further refinement
    and standardization will be helpful going forward but this
    should give us a good start.
    
    Change-Id: I8c2ca4eecf7a64a82846d6d24fc0239db086237e

commit a5424f700e6cce409763019906acfe293a75ed1a
Author: Sam Morrison <sorrison@gmail.com>
Date:   Tue Nov 19 15:20:05 2013 +1100

    Don't do glance v2 calls when config is set to v1
    
    Fixes bug 1252549
    
    Change-Id: I6d9509bfecd2f73040a0ad27aff8fc5f6fd0a899

commit b9ff8cd7ad8c402787324d2baca9b32f61eafb4a
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Nov 18 13:42:37 2013 -0500

    LVM: Activate source LV before cloning from it
    
    LVM may be configured to not automatically activate
    thin-provisioned LVs.
    
    Ensure they are activated when performing a clone, otherwise
    dd will fail as the device does not exist in /dev/mapper/.
    
    Closes-Bug: #1252423
    
    Change-Id: Ibcb946ffe7804b1976bf1b1863c48340c8cc7fd5

commit 7d2641688454d9064b691e4aab4b5d8b14d75305
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Fri Nov 15 19:01:58 2013 -0600

    Add default quota class into DB during migration
    
    For some time now use_default_quota_class has been the
    default setting for Cinder.  Cinder, however, has not been putting
    any defaults for the default quota class into the database.  This
    resulted in any command that queried for the default quotas to cause
    the message "Deprecated: Default quota for resource: <resource> is set
    by the default quota flag: <quota flag>, it is now deprecated.  Please use
    the default quota class for default quota."
    
    This commit resolves this issue by setting the default value for volumes,
    snapshots and gigabytes in the quota_class table at migration time if there
    is not already a class_name of 'default' in the quota_classes table.
    
    Unit tests are included with this commit.
    
    Closes-bug 1233763
    Change-Id: I457ed8a9b78492eda22e31dfc198b2ee051d3ece

commit 8f8be6815e6a7d26165ee6f185821597e56cb740
Author: Vipin Balachandran <vbala@vmware.com>
Date:   Wed Nov 13 22:09:37 2013 +0530

    To fix test_get_dss_rp in test_vmware_vmdk.py
    
    The test "test_get_dss_rp" in test_vmware_vmdk.py is not testing
    the positive case as intended. Rather, it tests the negative case
    (no datastores) which is already covered by
    "test_get_dss_rp_without_datastores".
    
    Change-Id: I5b4802e22218217e0338fc721fc0ce1efeaee4f1
    Closes-Bug: #1251126

commit d97304d18cf594e5982899d1c9f82a297842cd1d
Author: Takashi NATSUME <natsume.takashi@lab.ntt.co.jp>
Date:   Wed Nov 20 10:39:44 2013 +0900

    Fix typo in cinder.volume.API.
    
    '_valid_availabilty_zone' --> '_valid_availability_zone'
    
    Change-Id: Ib79772039d663f0eb4fc8994cc8edc5154d75a02
    Closes-Bug: #1252915

commit 20667f7d49eed88ddd528be73293a624b3af1ba0
Author: Navneet Singh <singn@netapp.com>
Date:   Mon Nov 18 04:46:31 2013 +0530

    NetApp fix for vsadmin role failure for ssc
    
    The ssc feature does not work with vserver admin
    role. If the user is a vsadmin then he does cannot
    use the ssc feature fully. This fix checks the access
    and issues apis appropriately and also handles error
    conditions.
    
    Closes-Bug: #1253657
    
    Change-Id: Ibc4409e5d5e6e36bba41e5f59dd94c05b87b1cde

commit 381e717b4cdebb75f90dc4c62120e8d607f2a98c
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Mon Nov 18 16:58:45 2013 +0800

    Create snapshot throws 500 Internal Error
    
    The server doesn't check whether the parameter "volume_id" is in request body.
    So the 500 error has been thrown.
    
    We should catch the KeyError and transfer the KeyError to 400(HTTPBadRequest)
    instead of 500.
    
    Change-Id: I8a1dde1fd6ed820b39995af434efacc2a27c9604
    Closes-Bug: #1252179

commit 9f138a1efdab9dd0f7b4bbfc9835bd53dfed762b
Author: huangtianhua <huangtianhua@huawei.com>
Date:   Mon Nov 18 15:55:32 2013 +0800

    Fixes inappropriate error message.
    
    "Volume cannot be deleted while migrating" as error message in
    create_snapshot is inappropriate while volume is migrating.
    
    Change-Id: I6cfaf312f9b1edbf4e54f737664290d6ab3b6332
    Closes-Bug: #1252175

commit 1099f09a2d22389b75377758f89a4f3365e69305
Merge: 88e6883 ccc4cca
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 18 04:51:30 2013 +0000

    Merge "Check only our VG name when testing if VG exists"

commit 585f34ff7798ad271121d432e0cae8820bc54389
Author: Navneet Singh <singn@netapp.com>
Date:   Mon Nov 18 02:38:07 2013 +0530

    NetApp fix free space as zero during 1st vol stats update
    
    NetApp clustered ontap drivers report space as zero
    till first 60 seconds of driver start. This is causing
    discomfort for some performance sensitive deployements.
    This was due to async nature of the NetApp stats collection job.
    Job is changed to sync at driver start to improve customer
    experience.
    
    Change-Id: I7d5cbf590897a0d328ece3a60516c92c0ad0ee7f
    Closes-bug: #1253660

commit 88e688317dc4066f2f0b4dfc454a3f049da4d0e3
Merge: 7dc8846 9ed0f39
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 16 07:27:37 2013 +0000

    Merge "Use cached volumes in REST API extensions"

commit 7dc88465d5d7c5c26e11a662827a89f8892f5acf
Merge: f4dff4d 233430b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 16 06:40:17 2013 +0000

    Merge "Enable object caching in cinder REST API requests"

commit 8b6d51ea04a65d846b0e92a11e191327360d7427
Author: ling-yun <zengyunling@huawei.com>
Date:   Mon Oct 28 15:38:35 2013 +0800

    Add valid check and unit tests on quota class
    
    1.Cinder quota class hard_limit’s value should larger than -1 (-1 is a flag
    value for unlimited).
    2.Add unit tests for quota class.
    
    Closes-bug: #1245360
    
    Change-Id: Ie483db1bdbd4fac875de26abab8ebebd96f4938b

commit 8a1fd8889170c289910944db016a4206fe5e1e32
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Nov 14 15:51:15 2013 -0500

    GlusterFS: Synchronize operations that manipulate qcow2 data
    
    Operations that modify qcow2 chains or the GlusterFS driver's
    snapshot info file should use locking so that more than one thread
    cannot run these operations at the same time.
    
    Without this it is possible for multiple threads to concurrently
    modify snapshot information resulting in an incomplete snapshot
    chain.
    
    Closes-Bug: #1251425
    
    Change-Id: I93c6ffecd9aec38560cb19085243390b9120b363

commit ccc4cca6e1d220a140dfa647aeff36bcae4f79dc
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Nov 14 13:29:42 2013 -0500

    Check only our VG name when testing if VG exists
    
    Rather than calling "vgs" we should just call
    "vgs <cinder-vg-name>" which returns only information about the VG
    we are querying.
    
    Also hardens test command string matching to error on unexpected
    calls.
    
    Change-Id: I25580e34b6589e161a51274f22dbb9ed922e43ed

commit f4dff4d337466f0b63a60f978acaf29d861a6b4b
Merge: dc85f13 6a3e0fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 14 15:49:14 2013 +0000

    Merge "Remove dup of LVMISCSIDriver in LVMISERDriver"

commit dc85f1393b791a52f006e9470d01d003e6bdbdb0
Merge: bacd9cc 2ed2f3a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 14 15:49:06 2013 +0000

    Merge "Update quota-set throw 500 error"

commit bacd9cc0bbe24e4504b2bfe579dd037a28c6bf9c
Merge: 26b58e2 f7ca79a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 14 15:38:32 2013 +0000

    Merge "Adds extend volume to Dell EqualLogic Driver"

commit 2ed2f3aff8eee70e02eb995780af292057cfcad4
Author: ling-yun <zengyunling@huawei.com>
Date:   Mon Nov 11 22:00:03 2013 +0800

    Update quota-set throw 500 error
    
    The server doesn't check whether the parameter "quota_set" or
    "quota_class_set" is in request
    body.So the 500 error has been thrown.
    
    We should catch the KeyError and transfer the KeyError to
    400(HTTPBadRequest) instead of 500.
    
    Change-Id: I01260c77efa50324f3d203888689cdb1e94d2c21
    Closes-Bug: #1249971

commit 7b64653931628328bd5d70b0cdea8952e6c709f8
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Fri Oct 11 08:54:18 2013 +0530

    Using HttpNfcLease to transfer vmdk files.
    
    The current VMware driver supported only "sparse" and "preallocated"
    vmware_disktype property set in a "vmdk" glance image. Both of these were just
    copied over as *-flat.vmdk files into the vmfs or nfs file system of the
    underlying datastore. This was used during copy_image_to_volume() api.
    Unfortunately for a vsan datastore this work flow breaks since there is no
    access to the flat vmdk file in the underlying datastore.
    
    This patch introduces a new vmware_disktype for a glance image called
    "streamOptimized". This is a format generated when a VM/vApp is exported using
    the HttpNfc APIs. AS the name suggests this is a highly optimized format for
    streaming in chunks and thus would result in much faster upload / download
    speeds. The driver's copy_volume_to_image() implementation now always uploads
    the vmdk contents using HttpNfc api so that the glance image ends up in the
    "streamOptimized" disk type. Also the driver's copy_image_to_volume()
    implementation now understands a "streamOptmized" disk type and uses HttpNfc to
    import that vmdk into a backing VM.
    
    Note that the same "streamOptmized" glance image format will also be supported
    by VMware nova driver. This change is in a different patch -
    https://review.openstack.org/#/c/53976/
    
    Patch Set 4: Removing changes to requirements.txt that got in by mistake.
    Patch Set 5: Fixing a small bug around progress updates.
    Patch Set 6: Addressing comments from Avishay.
    
    Fixes bug: 1229998
    
    Change-Id: I6b55945cb61efded826e0bcf7e2a678ebbbbd9d3

commit 26b58e2c10011450725ae644b404fabb4b8b6b7f
Merge: 46a8232 f71fde6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 14 06:02:04 2013 +0000

    Merge "Nexenta NFS driver refactoring"

commit 46a82328337753a456e9857ee27688f63f9b9f08
Merge: 527e554 2138734
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 14 05:22:09 2013 +0000

    Merge "Remove the use of common.uuidutils.gen_uuid"

commit f7ca79ae1d02bc9babf8611164d3709374f66eec
Author: Jacob M. Jacob <jacob_jacob@dell.com>
Date:   Wed Nov 13 18:02:37 2013 -0600

    Adds extend volume to Dell EqualLogic Driver
    
    Adds extend_volume support to the Dell EqualLogic Driver
    
    Change-Id: I416c73248f1813a805dcca4d70ad6cbc91d78f7d
    Implements: blueprint eql-extend-vol-support

commit 527e554dbbd509f5b5a2ee5ebac4c5de1f534cba
Merge: 7d2646f 2f62736
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 23:31:03 2013 +0000

    Merge "Don't use deprecated module commands"

commit 2138734b13ea73b3caed8607195b7398e5fc2cab
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Nov 13 15:29:32 2013 -0700

    Remove the use of common.uuidutils.gen_uuid
    
    There's a movement to remove gen_uuid from the
    openstack common.  This change removes it's use
    from Cinder and just puts the call inline.
    
    Change-Id: I07329bab9553e15e498ddbda3848d50b8f48fd53

commit 7d2646f44a281f82828f0a8927aab114c8217daf
Merge: fe5fdd3 0d91b1a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 16:05:29 2013 +0000

    Merge "Do not allow bad keys while updating quota"

commit fe5fdd378a5e2a2fdd8678ce86b90c0dbfe9058d
Merge: 40732fe 76497ce
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 10:48:52 2013 +0000

    Merge "Support volume_readonly_update using XML format"

commit 40732fe51400b197179d1864374b760f72dfe785
Merge: 7a995b2 ee898c5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 09:06:32 2013 +0000

    Merge "Nexenta iSCSI driver: extend volume stats of _update_volume_stats"

commit 7a995b2e032662828bba069bcefb31aecfcf4191
Merge: 887b60a f66de80
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 09:06:29 2013 +0000

    Merge "Remove duplication of ISCSIDriver in ISERDriver"

commit 887b60a011578948d31be17dd321e354bf209683
Merge: 43479e2 0b175f1
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Nov 13 07:36:47 2013 +0000

    Merge "Imported Translations from Transifex"

commit 43479e23f4c6afdf42680a7f0515595a7d93b294
Merge: 50c9903 6e287c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 06:50:53 2013 +0000

    Merge "Fail when image is bigger than the volume"

commit 50c990318794acf7a371ad9c70ff1645c4fef812
Merge: de373ba 56e5805
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 06:50:50 2013 +0000

    Merge "Retrieve volume image metadata using single query"

commit de373bae02406fb9fde79e3227e2b0d7d566d21b
Merge: 2d45e0a bb2daca
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 06:50:48 2013 +0000

    Merge "Add call to retrieve image metadata for volumes in bulk"

commit 0b175f147779d718cef2e0ce7ef8ab79fbccbb0c
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Nov 13 06:16:21 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I8893400d375faefcb59c69f4ed729ecf5e8fe7d3

commit 2d45e0aaa2ebccca6dd7683de38e387de6302fa1
Merge: fac9cf8 e7319bc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 06:13:47 2013 +0000

    Merge "Nexenta: Remove snapshot after volume-clone deletion."

commit 0d91b1a86a211610f78ac5c0df5a0b02b5a2f3a1
Author: Abhijeet Malawade <Abhijeet.Malawade@nttdata.com>
Date:   Wed Nov 6 03:20:54 2013 -0800

    Do not allow bad keys while updating quota
    
    Raise 400 (bad request) error instead of 200 (ok) if bad keys
    are passed to the update quota request
    
    Closes-Bug: #1248815
    
    Change-Id: Iaefaa4961dd3783dfab15f843cbb2dcb12195a7d

commit fac9cf850e2b9b0e84cd505f3bf6fca9ff4a1f8f
Merge: 925b0f8 539eaaa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 05:56:27 2013 +0000

    Merge "RequestContext initialization failed in cinder."

commit 925b0f87c6a5e7ea739a67e3aa05ce6593b79ec9
Merge: 1e108af 5ec46e1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 01:02:04 2013 +0000

    Merge "Report zero capacity if GPFS is unmounted"

commit 1e108afd6cb8e996128b40c30fdc93a7be4e1453
Merge: 20d177d 5fc5ba9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 13 00:54:47 2013 +0000

    Merge "Do not remove volume silently if GPFS is unmounted"

commit 9ed0f39fceaaa7a56e74055b54b7f6124e9e7f11
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Nov 5 20:41:02 2013 +0000

    Use cached volumes in REST API extensions
    
    This patch caches db volumes in the core volumes API so that they can be
    used in the host and tenant attribute API extensions in order to lower
    the response time by avoiding costly individual db queries for each
    volume in the REST API contributions.
    
    Change-Id: Ie0cbe929379df32fddbdce1953f13b6f26208bff
    Partial-Bug: #1197612

commit 233430b51ddbd207f22eee98386ffbb766fd777f
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Nov 5 19:37:27 2013 +0000

    Enable object caching in cinder REST API requests
    
    Allow the core API to cache resources, such as DB results, so that
    extensions can use data already retrieved within the same API request
    eliminating additional expensive DB calls.
    
    Loosely based on commit 9f9fbc54e7336da10fc3056bdaca2ec7d01c7f94 from
    nova.
    
    Change-Id: If9f49faf7305287c0489ad6209cf19b8bec612cc
    Partial-Bug: #1197612

commit ee898c56b43d6ee0c5b5e6c53e3f11258dee9f07
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Tue Nov 5 14:59:42 2013 -0800

    Nexenta iSCSI driver: extend volume stats of _update_volume_stats
    
    Added location_info to stats provided by _update_volume_stats method
    of Nexenta iSCSI volume driver.
    
    Change-Id: Ib947180cb6d08d7639443a8998190ab911d1a4a4

commit 6e287c0f2bb7d4994d50f1763f412277e4dac6f7
Author: Xavier Queralt <xqueralt@redhat.com>
Date:   Tue Oct 22 20:37:53 2013 +0200

    Fail when image is bigger than the volume
    
    When creating a new volume from a qcow2 image stored in glance, we will
    be given the physical size of the image instead of the virtual size.
    Most drivers will convert that image to raw after downloading for
    resizing it to the requested volume size afterwards.
    
    If the virtual size of the image is bigger than the requested one, the
    resulting volume might end up being unusable after the resize even
    though the creation went good.
    
    This patch will make the volume creation fail if the virtual size of
    the image exceeds the one of the requested volume.
    
    Closes-Bug: #1235358
    Change-Id: I254cd9e3acf5d9eb7eb913b37d27a14e97568dec

commit 20d177db3747610d931666a7261d6fd92e91c5de
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Mon Nov 11 11:28:18 2013 -0800

    Update URL for global HACKING document and remove duplicate section
    
    * Related to I579e7c889f3addc2cd40bce0c584bbc70bf435e2
    
    * Remove section on locals since its already in global hacking doc
      (http://git.openstack.org/cgit/openstack-dev/hacking/tree/doc/source/index.rst#n154)
    
    Change-Id: I5acb06dfde6eb7f579d8d52bc31fafbdab8c726d

commit 56e5805203a14acad78dc806247b5f0f4a22c9f8
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Nov 5 02:22:30 2013 +0000

    Retrieve volume image metadata using single query
    
    The image metadata REST API contributions are making an individual db
    call for each of the available volumes. When the number of volumes is
    large the volume details call can take several minutes.
    
    This patch changes the image metadata API contributions to take
    advantage of the new db query to retrieve metadata in bulk.
    
    Change-Id: I9a35438c1f38ea8a3d8f5b687ae58ba1f3f78121
    Partial-Bug: #1197612

commit bb2daca2864a5607635a3aa37f3874fdda22797b
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Nov 5 02:19:02 2013 +0000

    Add call to retrieve image metadata for volumes in bulk
    
    When using the GET volume details REST API call, the image metadata API
    contribution is making an individual db call for each of the available
    volumes. When the number of volumes is large the details call can take
    several minutes.
    
    This patch adds a call to the volume.API to retrieve image metadata in
    bulk, very similar to the one used to retrieve individual volume image
    metadata.
    
    Change-Id: Ic3aa721016704c72b7564cc5ceff71676806a24a
    Partial-Bug: #1197612

commit 5fc5ba9ccbb5786bc2e4d11e47c0b92f1cf56a42
Author: zhaoqin <chaochin@gmail.com>
Date:   Sat Nov 9 02:27:49 2013 +0800

    Do not remove volume silently if GPFS is unmounted
    
    When GPFS is not mounted, delete_volume() will complete successfully, so that
    volume record is removed by cinder but volume file still resides on GPFS. This
    change will prevent cinder to remove volume when GPFS is not mounted.
    
    Change-Id: Ic3bf265e553f22c8b6a6e3568da04af88fab3322
    Closes-Bug: #1249411

commit 5ec46e1810d1a0af03e5517a00090e9a30909cae
Author: zhaoqin <chaochin@gmail.com>
Date:   Sat Nov 9 01:45:02 2013 +0800

    Report zero capacity if GPFS is unmounted
    
    _get_available_capacity() calls df command to gather the capacity of GPFS
    filesystem. If GPFS is unmounted, df command will return the capacity of
    root file system. This change will let get_volume_stats() to report zero
    capacity, so that Cinder can schedule the volume request to another volume
    service After GPFS is mounted again, the correct capacity will be reported.
    
    Change-Id: I4c229d78e7d659604a23a50e6ab46060642b4088
    Closes-Bug: #1246779

commit f71fde6470299a31ff461742f57a7c4ed740df38
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Wed Nov 6 13:52:50 2013 -0800

    Nexenta NFS driver refactoring
    
    Refactor NFS driver, redefined volume_backend_name attribute
    inherited from RemoteFsDriver.
    
    Change-Id: I607277053c1233c688dbfaf0c5e150f9511b83af

commit 539eaaab89eea42f3f92a4ce069183c7730034af
Author: LiuSheng <liusheng@huawei.com>
Date:   Thu Nov 7 09:27:05 2013 +0800

    RequestContext initialization failed in cinder.
    
    RequestContext initialization failed in cinder because of the following
    error:
    "TypeError: 'in <string>' requires string as left operand, not NoneType"
    
    It must traverses in tuple not in string when find the "compute"
    service_catalog.
    
    Change-Id: I46f4bbd0ffb9d1db8bdcb0254ca95551fea08baf
    Closes-Bug: #1248434

commit e7319bcebdc225a4b7f784acebbf2cd00f3a3e3b
Author: keystone <mikhail.khodos@nexenta.com>
Date:   Mon Oct 28 12:29:24 2013 -0700

    Nexenta: Remove snapshot after volume-clone deletion.
    
    Detect if volume was created via cloning and remove a snapshot from the
    appliance if so. Return 'provider_location' to update the volume DB record
    after creating a volume via cloning.
    
    Closes-Bug: #1246079
    Change-Id: I6c946d34871119600d7197614f5be22fa926e5dc

commit 2f62736e47367404ac56525689412d123d69c283
Author: Chang Bo Guo <guochbo@cn.ibm.com>
Date:   Wed Nov 6 04:19:37 2013 -0800

    Don't use deprecated module commands
    
    The commands module was deprecated since version 2.6 and it has been
    removed in Python 3. Use the subprocess module instead.
    See http://docs.python.org/2/library/commands#module-commands
    
    Closes-Bug: #1248216
    Change-Id: I4091179c6b312ae8534b30adc518eff67d68320a

commit 6a3e0fb136856411680c72e6c1e97d00dee6081a
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Tue Sep 10 17:59:15 2013 +0400

    Remove dup of LVMISCSIDriver in LVMISERDriver
    
    LVMISERDriver is almost copy of LVMISCSIDriver.
    
    Change-Id: I27f03ba19908184e96d05e7f17e581d906fc119a

commit f66de80e38bcfbc29228ea19ffc96fbf34aad0ba
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Fri Sep 6 12:04:20 2013 +0400

    Remove duplication of ISCSIDriver in ISERDriver
    
    ISERDriver is almost copy of ISCSIDriver.
    
    Change-Id: I22394c7a3b26b140b19f76e052c98d11ec59145c

commit 76497ce9607df98e9e10fb1de1b6e607432f731b
Author: zhangyanzi <zhangyanzi@huawei.com>
Date:   Sat Oct 26 09:39:58 2013 +0800

    Support volume_readonly_update using XML format
    
    Almost all API support JSON and XML format together,
    But this API does not support xml format.
    In the request of xml format,
    the type of parameter "readonly" in the body is string.
    In the request of JSON format,
    the type of parameter "readonly" in the body is bool.
    But the code only support bool, not support string.
    This branch is to solve this problem.
    
    Closes-bug #1244848
    
    Change-Id: I7f2b09a0063df9daad3fdd09789f8e19c43b0aa3

commit 54b117d26e3e61e639c334e2e1c47fcd481745ab
Merge: 0f2a0ea cb1d1e4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Nov 3 07:28:44 2013 +0000

    Merge "Examine if GPFS is mounted before writing data."

commit 0f2a0ea76c150d85b3dedeae794571c7e24a62ff
Merge: 052e371 eb0f2e4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 1 08:56:36 2013 +0000

    Merge "Fix typo in test_check_ssh_injection_on error test"

commit 052e371285d54c3d32ecdfed328ac2841b95a83a
Merge: 6c5bb78 d281149
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 1 05:51:59 2013 +0000

    Merge "Remove unused db calls to fetch original metadata"

commit 6c5bb782dae24fba14f18b492cf0e24e6f95fc38
Merge: 1466099 930f4b3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 31 19:41:10 2013 +0000

    Merge "Remove lvm-thin pool_size config option"

commit eb0f2e4dd538a79184efbb23d7e404147dfe877b
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Thu Oct 31 14:05:16 2013 -0500

    Fix typo in test_check_ssh_injection_on error test
    
    The test case currently has shh instead of ssh.
    This commit fixes the typo.
    
    Change-Id: I1e6f926b7d22f48ae56166077659ff3e3d9a1899

commit 14660991cb849c240acf41b377a7389b751cb6c7
Merge: 24818c0 1b3e435
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 31 19:02:29 2013 +0000

    Merge "Sync log from oslo"

commit 24818c0fefa10f487c5cebbbdb4cb91b455250a1
Merge: cf55404 2b49b36
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 31 19:02:10 2013 +0000

    Merge "Add tests for LVM -cow clearing"

commit cf55404bd02ab31129c6f9e61602c38433eb0ade
Merge: 300ce61 338b282
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 31 19:01:51 2013 +0000

    Merge "replace u\2013 char with dash"

commit 930f4b393af312b39b56ee00a5f5282010f4156b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Oct 31 10:14:57 2013 -0600

    Remove lvm-thin pool_size config option
    
    The pool_size config option when using thin LVM
    is never actually checked/honored.  It's also unlikely
    that users will want to do something other than use the
    entire VG for their thin pool.
    
    Rather than have the unused option going forward let's
    remove it from the config and just go with the default
    behavior of utilizing the entire Cinder VG.
    
    For folks that would like to only use a portion of the
    VG for some reason, they can do an lvcreate pool on their
    own (just like we have them do for the VG itself) and get
    the same flexibility that way.
    
    This is done simply by:
    lvcreate -T -L ${size} ${vg-name}/${vg_name}-pool
    
    DocImpact
    
    Change-Id: I3ef2cde433b8dd775b1873a0d6df165dd1945d8c

commit cb1d1e4241c6ecb99797a46053c43b2e4b3b52e7
Author: Qin Zhao <chaochin@gmail.com>
Date:   Thu Oct 31 00:37:43 2013 +0800

    Examine if GPFS is mounted before writing data.
    
    If GPFS is not mounted, throw an exception and log the error message. That will
    prevent create_volume(), copy_image_to_volume() or _clone_image() to create
    file on local disk, which can not be removed by the driver code itself.
    
    Change-Id: If5d4c7a88e82362d2a87068202926b1ca82d9dff
    Closes-Bug: #1242511

commit 300ce61120ce179d1d0e4ffe8aa0bd4ceaddba6b
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Oct 31 06:13:45 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I51851182eaf19bd096d938e8e04fd56433b7280a

commit d281149ea0f860c7c862f7897710d2e1fcb681e7
Author: Aswad Rangnekar <aswad.rangnekar@nttdata.com>
Date:   Wed Oct 30 05:45:35 2013 -0700

    Remove unused db calls to fetch original metadata
    
    Remove unnecessary db calls made to fetch
    original metadata when delete flag is set
    to True.
    
    Closes-Bug: #1246291
    
    Change-Id: If7483b8b21f71efa5e7c211b031170bc03eb6b9b

commit 338b28228366b9652750957e7eb7153984103c08
Author: Sean Roberts <seanrob@yahoo-inc.com>
Date:   Wed Oct 30 20:31:51 2013 -0700

    replace u\2013 char with dash
    
    unicode char causes problems with maven build.
    
    backport:none
    
    closes-bug: #1246569
    
    Change-Id: I3aa5c2debaed03acd2c2fb8d4e7c30738d35f4f3

commit 1b3e4358715bad3c2309ac40785bd7c3b371284f
Author: Chang Bo Guo <guochbo@cn.ibm.com>
Date:   Wed Oct 30 19:21:22 2013 -0700

    Sync log from oslo
    
    5fef5a8105 allow keeping of existing loggers with fileConfig
    fb8075a19d Add amqp=WARN,qpid=WARN to default_log_levels
    4654a5d247 Don't override default value for eventlet.wsgi.server logging
    41ddd7a975 _get_log_file_path explictly return, when logfile/logdire unset
    e12e6b45f8 Make openstack.common.log Python 3 compatible
    572cfecb4d Make Messages unicode before hitting logging
    3243cdfbe9 python3: handle module moves in log
    
    DocImpact
    
    Change-Id: I2e565fd65a00f1c6dea830a09487de9f03cb5279

commit 7e9fe3452350f0d63d9325a8af9314e876a206e0
Merge: 651ca2f 6e3955e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 31 01:19:35 2013 +0000

    Merge "NetApp unit test fail fix for http_proxy"

commit 651ca2fe8f772331a067fdf6b0b4900e8bde40ad
Merge: 1aac479 2737c76
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 31 01:19:15 2013 +0000

    Merge "Allow spaces in quoted SSH command arguments"

commit 1aac47906095d7cb8defbd1bb29e595964561093
Merge: ab3271a a497b4a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 30 23:26:09 2013 +0000

    Merge "remove rundundant lockfile requirement"

commit ab3271a2f5b2b57107fe897422070383eddc5a29
Merge: 152e33d d384d28
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 30 16:24:14 2013 +0000

    Merge "Use pipe between ceph backup diff export/import"

commit 152e33d985099ab67c8d424e32227dcd2aef33bc
Merge: f709c9d a29a1d8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 30 15:57:19 2013 +0000

    Merge "Fixes typo in method name _notify_voloume_type_error"

commit 2b49b3670aa2dbc55f777f875dbdb80788ca696e
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Oct 29 16:39:45 2013 -0400

    Add tests for LVM -cow clearing
    
    Ensure that volume_clear for Thick LVM snapshot deletion
    references the -cow device, and that it uses the LV instead
    of the -cow device for ThinLVM.
    
    These tests were written for a change to stable/grizzly --
    but are applicable for general use here as well.
    
    Related-Bug: #1245529
    Change-Id: I380ad7832d558d9aa73a701cbf3acc35229e70ab

commit f709c9d3db7578afd2c05f723f9bd4160e1c80d8
Author: Chang Bo Guo <guochbo@cn.ibm.com>
Date:   Tue Oct 29 02:03:50 2013 -0700

    clean up numeric expressions in test
    
    Replace numeric expressions with constants in tests
    to make code more readable.
    
    Change-Id: I42469cdbe3cafd36f8d9855c8284f885ffa7f465

commit a29a1d8802d2fde8d09bed08e0595b4c0f85cf7b
Author: Aswad Rangnekar <aswad.rangnekar@nttdata.com>
Date:   Wed Oct 30 02:37:47 2013 -0700

    Fixes typo in method name _notify_voloume_type_error
    
    Closes-Bug: #1246228
    
    Change-Id: I7b408f2c4085ba5af5fc4b539000e5675bdc5a76

commit 2737c76cb2fb436f117a4f635aebca7a01691d88
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Oct 29 18:44:12 2013 +0000

    Allow spaces in quoted SSH command arguments
    
    The check_ssh_injection() method was rejecting arguments with spaces
    even when they were quoted, this was causing problems with some volume
    driver commands such as commands for a storage pool with spaces in the
    name.
    
    Closes-Bug: #1244415
    Change-Id: Ie4b809e1b39fdb752cf634e6d3c0a3924d8ac52b

commit d384d28e1c2c7c3ce0bd676fb1c2bdb8a2d98a03
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Fri Oct 25 10:57:55 2013 -0700

    Use pipe between ceph backup diff export/import
    
    We now use a piped transfer between the rbd export-diff
    and import-diff for incremental backups/restores as
    opposed to holding the entire diff in memory.
    
    Change-Id: I33476d9b3934781413af5cd2867a11d825a5d78e
    Fixes: bug 1244464

commit 75bcf70ed4698f0ffba4c6a7236a1e30b1214b57
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Oct 29 06:13:38 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Icd1f44454695217295422cfc18007296ec77521f

commit 8f641c0bd739dc3e0451a4f37a88c479bab037dc
Merge: 11eeada c47bb5b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 29 03:36:56 2013 +0000

    Merge "Apply six for metaclass"

commit 11eeada3f0ed224bd708a7bef8b25a6cd5be1617
Merge: b5e98af 25a279b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 29 03:36:54 2013 +0000

    Merge "Add cinder.db.migration.db_initial_version()"

commit b5e98afc95c7c29b6138982e89c3198a61d43f3a
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Oct 28 16:50:48 2013 -0400

    Add missing space to num_iser_scan_tries text
    
    Should read "...rescan iSER target to" rather than
    "targetto".
    
    Change-Id: I785f67f3a029f06c0184762ddf795202ae198397

commit 25a279b5ac01628b8002c7fe9f55cd546adc1654
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Oct 28 10:11:24 2013 -0400

    Add cinder.db.migration.db_initial_version()
    
    Updates Cinder to use a new function called db_initial_version()
    instead of the INIT_VERSION constant. This allows us to
    move the top level INIT_VERSION constant into the
    sqlalchemy migration.py implementation where it belongs.
    
    Change-Id: I10dacdebb50d3121e3bfd094e40138807233aa64

commit a497b4a214b89cb2b387f227c208cfdae62ad6b1
Author: Pádraig Brady <pbrady@redhat.com>
Date:   Mon Oct 28 11:17:42 2013 +0000

    remove rundundant lockfile requirement
    
    This requirement was removed from nova even before
    the cinder split.
    
    Change-Id: Ie85eeee9aef81a80d1279f7d21566ec33e20159f

commit 64c6eea42a3df46dd7f3d171f8f5d8de06e4692c
Merge: 5907700 4b386ad
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Oct 27 12:22:33 2013 +0000

    Merge "Nexenta iSCSI driver: Refactor create_cloned_volume"

commit 59077007561bde44a4351b2f248bb7f18789f0a9
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Oct 26 06:13:39 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ie2ea233527914abbbd069c56cc550fc835f1abb8

commit ffad0387caf4547df5d62f0af020a8e3f9ab5c86
Merge: 613a647 d9173c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 25 18:57:10 2013 +0000

    Merge "Revert "Brick connector fix for NFS drivers""

commit 613a64772e410b31fa20da2609f151cb2068f39e
Merge: 703feee e4bde7a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 25 17:09:24 2013 +0000

    Merge "NetApp fix for 7mode iscsi volume stats"

commit 703feee89479d9e31de2b36bdeaa44614cfb8398
Merge: 1248666 1d50393
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 25 17:08:10 2013 +0000

    Merge "NetApp fix ssc volume filtering inconsistency"

commit d9173c0c9d8db1618da5afc612baf23b3a182333
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Oct 24 23:35:16 2013 +0000

    Revert "Brick connector fix for NFS drivers"
    
    This reverts commit b6b9df2940ac07f715f759f4c315b2cf088c2320
    
    Passing in driver=self in the base driver connector builder breaks all of the other drivers and isn't the *correct* driver to be passing in.
    
    Simply removing this fixes the functionality, however breaks your tests and I'm not sure of the impact on what you were attempting so I'm reverting.
    
    Change-Id: I0af85a2bc491cc0e23aa6af1f67c2dfed1c7081f

commit 12486664849bdc8980530658059d5a7f12c57091
Merge: 46dd428 951bbaa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 25 15:50:24 2013 +0000

    Merge "Update my mailmap"

commit 46dd428a125c8cc53eee0a34deb4830c8520a619
Merge: 88ad0e5 2238518
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Oct 25 15:44:38 2013 +0000

    Merge "Updated from global requirements"

commit 88ad0e53ebd82344a5e591d5ae694fd5757cb378
Merge: 76ffb76 bfb6601
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 25 15:40:41 2013 +0000

    Merge "GlusterFS: set correct filename when cloning volume"

commit 951bbaa03cf97eb019fac30b3c383ae32f450888
Author: Zhenguo Niu <Niu.ZGlinux@gmail.com>
Date:   Fri Oct 25 16:26:26 2013 +0800

    Update my mailmap
    
    Using new email address.
    
    Change-Id: I6dc5e7d96a166b890e6e1878531df1ea160d4b9d

commit bfb66019edd197141ea1462ba78dd27a2ed0e40d
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Oct 24 16:18:54 2013 -0400

    GlusterFS: set correct filename when cloning volume
    
    When cloning a volume, the volume[name] field was populated
    with incorrect data, resulting in an unexpected filename containing
    the volume data.  This results in failures of later operations on
    that cloned volume.
    
    Change-Id: I067ed44cebdc8e91e9ded326953fd0c99d003f05
    Closes-Bug: #1244238

commit 76ffb766351e7496600f0c0c3a7af4951e31b0eb
Merge: 26c9567 587fd90
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 24 20:03:49 2013 +0000

    Merge "Downgrade target create failure mesg to warning"

commit 26c9567db6a8da8182ee44c05fb2c42a53fcf0b9
Merge: ea51db5 4adf357
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 24 20:03:41 2013 +0000

    Merge "Handle NotFound exceptions in API"

commit 4adf35778b3aae3db99a90a1bbb94e668ec7963d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Oct 23 20:08:30 2013 +0000

    Handle NotFound exceptions in API
    
    There were a number of calls in the API that
    weren't catching NotFound exceptions.  The result is
    unhandled exception traces and errors in the logs on good
    runs in tempest.
    
    Basicly any negative test that requests a non-existent element
    would result in an unhandled exception.  This patch adds try/except
    around the volume_api.getxxx calls in cinder/api/... methods to
    clean this up.
    
    Closes-bug: #1243485
    
    Change-Id: I902acc7f4fdbc20fdb1a68697679417694c5533e

commit ea51db596906c663e0c04b546b3ca79873dd74f0
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Thu Oct 24 15:17:47 2013 +0000

    Unit test fails in pbuilder environment
    
    When running tests inside a pbuilder environment we don't
    have /dev/disk/by-path directory and so the test_host_driver
    test fails. Fix test by overriding the isdir method to
    return True and pretend that the directory is there.
    
    Change-Id: Ifd39d796b7f250b1ec45227a4262ebb33d5656bf

commit 2238518e01b57779a94c14d1862bf194bb27c930
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Oct 24 13:15:31 2013 +0000

    Updated from global requirements
    
    Change-Id: I24d49ff79f5ed7364a47278179dcadbaf519aed1

commit 91d388b384bff212e850a7396e8f4f7430c0cd6d
Merge: 554619d e0f8555
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 24 08:15:34 2013 +0000

    Merge "Rename "rtstool" to "cinder-rtstool", add dep"

commit 554619dba4a300b46a5fc26d7871f521149587d6
Merge: 1766a5a b6b9df2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 24 07:00:19 2013 +0000

    Merge "Brick connector fix for NFS drivers"

commit 1766a5acc5c948288b4cd81c62d0c1507c55f727
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Oct 23 18:04:51 2013 -0600

    Check if dir exists before calling listdir
    
    Changes along the way to how we clean up and detach after
    copying an image to a volume exposed a problem in the cleanup
    of the brick/initiator routines.
    
    The clean up in the initiator detach was doing a blind listdir
    of /dev/disk/by-path, however due to detach and cleanup being
    called upon completion of the image download to the volume if
    there are no other devices mapped in this directory the directory
    is removed.
    
    The result was that even though the create and copy of the image
    was succesful, the HostDriver code called os.lisdir on a directory
    that doesn't exist any longer and raises an unhandled exception that
    cause the taskflow mechanism to mark the volume as failed.
    
    Change-Id: I488755c1a49a77f42efbb58a7a4eb6f4f084df07
    Closes-bug: #1243980

commit c037605555b0635755e6c90cc77c0df893052015
Merge: 727175b 4dd3909
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 23 22:33:01 2013 +0000

    Merge "VMware: Registering vmdk opts in global space"

commit e0f8555ea8661cb34d4d762f63c499add888ef6e
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Oct 21 14:55:43 2013 -0400

    Rename "rtstool" to "cinder-rtstool", add dep
    
    With rtstool merged into Cinder, it should use the
    "cinder-" prefix.
    
    Add to setup.cfg scripts section for installation.
    
    Additionally, add the rtslib-fb>=2.1.39 dependency
    to Cinder's runtime requirements.
    
    Implements blueprint: lio-rtslib
    
    Change-Id: I715db09cb86145c6769c345f59ecda4d18b5e659

commit 587fd9021982e3b1fb0c5765df6bad2723701031
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Oct 23 20:00:35 2013 +0000

    Downgrade target create failure mesg to warning
    
    Since this will occur more often than we would like and
    almost always recovers, change the log level to warning
    instead of error.
    
    This is to comply with the desire of the QA team to eradicate
    error messages from succesful tempest runs.
    
    Change-Id: If1a841bbeb9a36ff7e103a0e9aff67fda66a7f3b
    Closes-Bug: #1243840

commit 4b386ad5cf1ddbc6c8c2c541a96d74311648a607
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Sat Sep 7 03:07:11 2013 +0400

    Nexenta iSCSI driver: Refactor create_cloned_volume
    
    Optimize volume cloning of Nexenta iSCSI driver, current implementation
    with zfs send recv may take long time, because it requires data
    transferring.
    
    Change-Id: Iaa2eea608e09d0a4ac155b74f964b153de561f4c

commit 727175b33955096ff5d023e26c78770f63ac2696
Merge: 07b5085 77b5a3d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 23 06:45:02 2013 +0000

    Merge "Add openstack/common/crypto from OSLO"

commit 07b50853eeb43a351136e9559f36755478b71aff
Merge: 5168751 2f197f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 23 06:08:02 2013 +0000

    Merge "Revert "remove cinder-rtstool because of rtslib dep""

commit 5168751ffdc52fd694bee7327b8be8d0fddd3cd7
Merge: c419fe9 ac15e1d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 23 06:06:16 2013 +0000

    Merge "Remove duplication of brick.iscsi in brick.iser"

commit c419fe97aadc0c63832a1cf8be690a3df57a6557
Merge: 24374e9 d4b7d5f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 23 06:06:07 2013 +0000

    Merge "Nexenta drivers ignore "does not exist" exception"

commit 4dd390987419950149e7073b35e43668e661501a
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Mon Oct 21 02:18:22 2013 -0700

    VMware: Registering vmdk opts in global space
    
    Registering vmdk_opts in the patch. This will make sure the documentation
    tool will auto generates a table for the driver config params.
    
    Closes-Bug: #1242547
    
    Change-Id: Ic12126ad5283e37113e9f75e190fa92a9277ca7f

commit 24374e90b9ca5b11ec28b575d59d331b7f63d071
Merge: 96db4ee a9852d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 23 05:11:16 2013 +0000

    Merge "NetApp fix mirrored stats"

commit 96db4ee4edda0c510d02751abd52be4cec224981
Merge: f4a0273 592d860
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 23 01:36:28 2013 +0000

    Merge "NetApp fix for compression and dedup stats"

commit 1cd362630655798e5ff4c058b3f44862ae61c801
Author: Navneet Singh <singn@netapp.com>
Date:   Sun Oct 20 18:30:36 2013 +0530

    Brick connector revised fix for NFS drivers
    
    This change fixes the error that comes
    while getting brick connector and attaching volumes
    in case of NFS drivers in cinder. The attribute for
    mount point base was not passed to attach_volume method
    as the connector initialization logic is common for all
    types of protocols. It is fixed by populating
    the required parameter in the RemoteFsConnector
    by extracting it from connection properties. The infrastructure
    for fixing this situation for remote fs drivers is implemented
    in this fix. The drivers need to override the method
    _get_mount_point_base in their implementation. NFS driver
    implements it. GlusterFs implementation of the method to follow
    in a separate patch. Hence marking it partial fix.
    
    Change-Id: Id61a437fca1870529fa8b85f7fc2f73eae665294
    Partial-Bug: #1238085

commit d4b7d5fd427d3c46bb61a45edd2623305e23b90b
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Wed Oct 16 11:00:16 2013 -0700

    Nexenta drivers ignore "does not exist" exception
    
    Ignore "does not exist" exception in NFS and iSCSI driver,
    delete_volume and delete_snapshot methods.
    This exceptions means that the volume or the snapshot not exists in the
    backend, so we can avoid "delete" errors, when the resource was already
    deleted.
    
    Closes-Bug: 1240650
    Change-Id: I3b2684097dcb95ba50a67c94a353dc3f17374777

commit f4a027312b9956673927eb7f907706e77d1fb986
Merge: bec02a9 1212f66
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 22 20:47:44 2013 +0000

    Merge "Let GPFS driver to rename snapshot with root permission"

commit bec02a91546bcd8b156f6497d7fd6589370733fd
Merge: 8739302 5d04c6d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 22 20:44:56 2013 +0000

    Merge "Drop auth_token configs for api-paste.ini."

commit 8739302d3eace4a00ed1d94882b068001aaae354
Merge: d6a0e8e b104d1c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 22 20:35:27 2013 +0000

    Merge "Fix volume transfer href issue"

commit d6a0e8e1f33f295ca0321d9dd5c5d731fdd7f1e4
Merge: a0a6257 65b063a
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Oct 22 17:25:46 2013 +0000

    Merge "Updated from global requirements"

commit 77b5a3dc525995e1708e3fb6880b2b4a7c480582
Author: Elena Ezhova <eezhova@mirantis.com>
Date:   Wed Oct 16 15:55:21 2013 +0400

    Add openstack/common/crypto from OSLO
    
    Add cinder/openstack/common/crypto/__init__.py and
    cinder/openstack/common/crypto/utils.py.
    
    They are needed in cinder/openstack/common/rpc/securemessage,
    which is updated in the following commits.
    
    Oslo version: 4987d09a28c986bdca0921a1d0f062ac9328904f
    
    Change-Id: I15e7ce3b84831fd247ea155a3b15829348087830

commit a0a6257f32e9799398273e1f838ae4e11690dcd2
Merge: f341edd d80657c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 22 12:03:53 2013 +0000

    Merge "Provide gettext _ in missing locations"

commit b104d1c0c70898b59b6668970e05cebadecd064a
Author: liudong <liudong78@huawei.com>
Date:   Tue Oct 22 18:37:50 2013 +0800

    Fix volume transfer href issue
    
    The volume transfer collection in url defined as "os-volume-tranfer",
    but I got another define "tranfers" in href url. They are different.
    So it should be modify.
    
    Change-Id: I69a43012f2bb70ce5fc7b0331d2759527a261170
    closes-bug: #1242980

commit ac15e1df04bef7aed8c11f89ceb0d051582f7938
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Tue Sep 3 17:44:50 2013 +0400

    Remove duplication of brick.iscsi in brick.iser
    
    TargetAdmin and TgtAdm in iser is mostly a copy of TargetAdmin and
    TgtAdm in iscsi.
    
    Change-Id: I8d89a35c478485370b41f4dfd376de07b9fc9314

commit f341edde97bd311c24e9b796319a0f662e50f3d3
Merge: 717f8e7 20474c8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 22 04:49:55 2013 +0000

    Merge "Add extend_volume for Huawei drivers"

commit 717f8e7cf0c2b47e54abd895ca6363c114532b41
Merge: 663b0ef e974a61
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Oct 22 03:03:16 2013 +0000

    Merge "Imported Translations from Transifex"

commit 663b0ef75000597249f32d4a1e97db14341ff88c
Merge: 6d59c89 9f9ea10
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 22 03:01:14 2013 +0000

    Merge "Uses oslo.imageutils"

commit 6d59c898ad71cb29075fd625b4f686b9c3b4208d
Merge: caba8c0 ca81de6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 22 02:48:44 2013 +0000

    Merge "Add auth_token settings to cinder.conf.sample."

commit 5d04c6d1df953c5beefe751ff8e9c332e25b2661
Author: Dan Prince <dprince@redhat.com>
Date:   Sun Oct 20 11:47:16 2013 -0400

    Drop auth_token configs for api-paste.ini.
    
    We now prefer to use cinder.conf to configure keystoneclients
    auth_token configs.
    
    Also, Devstack has now been update to allow this:
    
    https://review.openstack.org/#/c/52259/
    
    Related-Bug #1240753
    
    Change-Id: I2a4b300af37eddf5010b97ca796f0552941642a8

commit 6e3955e4cf2eaacd11adbc8df68e9d5d5e081f8f
Author: Navneet Singh <singn@netapp.com>
Date:   Tue Oct 22 01:41:11 2013 +0530

    NetApp unit test fail fix for http_proxy
    
    The environment having http_proxy settings caused
    the unit tests to fail with 404 error. This fix
    handles both situations with proxy or without
    proxy settings.
    
    Change-Id: I791a45adff654305db9f1fb6f039e91b11ba88d8
    Closes-Bug:#1223145

commit 2f197f33edb5eb323da8885096b4fea2c15e3ec3
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Oct 10 16:13:44 2013 -0400

    Revert "remove cinder-rtstool because of rtslib dep"
    
    This reverts commit b66c3361be2095186e19b0d44e49a8b2c48f7235.
    
    Dependencies of this code (rtslib-fb) are now Apache-licensed,
    which resolves the previous issue with this code being in-tree.
    
    This patch is a direct revert, other patches will follow to
    line up changes that have occurred between b66c336 and now.
    
    Conflicts:
    	setup.py
    
    Blueprint: lio-rtslib
    
    Change-Id: I14786bddf419d98ff7c468b185462f5387dbbba1

commit caba8c08609a4b12b71ce9941eb0ed90153ff665
Merge: 1217b46 5bea9a5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 21 16:42:42 2013 +0000

    Merge "Update openstack/common/notifier"

commit 1217b463620ba9b09bac5fe3845357262db46e2f
Merge: 9b599d0 e5aa6e7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 21 16:12:24 2013 +0000

    Merge "Fix generate conf script can't handle multistropt"

commit 1212f66b188bbe40ac7219908eb47af26ebf2edc
Author: chaochin <chaochin@zhaoqin-RHEL-GPFS1.(none)>
Date:   Mon Oct 21 05:36:32 2013 -0500

    Let GPFS driver to rename snapshot with root permission
    
    Deleting GPFS volume snapshot operation fails, because cinder
    volume is not running with root permission.
    
    Change-Id: Id00357030da171fddbc6abf82603ceabe4db73ff
    Closes-Bug: #1242549

commit e974a616a82513f29d4412f415e79428f47cfad8
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Oct 21 06:14:00 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Idf752d935353317e59893a3885d32545130968a4

commit e4bde7adda4e885fe847e0bacc4d3fc84547e723
Author: Navneet Singh <singn@netapp.com>
Date:   Mon Oct 21 04:04:32 2013 +0530

    NetApp fix for 7mode iscsi volume stats
    
    This fixes the bug for reporting correct
    capacity information in case of 7mode
    iscsi drivers.
    
    Change-Id: Ie41009eca866830173809211d58470025be847e3
    Closes-Bug: #1238967

commit b6b9df2940ac07f715f759f4c315b2cf088c2320
Author: Navneet Singh <singn@netapp.com>
Date:   Sun Oct 20 18:30:36 2013 +0530

    Brick connector fix for NFS drivers
    
    This change fixes the error that comes
    while getting brick connector and attaching volumes
    in case of NFS drivers in cinder. The attribute for
    mount point base was not passed to attach_volume method
    as the connector initialization logic is common for all
    types of protocols. It is fixed by populating
    the required parameter in the RemoteFsConnector
    for NFS drivers.
    
    Change-Id: I8601326b318f6f8c53a03610f1b4f2bfd14070ff
    Closes-Bug: #1238085

commit 1d503937e841da27f5e3441775b2d208e44f5e75
Author: Navneet Singh <singn@netapp.com>
Date:   Sun Oct 20 06:25:55 2013 +0530

    NetApp fix ssc volume filtering inconsistency
    
    This fixes the situation when the actual netapp
    volume data structure becomes inconsistent
    because of operating on the actual object
    than the copy of it. It also introduces some checks
    before calculating volume stats.
    
    Change-Id: I626f9ca9aa8c7cc41ba4aa6058f14cc040f7301f
    Closes-Bug:#1243081

commit 65b063aa2a543c5e5281468220eb58f9dad46702
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Oct 19 23:58:37 2013 +0000

    Updated from global requirements
    
    Change-Id: Ic96db4b4b462badc2fcbee62b40ebf3997ed6adf

commit a9852d6e727316d9bc07caee3096c67dc98dbb7a
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Oct 19 23:34:15 2013 +0530

    NetApp fix mirrored stats
    
    This fixes the incorrect reporting of mirrorred
    statistics for NetApp iscsi and nfs backend.
    The uninitialized and broken snapmirror is
    not reported and only snapmirrored state
    is reported back.
    
    Closes-Bug:#1242808
    
    Change-Id: I4b9f788e1f99b78d12db23bd92b6a277d5f64cb3

commit 592d860481e04312448d9ae0338066bd475fad7e
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Oct 19 18:51:01 2013 +0530

    NetApp fix for compression and dedup stats
    
    This change fixes the incorrect stats reported
    for compression and deduplication by NetApp
    iscsi and nfs backend.
    
    Change-Id: I3e97d953b3ea2231c3eb1f950b0ca6705b3b2286
    Closes-Bug:#1236839

commit e5aa6e72734738e81d1b8be51ae3bb39db50f8a3
Author: Xingchao Yu <xingchao@unitedstack.com>
Date:   Fri Oct 18 13:50:18 2013 +0800

    Fix generate conf script can't handle multistropt
    
    In case MultiStrOpt option's value is empty list, current extract_opts.py
    logic will ignore it. This patch aims to update func _print_opt:
    
    add the multistropt's option_name in conf even its value is empty list.
    
    This bug also affects https://bugs.launchpad.net/cinder/+bug/1240783
    
    Closes-bug: #1241348
    
    Change-Id: Ica1da0cd20c97a587964cb0059836d609a440145

commit ca81de658394c545c784c40dd7369b75bc6e3a2d
Author: Dan Prince <dprince@redhat.com>
Date:   Fri Oct 18 09:23:38 2013 -0400

    Add auth_token settings to cinder.conf.sample.
    
    Updates our example config file so that it includes configuration
    settings for the auth_token middleware.
    
    A step towards using cinder.conf instead of the api-paste.ini config file
    for authtoken configuration.
    
    Once https://review.openstack.org/#/c/52259/ lands I'll push another
    review which removes the settings from api-paste.ini (which takes priority).
    
    Related-Bug #1240753
    
    Change-Id: I6636d33ee522757145ac97fc354324a8b9379700

commit 20474c8583ed2bc58bc11304c6bbcc7538195a21
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Fri Oct 18 16:32:56 2013 +0800

    Add extend_volume for Huawei drivers
    
    This patch adds extend_volume function for Huawei drivers.
    
    Huawei T driver needs to create a slave LUN for the extended LUN.
    And accordingly it needs to delete all these slave LUNs before deleting
    the extended LUN.
    
    HVS driver just sends a rest command to finish extending volume.
    
    Change-Id: Iae17dba8c4d88ec09eb52b4a14bd17bc5a2c1ccc

commit 5bea9a554cd5764b0fe7ec661f1960412b3b6abf
Author: Elena Ezhova <eezhova@mirantis.com>
Date:   Thu Oct 17 13:04:20 2013 +0400

    Update openstack/common/notifier
    
    Oslo version: 5e765b2546dab9d04e4641d92296bfa3d3b17ebf
    
    Change-Id: I679a0f3a953cbe1904c3fd32bf33b5a656c2a938

commit 9b599d092ffa168a73ab7fa98ff20cb2cb48fe0b
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Oct 17 06:13:46 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I48307cde63b774a611c2675a1e9e67cbd518d17c

commit e2f969dd9cc8653b2207d2808c23244d3ad53970
Merge: 608a8dd d72c2bb
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Oct 17 03:43:31 2013 +0000

    Merge "Imported Translations from Transifex"

commit 608a8dd55300555fb1d17cdf53d08d331d7f5064
Merge: 8491cae 8aa8ebc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 17 03:39:55 2013 +0000

    Merge "Cinder extension to add used resources in absolute limits"

commit c47bb5b89e04403b46c224c1bda13d3d0e11eedd
Author: fujioka yuuichi <fujioka-yuuichi@zx.mxh.nes.nec.co.jp>
Date:   Thu Oct 17 09:53:30 2013 +0900

    Apply six for metaclass
    
    __metaclass__ cannot be used in python3.
    six be used in general for python 3 compatibility.
    
    Change-Id: I1d21c82163a1c00bbf4fbf3c9dd513f1c0591b00
    Closes-Bug: #1236648

commit 8491caeba195390ed2cd78fab0b22afc94f10c17
Merge: dda4b04 cf16029
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 22:42:31 2013 +0000

    Merge "Storwize: Fix iogrp availability check"

commit dda4b04950877724751e1d04200e2450837c53d7
Merge: 8f96857 62e96e1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 22:42:23 2013 +0000

    Merge "Nexenta NFS driver: caching for appliance volroot"

commit d80657c2ef1658e7383a12537e55b7e1a64fafac
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Oct 15 20:51:07 2013 -0600

    Provide gettext _ in missing locations
    
    A while back a change was merged that moved
    our shortcut for gettext out of __init__
    (change here: If4125d6bcbde63df95de129ac5c83b4a6d6f130a)
    
    This worked out fine for the most part but broke the sphinx doc
    builder for a number of files.  This patch just adds the proper
    import to each of these files to get the builder working correctly
    again.
    
    Change-Id: Ifed20d309566be456c9519294714ccb45de76e00
    Closes-Bug: #1209406

commit 62e96e1d2796eb09bc4dfb0fa1bf055f7315b7f6
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Fri Oct 11 00:21:44 2013 +0400

    Nexenta NFS driver: caching for appliance volroot
    
    Added caching for NexentaStor appliance 'volroot' value.
    
    Change-Id: I3803981cc8c9b6c47dc9fccc6b2414e21d9d6285

commit 8f96857881f1ae5f7c0cfc6b8aefd3e55b972671
Merge: 9a3dbc3 25d9de6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 16:36:40 2013 +0000

    Merge "Fix indentation errors in drivers"

commit 9a3dbc3d8844bbbd571646a7395b6b6b5b80c789
Merge: 1f34b96 7aa0c1d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 16:12:46 2013 +0000

    Merge "Fix Huawei HVS driver AttributeError"

commit 8aa8ebc0a0d0f459e9293f9ff5a5f8358fd01b9a
Author: Olivier Pilotte <opilotte@iweb.com>
Date:   Thu Oct 3 18:10:40 2013 -0400

    Cinder extension to add used resources in absolute limits
    
    * totalVolumesUsed
    * totalGigabytesUsed
    
    DocImpact
    Implements: blueprint cinder-used-resources-in-absolute-limits
    Change-Id: I525a61043ce2f906c424738ab361ee7396f072b5

commit 7aa0c1d9a4a02add6b00aeb764e9ba86a3c460ff
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Mon Oct 14 13:08:02 2013 +0800

    Fix Huawei HVS driver AttributeError
    
    This patch checks the iSCSI port info and raises an exception
    if it can not get the port info from the configuration.
    
    Closes-bug: #1237185
    Change-Id: I341ccbe77abd25421e5ee0b2d07ace3759fbccef

commit cf16029b69f50af1bc2e8627af5bc65ffac24992
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Oct 16 11:14:22 2013 +0300

    Storwize: Fix iogrp availability check
    
    Do not check if vdisk_count is greater than zero to determine iogrp
    availability. This is wrong, and leads to the driver not being able to
    use empty iogrps.
    
    Change-Id: Ia73189a11cfcc0641c1527293675361c4e78443f
    Closes-Bug: #1240395

commit 1f34b96c896527297b978a1307f91119e3048578
Merge: 15ea50f de43923
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 06:25:53 2013 +0000

    Merge "Don't zero out thin provisioned LV's on delete"

commit 15ea50fa9a83378405feae7f5214b87b63e1b80f
Merge: 461bb7c 40fd8f1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 06:21:32 2013 +0000

    Merge "Nexenta NFS volume driver folder auto sharing"

commit d72c2bbe2a3496fc16eccf68be4427211408d4e4
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Oct 16 06:13:33 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I79473cf2987822f655b674bc49ad60ebb840a87f

commit 9f9ea10db43b1f192adc0fa4d2c8c3bc3a790d70
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Tue Aug 13 11:32:00 2013 +0800

    Uses oslo.imageutils
    
    Commit 035668 had the QemuImgInfo class moved to Oslo.
    This class diverged from Nova and then missed some changes
    made in Nova since then. The two projects will be able to use
    identical classes by adapting imageutils.
    
    Change-Id: I6ed352c42e45d32de94066c82f83e7332d4a98ed

commit 461bb7cd85e81de71bacc030f73ff2f232a1cbfc
Merge: 12732ed b30402e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 03:55:50 2013 +0000

    Merge "Fix Huawei drivers to support other host OSs"

commit 12732edec64d2c11616016cf29ec85390e7b1479
Merge: 14acc40 ec442e4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 03:29:10 2013 +0000

    Merge "Fix lvm.extend_volume to pass Gig suffix"

commit 14acc409e0f5bfe7d73a9737226f6bc596adcf88
Merge: 645a84f 7e37cd8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 16 03:27:03 2013 +0000

    Merge "Initialize shares variables for RemoteFsDriver(s)"

commit de4392314f9b0def8fab65679ec5668aec98fbee
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Oct 15 19:39:22 2013 -0600

    Don't zero out thin provisioned LV's on delete
    
    Thin provisioned LV's don't need secure delete to protect
    from data leakage.  Also, zeroing these out kinda defeats
    the purpose of using thing provisioning.
    
    This patch add a check for the lvm type and if it's thin simply
    returns from the lvm.clear_volume() method.
    
    Change-Id: Ie6764209018152565295291efc6fbba553698ae6
    Closes-Bug: #1240299

commit ec442e41d2d243003a42ed60ae862e96142a5cde
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Oct 15 19:13:45 2013 -0600

    Fix lvm.extend_volume to pass Gig suffix
    
    The extend function in the lvm driver was not converting
    the cinder size value to Gigabytes before passing the call
    to the vg module.  The result was that we would attempt to
    extend a volume to "new size in Megabytes" which of course
    is less than the current size since we do a Gigabyte string
    conversion on create and everywhere else.
    
    This change makes sure we pass the integer change through
    the sizestr method to get the G suffix needed to work properly.
    
    Change-Id: I070962a3aa7038f612e19a93ccaa60cbc13008f6
    Closes-Bug: #1240287

commit 40fd8f186a580231e51d06219b5ee2c87a2bf76e
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Sat Sep 7 01:47:04 2013 +0400

    Nexenta NFS volume driver folder auto sharing
    
    1. Auto sharing for NFS enclosing folders, this helps to avoid errors if user
    forgot to share enclosing directory.
    
    2. Added version history to NexentaNfsDriver doc string.
    
    Change-Id: I9aa2a7b8760c687985aa11d85715188f1c1622f9

commit 645a84f990c90e28548cf35b4b5f242eb0e0c286
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Oct 15 13:57:48 2013 -0600

    FK lookup failures during migration
    
    There are a couple of cases where migrations have failed
    upgrading from Grizzly to Havana, this seems to be isolated
    to a couple of migrations so far and the error message is a
    failure to lookup/associate the volume-id FK dependency.
    
    It appears that this is caused by not setting the charset
    in the migration, so the result is that the initial db setup
    uses utf8 and the migrations are using the default latin1.
    
    This patch goes through all of the migrations in Havana that
    specify InnoDB and explicitly sets the charset to utf8 to match
    the volumes table (and the other original tables).
    
    Change-Id: I43b219ff5e4eea10a7391ad65ef68a80b7460370
    Closes-Bug: #1233861

commit 7e37cd80fe12eabaafba5c5c1c8f35413f193e37
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Oct 2 14:11:31 2013 -0400

    Initialize shares variables for RemoteFsDriver(s)
    
    self.shares and self._mounted_shares are used by various methods
    for RemoteFs-based drivers, but may not be instantiated early enough.
    
    Initialize them in __init__ to ensure they always exist.  (Also fixes
    pylint warnings.)
    
    Closes-Bug: #1239741
    Change-Id: I0ef884c28b82b7f694cf8a0fb4629c835da11c91

commit 25d9de61a46c0c39c85b014ab8e2490a31ddeb1a
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Oct 14 13:37:25 2013 -0400

    Fix indentation errors in drivers
    
    Just some pylint fixes.
    
    Change-Id: I1f851726a7c8285884121da097be574c447fa39c

commit 430eb757ae9a721ff3fe40104472cec2ca6e6993
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Oct 14 06:13:15 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Iea22697e85a260fea4893a45535ec44f8008fb98

commit b30402eeeddefb855126a32fee15db164684ba8c
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Mon Oct 14 12:47:44 2013 +0800

    Fix Huawei drivers to support other host OSs
    
    Huawei drivers create Linux hosts by default when attaching volumes.
    This patch makes them also support Windows, XenServer, AIX, etc.
    The default OS is still Linux if it is not specified.
    
    Users need to configure the host OS types in Huawei XML configuration
    file. They need to set the items like this:
    <Host OSType="Windows" HostIP="10.10.0.1, 10.10.0.2, ..." />
    <Host .../>
    
    When attaching a volume, the driver will get the host IP from nova. We
    compare that IP with the IP in "HostIP" to get the corresponding OS type.
    
    Closes-bug: #1229759
    Change-Id: I36fd52b97f790f1c68eaf24b6c12e7ef5d16145d

commit c287b15d8108b7b1bf716897aa3079f933ccd832
Merge: 6e7ecda 44f731c
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Oct 13 09:04:59 2013 +0000

    Merge "Imported Translations from Transifex"

commit 6e7ecda16636117fba7b33445f16ea74224b97ca
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 29 13:38:13 2013 +0200

    Fix all occurences of H404 Hacking warning
    
    This fixes all triggers of hacking 0.6.x's warning:
    H404 - multi line docstring should start with a summary.
    and enables gating check on H404.
    
    Change-Id: I034bd1f05da3f279d8d79aa14a7f6ce8bef5047c

commit 44f731c5cb0bb18406057503b1984f73a077eda5
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Oct 13 06:13:06 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I5052c7a1dc3de38fef14046078d93c583c7cee73

commit 226b824e731ba333a8dffe6896a57f24f1f07813
Merge: 0a12f11 50d0d65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Oct 13 05:55:19 2013 +0000

    Merge "Remove option count from sample configuration"

commit 0a12f116791c21eafe1e2b85c2a18ea2f72d55b4
Merge: 03e35bc 42e164c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Oct 13 05:31:12 2013 +0000

    Merge "Remove unused 'initiator' imports"

commit 03e35bcce0450ac9299f2662c18d32a0f8904f82
Merge: c5e38af 9b9aee6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Oct 13 05:29:00 2013 +0000

    Merge "Refactor Nexenta iSCSI driver"

commit c5e38af0faf25035a35156050c72200bd10f60e8
Merge: dcdcbc5 a2b774c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Oct 13 05:28:06 2013 +0000

    Merge "VMware: Fixed upload-to-image for available volume"

commit dcdcbc5ec3c0ca1258431f440f992858d0131d2d
Merge: 3da3a0e b372d0b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Oct 13 05:15:17 2013 +0000

    Merge "Fix tests to work in debug mode"

commit a2b774c0ce2a1aaa9cdfc7d7c4c4d642f1bfc3d1
Author: Subramanian Neelakantan <subbu@ubuntu.(none)>
Date:   Wed Oct 9 03:53:52 2013 -0700

    VMware: Fixed upload-to-image for available volume
    
    Cinder generally does not allow upload-to-image operation on a volume
    that is 'in-use'. This can however be over-ridden using the '--force True'
    flag. The VMware driver cannot support upload-to-image when the volume is
    in-use. This is a restriction for the VMware driver alone. When the user forces
    an upload on a volume that is 'in-use' the Cinder api layer sets the volume
    status to 'uploading' and calls into the driver code to upload. In this
    scenario the VMware driver needs to fail the operation.
    
    The current driver code here does this check wrongly by looking for volume
    status of 'in-use'. Fixing this check to identify an in-use volume correctly.
    
    Fixes bug: 1237338
    
    Change-Id: If54edfdc242a7a1bff442b6bb4c5a9865eede1dc

commit 3da3a0e827ff0e099514702d7116084245f03e80
Merge: fb4281b 5050baf
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Oct 11 22:26:27 2013 +0000

    Merge "Updated from global requirements"

commit fb4281ba5ac27af610d27f94f69e19e9c7b5ae48
Merge: 1f10e29 40bfdab
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 11 22:21:42 2013 +0000

    Merge "Remove obsolete redhat-eventlet.patch"

commit 9b9aee668b0978507f37b9bf40e8ddaa16d2280b
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Thu Sep 5 02:02:51 2013 +0400

    Refactor Nexenta iSCSI driver
    
    1) Rename volume.py to iscsi.py
    2) Rename NexentaDriver to NexentaISCSIDriver
    
    DocImpact
    Change-Id: I117d881e1f5a70ea50e44c4a409e65961b85978f

commit 42e164c32655fcde9e148501ca1bd998bb5b7cfc
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Oct 11 17:43:38 2013 -0400

    Remove unused 'initiator' imports
    
    Remove unused 'initiator' imports from driver.py and manager.py
    
    Change-Id: I4bb3099d6099588d242fae7ed92d0bd9f7126fbb

commit 1f10e290b36a1c66ce2f6e166678e62dafb8d563
Merge: 089dd8f d2c36a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 11 21:21:13 2013 +0000

    Merge "Remove whitespace from cfg options"

commit 089dd8fe689bd056786db0cff11a66d58862c497
Merge: d951222 a3acb06
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 11 21:20:11 2013 +0000

    Merge "Fix typo in cinder.volume.drivers.nexenta.__init__"

commit b372d0b63e4198f865e826d3771880d07f939f39
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Thu Oct 10 13:16:37 2013 +0000

    Fix tests to work in debug mode
    
    Avoid oslo.cfg errors when running the tests in debug mode, with
    run_tests.sh -d, or directly with testtools.
    
    Change-Id: I7c8b24673ac2d502b219a00ce8af93111348b1ff

commit 5050baf28cbc10e57913ac090fe19196b47d9feb
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Oct 10 20:24:27 2013 +0000

    Updated from global requirements
    
    Change-Id: Ic2508231560ea1bd7d8c8df01193846bec4f70cc

commit d2c36a81ecdc9b01dad457b9f7a4b6d117033a59
Author: Andreas Jaeger <aj@suse.de>
Date:   Thu Oct 10 20:51:51 2013 +0200

    Remove whitespace from cfg options
    
    This extra whitespace will cause warnings in the openstack-manuals,
    thus remove it.
    
    Change-Id: I36c0e0d8456bb78384620362b1c1cedb053c6a3c

commit 50d0d65169ea3d700bea0ab8e670737b6f005c75
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Oct 10 15:01:25 2013 -0400

    Remove option count from sample configuration
    
    This doesn't serve much purpose, and makes it much harder than it
    should be to merge multiple patches that change the sample config.
    
    Change-Id: I44895bfbf4a7c9af30040f84b17a97f8e2f4e5b6

commit d951222c1440b31f5e994d43b4277344e0d8f63f
Merge: 1a8800c 51fd5ed
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 10 17:05:38 2013 +0000

    Merge "improves lvm version parsing for customised builds"

commit 1a8800c188233ca49a6887d01197dc39f805567f
Merge: 934c8f3 d1c3276
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 10 16:57:25 2013 +0000

    Merge "Clean up comparison assertions"

commit 934c8f3fa338d15b52177ec5c89c19cd4b1cca68
Merge: 18218bd 7aa4f65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 10 15:57:44 2013 +0000

    Merge "long flashcopy operation may block volume service"

commit 51fd5edb106e26d65696ce37a70eef6a4f75b1e2
Author: Giulio Fidente <gfidente@redhat.com>
Date:   Thu Oct 10 14:59:44 2013 +0200

    improves lvm version parsing for customised builds
    
    supports_thin_provisioning now uses a regexp to ensure parsing of
    lvm version succeeds when the build is customised; also adds a test
    for a customised string parsing
    
    Closes-Bug: #1237994
    Change-Id: I49049a58bbdb5315b9d2d7c259a9324ca15d78cb

commit 18218bd1619e75b087879731c6253a34063869a2
Merge: a18a954 a9a3608
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 10 00:02:27 2013 +0000

    Merge "use cinder utils.get_root_helper"

commit a3acb06f0df6d99557ef3a2cd98d06c78af67a46
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Tue Oct 8 19:45:35 2013 +0400

    Fix typo in cinder.volume.drivers.nexenta.__init__
    
    s/Mikhaik/Mikhail/
    
    Change-Id: I78f53f4a5f73af03657a21302021145d42faed0c

commit 40bfdab75c42817f70a2a0e018f0ddd86ded76e9
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Oct 9 21:39:56 2013 +0100

    Remove obsolete redhat-eventlet.patch
    
    See I62ce43a330d7ae94eda4c7498782a655e63747fa for the gorey details on
    why this exists.
    
    As of this fix:
    
      https://github.com/eventlet/eventlet/pull/34
    
    which was released in eventlet 0.13, we no longer need the patch.
    
    This has now been removed from oslo-incubator, so this is really just
    syncing that removal.
    
    Change-Id: I84267f3c6726cb2e750f615e107c48b12c6ed353

commit 7aa4f65a8c17aa037deff0f5b534ed694c17e62a
Author: Alan Jiang <ajiang@us.ibm.com>
Date:   Thu Oct 3 17:03:09 2013 -0500

    long flashcopy operation may block volume service
    
    Storwize family uses flashcopy for snapshot or volume clone. The
    volume delete has to wait until flashcopy finishes or errors out.
    The _delete_vdisk() will poll volume FlashCopy status in a loop.
    This may block volume serivce heartheat since it is in the same
    . The solution is to use openstack FixedIntervalLoopingCall
    to run the FlashCopy status poll in a timer thread.
    
    The cinder volume mananger will resume delete operation for those
    volumes that are in the deleting state during volume service startup.
    Since Storwize volume delete may wait for a long time, this can cause
    volume service to have long delay before it becomes available.
    A greenpool is used to offload those volume delete operations.
    
    Change-Id: Ie01a441a327e1e318fa8da0040ae130731b7a686
    Closes-Bug: #1203152

commit a18a9544c085bc4717642848fa3258746495666f
Merge: 8b98642 0c9dc5d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 9 15:36:30 2013 +0000

    Merge "Support Huawei driver upgrade from grizzly to havana"

commit 8b986425aa2498006853b811827eeb5ef22f73b6
Merge: eb01b14 2451a02
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 9 08:54:51 2013 +0000

    Merge "VMware: Disallow snapshot of attached volume"

commit eb01b1427d44ecf5bf2fbccccd0f42b8899cc87a
Merge: 8c8d23d 87f47e1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 9 08:50:45 2013 +0000

    Merge "Nexenta volume drivers: refactor NexentaJSONProxy"

commit 8c8d23d5fe5cd4517b3040b2dc5fcf427b1f8a63
Merge: 12af066 7567cb5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 9 07:48:29 2013 +0000

    Merge "Utilizes assertIsNone and assertIsNotNone"

commit 12af06671daf1e277da1b9de8b1eb880c6bdcb1f
Merge: 971d789 2d8b905
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 9 07:48:27 2013 +0000

    Merge "Provide user with more information on quota fail"

commit 0c9dc5d0e01576969f09edc0c9c72a2aa91b248a
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Wed Oct 9 15:37:49 2013 +0800

    Support Huawei driver upgrade from grizzly to havana
    
    To make the driver upgrade from grizzly to higher versions, the patch
    checks the old host name firstly when creating and deleting host in
    Huawei storage system.
    If the old host name exists:
    *get and use it directly when adding host.
    *delete it directly when deleting host.
    
    Closes-bug 1237189
    
    Change-Id: I82a9dbc1ef0bb0b91771afea4aadec5afe65eecf

commit 971d789e34837f884248e483056ab01e083e4623
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Oct 9 06:13:50 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I68cbee28565b1b4bd0352a4d769744cab28b71a0

commit 2451a027bee50c834890f9e049fbaf4bfa911546
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Tue Oct 8 06:33:33 2013 -0700

    VMware: Disallow snapshot of attached volume
    
    The current implementation perform snapshot of attached volume.
    This is invalid because when we take snapshot of the backing, the instance
    continues pointing to the readonly delta and tries writing to it.
    This patch will disallow snapshot creation of attached volume.
    
    We have similar issue with delete of snapshot, when deleted the instance will
    point to an invalid disk file, since that will get merged with its parent.
    Hence any writes by the instance will fail with disk not found error.
    This patch will ignore delete snapshot of attached volume.
    
    Since we disallow snapshot of attached volume, we disallow linked clone of
    attached source volume and also upload of attached volume.
    
    Fixes bug: 1236891
    
    Change-Id: I6a91eac8529836d1fe1de73bf6b28ec098aa7c54

commit d1c32766ae7e7ab4c07e805b4a01c0af263ce5b1
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Tue Sep 3 13:07:21 2013 +0800

    Clean up comparison assertions
    
    Using assertTrue and the comparison operators to test
    if an element is greater, equal, or less is too python2.4.
    Our unit testing framework 'testtools' supports
    - assertEqual
    - and testtools Matcher classes
    which were created for these types of tests.
    
    Re-implemented assertGreater and assertGreaterEqual
    with compatibility for python < 2.7.
    
    Change-Id: I6f3e3279630393e594c75d30cb4b895c2e2c22ca

commit 7567cb5fb6a4201b819d05fcea2bf2b2a34b9031
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Oct 9 09:54:30 2013 +0800

    Utilizes assertIsNone and assertIsNotNone
    
    Using assertEqual/assertNotEqual to test if an element
    is or is not None is too python2.4.
    Our unit testing framework supports assertIsNone and assertIsNotNone
    which were created for these types of tests.
    
    Change-Id: I2e430e87dd0222b194a84f2928ad36aac26aaba6

commit b00e307d7067e4b9cc86739291668be5b518badf
Merge: 60f2eb8 f330eac
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 9 00:39:41 2013 +0000

    Merge "remove unused methods in driver.Scheduler"

commit 87f47e1595eb8307a7212ccd5224651e4e61fcb8
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Wed Oct 9 00:11:09 2013 +0400

    Nexenta volume drivers: refactor NexentaJSONProxy
    
    Change constructor arguments of NexentaJSONProxy.
    
    Change-Id: I43d69485e6a98704f4cb02a4b55acccf9c05b683

commit 60f2eb84e1299e20777a1a65701cc462b3b4c0b8
Merge: 42e33e9 25f736d
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Oct 8 16:43:17 2013 +0000

    Merge "Imported Translations from Transifex"

commit 42e33e9720bb96e4c7c40b78a5acf4bb47de0171
Merge: 338c826 2d4ea10
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 8 16:00:31 2013 +0000

    Merge "VMware: Re-create session for RetrievePropertiesEx"

commit f330eac22ad47901ccd3252ffd73c46d7157644e
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Tue Oct 8 16:28:25 2013 +0900

    remove unused methods in driver.Scheduler
    
    cinder.scheduler.host_manager.HostManager doesn't have get_host_list()
    and get_service_capabilities(). But we don't catch the AttributeError
    by them. Therefore, get_host_list() and get_service_capabilities() in
    cinder.scheduler.driver.Scheduler have not been used.
    
    Also, get_host_list() and get_service_capabilities() in
    cinder.scheduler.manager.SchedulerManager have not been used.
    
    Change-Id: I402cf068612866649cc8645391eff38fca56f634
    Closes-Bug: #1236723

commit 25f736d1cf7f2a871d303c082c6f65b30760db04
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Oct 8 06:15:49 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I8b4e6122ec5dfa64f749a73e6ccf0b777acdd4bc

commit 338c826f2c8e3aceef831f006a0b0758dda4074e
Merge: 52cca78 3706442
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 8 06:08:35 2013 +0000

    Merge "Cleanup and more tests for db.api methods"

commit 52cca7852ef30570c94645da8c7ddbfe11d80151
Merge: cd50549 5c321d7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 8 06:07:25 2013 +0000

    Merge "Drop conf_key_mgr warning message!"

commit cd50549f406a608154e983fc7e3f7de4f35057c6
Merge: a537171 7f73fed
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 8 05:56:00 2013 +0000

    Merge "Ignore H803 from Hacking."

commit a5371712ce67b8e769f5fc12a3048dc5d0eef3eb
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Tue Oct 8 03:19:23 2013 +0400

    Nexenta iSCSI driver fix _lu_exists
    
    Catch "does not exist" exception of NMS scsidisk lu_exists method.
    
    Change-Id: I082b588dfbf54efec68a9affc76466097765b6db
    Closes-Bug: #1236626

commit 7f73fedc1cca47bcef88a67622977ea832a3d35c
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Oct 7 14:09:34 2013 -0400

    Ignore H803 from Hacking.
    
    H803 checks for a period in commit messages, something the community
    clearly rejected as a sensible check: periods in commit messages
    should neither be rejected or required.
    
    Change-Id: I754e10ca01b3e6f8c6482e1bcd4c2e2ca8c1cfc9

commit 5c321d758c9718d7dde555316ac4fbd2f7acf424
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Oct 7 12:41:28 2013 -0400

    Drop conf_key_mgr warning message!
    
    By default ConfKeyManager logs tons of WARNING message stating
    that it isn't production ready...
    
    Given that it is currently the only Cinder key manager option
    which can be used/selected I don't think repeatedly logging
    warnings is helpful. Lets just drop the warning message
    for now and when a good "production ready" cinder key manager
    implementation is implemented perhaps we can re-add a warning to
    this class (hopefully making the production ready impl the default).
    
    Change-Id: Id1fdddc20a963f9fa4749ad57f355cd83d0e14e3
    Closes-Bug: #1236459

commit 2d4ea101252141486fa6fd61b100772fafd40102
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Fri Oct 4 04:05:09 2013 -0700

    VMware: Re-create session for RetrievePropertiesEx
    
    When RetrievePropertiesEx API is called after session timeout, the driver
    does not re-create session automatically.
    
    This is a regression caused when moving from RetrieveProperties to
    RetrievePropertiesEx API.
    
    Fixes bug: 1235187
    
    Change-Id: I8a1e2452dfb3029365d59eae7850d1a9363b25f0

commit a9a36082528a6d46d950b5e83cb46c2af389317a
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Oct 2 11:24:25 2013 -0700

    use cinder utils.get_root_helper
    
    Replaced all of the manual entries of
    the root_helper with the cinder
    utils.get_root_helper()
    
    Closes-Bug: #1233907
    
    Change-Id: I4c9b4c27ed4b779595a272436d79ec068e7ee537

commit 2d8b905f474a879ad6a9a441e79bf7b05d2d39a5
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Fri Oct 4 14:56:26 2013 +0000

    Provide user with more information on quota fail
    
    Provide the user with useful information when a snapshot or volume
    create fails because it would cause the user to exceed available quota.
    Specifically report the user's current gigabyte usage and quota
    allocations.
    
    Closes-Bug: #1235148
    
    Change-Id: Ib4c5dbcbd172c69834c2824791af755380f38e01

commit 370644276487d378ab67c29faac8d15a5083e192
Author: Sergey Skripnick <sskripnick@mirantis.com>
Date:   Wed Aug 28 09:52:53 2013 +0300

    Cleanup and more tests for db.api methods
    
    New tests for methods:
    
     backup_*
     quota_*
     reservation_*
     snapshot_*
     transfer_*
     volume_*
    
    Removed unnecessary methods:
    
     quota_usage_create
     volume_metadata_get_item
     snapshot_metadata_get_item
     volume_type_extra_specs_get_item
     exact_filter
    
    Improved coverage of existing tests.
    
    Improved ModelsObjectComparatorMixin.
    
    blueprint: db-api-tests
    
    Change-Id: Ia2a3845f27a7b4b08fd8a16c6010513d213e642f

commit 3cd27defb1c820ceadd8bbc6bfd5a405a7376cdb
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Oct 3 15:54:20 2013 -0600

    Fix broken solidfire create-snapshot
    
    A previous change to enable secifying size for cloned volumes
    created introduced a bug that breaks the ability to create-snapshots
    when using the SolidFire driver
    (CID: I5628c7fa922780d6b0601e2daa79310a61085edc).
    
    The problem is that we use a shared method in the SF driver for both
    create-clone and create-snapshot, the added change only considers the
    clone case and does a get ref['size'] but in the case of snapshots
    this needs to be ref['volume_size'].
    
    Change-Id: I50603b3ac43f2c3c7e7811ec34de078a268519f7
    Closes-Bug: 1234970

commit f84af779e3e5d6089488d853b16896e616bf5fe3
Merge: e01eba4 7a6777c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 18:29:56 2013 +0000

    Merge "Open Icehouse development"

commit e01eba47b94c3cbb41491acdbcabd9ba14936be6
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Sep 25 14:32:32 2013 -0700

    Clean CONF out of brick iser
    
    This is part 2 of the work needed to
    remove CONF from the brick subproject.
    
    This patch removes CONF from the iser
    portion of brick
    
    Fixes Bug #1230066
    
    Change-Id: Id165deffdf04fb064c425861dab284de377d2440

commit 1daa5e6af173f293476d470056f25c310dd5f49a
Merge: f1a0906 8c4d6dd
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Oct 3 15:45:30 2013 +0000

    Merge "Imported Translations from Transifex"

commit f1a09061ed99a15b9c0ce8f6c3d3a49ef8bba1ac
Merge: 9216ecf c683f2f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 15:37:25 2013 +0000

    Merge "Fixes ceph backup import errors"

commit 7a6777c672d771e2e9d53246cf16bf8a5ce3e7c2
Author: Thierry Carrez <thierry@openstack.org>
Date:   Thu Oct 3 11:51:17 2013 +0200

    Open Icehouse development
    
    This should be accepted/merged once all the RC1 bugfixes are in.
    
    This bumps the target version to 2014.1, effectively opening the master
    branch to Icehouse development, ending the feature freeze.
    
    The Havana release branch is cut from the previous commit in master.
    
    Change-Id: Id33ea4faa8497f636999583781f652e3e4ac9c21

commit 8c4d6ddb8be861d0968c95ae963b16352c3e4eb0
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Oct 3 06:07:57 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ie27ede4711508f7d67c46909d3535e0ca0170337

commit 9216ecffeb121f44b844785918f85315151ecd8f
Merge: 5300066 775ca02
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 04:38:30 2013 +0000

    Merge "Add support for querying the quotas usage"

commit 53000661497e8f43b7d58d239dabd9593863ccaf
Merge: 9631872 fc7c36c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 04:34:12 2013 +0000

    Merge "VMware ESX: Fixes vol clone & clone from snapshot"

commit 9631872c03d63a5b19aa3c4740405f99af9509e0
Merge: 19b7d12 2a630f7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 04:34:04 2013 +0000

    Merge "Remove incorrect class in cinder.conf.sample"

commit 19b7d12e0e828d3c7f4cdbe5bbc768c390eff0f8
Merge: f4829e8 ae6b764
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 04:22:42 2013 +0000

    Merge "Add key manager implementation with static key"

commit f4829e8b66c07bc30b1a0d35de3cc9306daf8f68
Merge: cf856d9 09f2bea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 04:13:39 2013 +0000

    Merge "Remove need for CONF acces in brick iscsi"

commit cf856d9a308ae3a6e9fe4e0f50f1168c0eb31fea
Merge: ddc5856 d762324
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 03:56:02 2013 +0000

    Merge "Quotas roll back failure of create volume task"

commit ae6b7642e8d32ef5fa75cdcfe55be23c052fd547
Author: Joel Coffman <joel.coffman@jhuapl.edu>
Date:   Tue Sep 24 19:10:09 2013 -0400

    Add key manager implementation with static key
    
    Per feedback received on other patch sets, an example key manager
    driver is required to support ephemeral storage encryption and
    Cinder volume encryption -- see
    * https://blueprints.launchpad.net/nova/+spec/encrypt-cinder-volumes
    * https://blueprints.launchpad.net/nova/+spec/encrypt-ephemeral-storage
    The ConfKeyManager class reads its key from the project's
    configuration file and provides this key for *all* requests. As
    such, this key manager is insecure but allows the aforementioned
    encryption features to be used without further integration effort.
    
    To clarify the above statements, the configuration-based key
    manager uses a single, fixed key. When used to encrypt data (e.g.,
    by the Cinder volume encryption feature), the encryption provides
    limited protection for the confidentiality of data. For example,
    data cannot be read from a lost or stolen disk, and a volume's
    contents cannot be reconstructed if an attacker intercepts the iSCSI
    traffic between the compute and storage host. If the key is ever
    compromised, then any data encrypted with the key can be decrypted.
    
    This commit copies the ConfKeyManager class from Nova as well as
    synchronizing changes with the key manager interface in Nova.
    
    Implements blueprint encrypt-cinder-volumes
    DocImpact
    SecurityImpact
    
    Change-Id: I5cb06386410f46cabc490fa6af23272d1d2cb979

commit 09f2bea49b853c327762d122d6d9e18f62aed31f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 26 15:23:01 2013 -0600

    Remove need for CONF acces in brick iscsi
    
    At some point we'd like brick to be a standalone lib,
    and as such we don't want to have a requirement for
    CONF files and having duplicate conf entries across
    projects.
    
    The better approach would be to let the projects decide
    what they want to use, and how they want defaults to be set
    and then pass those settings in via __init__ or when calling
    the methods that need them.
    
    Partial-Bug: #1230066
    
    Change-Id: Ib108f1abb2948cb896bdad58070daa7a725a205d

commit ddc585678df8899b42c6d704a848281caa11967d
Merge: bd81d85 39fa8e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 01:18:11 2013 +0000

    Merge "Fixes incorrect class path in logging_sample.conf"

commit bd81d858aeb503edbf390c9b383bfbe4a312d382
Merge: 1d3e44d a9b51ea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 01:18:09 2013 +0000

    Merge "Storwize SVC driver hostname can't start with number"

commit 1d3e44dd2bbb4c82fe17e4fa4308031a2bfa6ac7
Merge: 743f114 203e8bf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 01:18:06 2013 +0000

    Merge "Improve gpfs config flag help text readability"

commit 743f11485184f7577e4a26b3e4eaf83564875472
Merge: 3e26e02 db3088b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 00:43:37 2013 +0000

    Merge "v2 api - return bootable attr value on volume list"

commit 3e26e02fa934920f40681d050bd042336133b294
Merge: 911ba40 1aef7b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Oct 3 00:33:53 2013 +0000

    Merge "Check for backing lun on iscsi target create"

commit d7623249847010edd2b97085506064da0b642d8d
Author: Abhijeet Malawade <Abhijeet.Malawade@nttdata.com>
Date:   Fri Sep 27 05:13:52 2013 -0700

    Quotas roll back failure of create volume task
    
    Fixes quotas rollback issue if volume creation fails
    
    * Added revert method in QuotaCommitTask to rollback
    * volume reservations.
    
    Fixes bug #1230176
    
    Change-Id: I0983ea876983b4294ed0aebb49a065715a185b4e

commit 911ba40af6301fb51f57e645b2589480fb2079c1
Merge: 5906f5f 45a3b44
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 22:33:50 2013 +0000

    Merge "Changed header from LLC to Foundation based on trademark policies"

commit 5906f5f734d71120d3c727a73ba1bf6966dfa7eb
Merge: e015e19 36c4201
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 21:47:24 2013 +0000

    Merge "Validate force_host_copy API param for migration"

commit e015e19905a0038fb51232ab733d1d92a1e1d3ff
Merge: 566d362 56d3392
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 21:47:15 2013 +0000

    Merge "Update Babel from Openstack Requirements"

commit 566d362f22d48d5eb168910e0426daf70456257e
Merge: 2d1c4f8 f47581d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 21:46:21 2013 +0000

    Merge "NetApp fix clone image compatibility issue with ssc"

commit 2d1c4f88d4cbe57feda795dec96d5001f53ef6af
Merge: 150e83d 3814658
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 21:45:12 2013 +0000

    Merge "After commiting quota we should avoid certain reverts"

commit 150e83da9f1c5168e87082f8dba16ff341545ba0
Merge: 1f19c38 7dffd48
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 13:57:08 2013 +0000

    Merge "Remove CONF from brick remotefs"

commit 1f19c3805c86bed671e914abb8291041a83ed92f
Merge: b0c8d8d a86e12a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 13:55:31 2013 +0000

    Merge "Pass through args and kwargs in brick connectors"

commit b0c8d8d2673842e9992544e3d6d7f40d6e92dd96
Merge: 143edcf 010fe68
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 13:55:00 2013 +0000

    Merge "VMware: Usng RetrvProprtisEx & does multi ESX scan"

commit 143edcf44323c9f622ff4c3a23a68c820aa5b2aa
Merge: 7938d70 62e6c72
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 13:54:49 2013 +0000

    Merge "Create volume revert fails for non admin user"

commit 7938d70ca79dd9a203241c540b2ad1548d67093a
Merge: d3de61d 7018256
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 13:52:50 2013 +0000

    Merge "Clean CONF out of brick initiator"

commit d3de61dff3432c04f35a5bcb8b6f9c2c498f99dc
Merge: eaa42c8 52a98c2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 10:59:36 2013 +0000

    Merge "Disable lazy translation"

commit eaa42c8f98f78039221ee2ffe5ed9647bf19e207
Merge: a2673b0 7492002
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 2 10:39:20 2013 +0000

    Merge "usedevelop in tox"

commit 2a630f71af21334a1f3dd213205efcba1ef38ac4
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Wed Oct 2 17:19:13 2013 +0900

    Remove incorrect class in cinder.conf.sample
    
    cinder.openstack.common.exception has already been deleted.
    It seems to be a leak in 'Change-Id:
    I6f46f90bd74cc26fc01667e467e3dab38037eec3'.
    
    Change-Id: Ic2000280f31e354da39a9bbb0d60142b431f58a6
    Closes-Bug: #1234002

commit 39fa8e308bc33ddb0ea9686ad349640e2d8e77e2
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Wed Oct 2 14:36:01 2013 +0900

    Fixes incorrect class path in logging_sample.conf
    
    It seems to be a leak in 'Change-Id:
    I95d23aafe19b12d4a427149aa5f7a66394d178c6'.
    
    Change-Id: I4c2777049ec9e301a1f05b3a7b4aa5dd71c033e3
    Closes-Bug: #1233985

commit a9b51ea8421939ddc1d9a964dd58a1067fc2a167
Author: Alan Jiang <ajiang@us.ibm.com>
Date:   Tue Oct 1 00:38:03 2013 -0500

    Storwize SVC driver hostname can't start with number
    
    Storwize family storage does not allow host identifier start with
    a numeric number. Otherwise cinder initialize_connection() API will
    throw exception due to such invalid host name in the connector. The fix
    is to add a '_' symbol as prefix if the host identifier in connector
    starts with non-alphabet letters.
    
    Closes-Bug: #1233952
    Change-Id: Ia88afc373e2635c10c3f6256331a4fd90f51f4b8

commit 3814658cec4a075ebef2b7efdcff4b82f7cce830
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Tue Oct 1 15:53:30 2013 -0700

    After commiting quota we should avoid certain reverts
    
    After we commit the quota successfully we do not want to
    set the database volume to destroyed or attempt further
    rollback of the quota itself to reflect what the code
    previously did.
    
    Closes-Bug: #1230189
    
    Change-Id: I115dc6736b8f2d0d7b2b6f29e9fd1904fd1c6eee

commit 7dffd48672091c92d4c9a239fe41fd613b85348b
Author: Chet Burgess <cfb@metacloud.com>
Date:   Wed Sep 25 21:57:25 2013 -0700

    Remove CONF from brick remotefs
    
    Move the remotefs CONF options back into their
    corresponding volume drivers.
    
    Partial-Bug: #1230066
    Change-Id: Ie37a803dc0f895ffd9dc2c7daf8255e6096ccee2

commit a86e12aad5466bf6c8027f2a76811c99a010f273
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Sep 30 15:45:28 2013 -0700

    Pass through args and kwargs in brick connectors
    
    This is a change needed to help remove CONF usage
    in the brick/remotefs/RemoteFsClient.
    RemoteFsClient can then pull the values from the caller.
    
    Change-Id: Ie1ff2a39b92c4150fec4a3191367797a260b30ec
    Partial-Bug: #1230066

commit 7018256578e69e33ed9dee47bb72ea6011a2ce7a
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Sep 30 11:07:46 2013 -0700

    Clean CONF out of brick initiator
    
    This is part 1 of the work needed to
    remove CONF from the brick subproject.
    This patch removes the CONF usage
    completely from the initiator portion of brick.
    
    Change-Id: I62cf72214db9d4296ae4c5b09bd21fb53664c117
    Partial-Bug: #1230066

commit 56d3392e2dd66710a0876a8ba4d567e5d89086fb
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Oct 1 08:23:01 2013 -0600

    Update Babel from Openstack Requirements
    
    This is the update pushed to the global reqs.
    
    Change-Id: I0d8ea330db3f9d68fee172302543b861cae4e013
    Closes-Bug: 1233694

commit 52a98c29755f893154263a7793c0135c763938f6
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Tue Oct 1 18:01:59 2013 -0400

    Disable lazy translation
    
    Late in the Havana cycle bug 1225099 was found in the lazy
    translation code, and to be safe it was decided to disable lazy
    translation for Havana.  This change does that.
    
    Change-Id: Ia934a7df9386baf6ae8eb9ff48c24386c47ecd23
    Partial-bug: 1225099

commit a2673b0febc72d6d9b69e39845282448e94fd91c
Merge: d6b130c bd5c3f5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 1 21:00:49 2013 +0000

    Merge "Fixes backup with multiple volume backend"

commit d6b130cf9e655891b4b33407a9f43def069e2960
Merge: 903e7d2 36fab5a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 1 21:00:14 2013 +0000

    Merge "Fix finish_volume_migration() on SQLAlchemy 0.8.x"

commit 203e8bf9daf35319d56612de9c8b75d36fcfafd4
Author: Bill Owen <billowen@us.ibm.com>
Date:   Mon Sep 30 11:59:45 2013 -0700

    Improve gpfs config flag help text readability
    
    Modify the help text for gpfs configuration flags so that it
    reads more clearly.
    
    Closes-Bug: #1233288
    
    Change-Id: Iea41bceb496dfaa1f8625a6e3abb31794838213d

commit 1aef7b6304af6c19b8ceb81cbd9a3c83bb4880de
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Oct 1 12:05:14 2013 -0600

    Check for backing lun on iscsi target create
    
    Check to verify the backing lun was actually created and not just
    the controller lun.  If it was NOT created, attempt to issue
    tgtadm --op new to see if we can recover.
    
    If this fails, then we want to actually fail in Cinder rather than
    pretending that everything went well, so we'll log the error and raise.
    
    Change-Id: I3cabab0d214c051267638a627664df2b673236e3
    Closes-Bug: #1226337

commit 903e7d22d509db74132facd28ee881baa3d30f0b
Merge: d1d948b a1a898c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 1 13:52:58 2013 +0000

    Merge "Fix translation of CinderExceptions in REST API"

commit d1d948b6eff937b0cf6cb616ad98ed27f1f498cf
Merge: 923262d d534811
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 1 13:24:38 2013 +0000

    Merge "Fix mandatory and optional args for create_volume"

commit 923262d699e94ac413cd137f74a207ce16084a0b
Merge: e8f5f8f 3be2205
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 1 13:20:16 2013 +0000

    Merge "Fix Huawei HVS driver attaching volume error"

commit e8f5f8fad618a31e6a95d2c308db9cd5889619b5
Merge: 91b48fb c2957d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 1 10:40:45 2013 +0000

    Merge "Add XML response tests for qos specs manage ext"

commit 91b48fb564d531b180471f3cb824572492ff3967
Merge: d9514d7 b715701
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 1 08:50:08 2013 +0000

    Merge "Set vol driver initialized before deleting volumes"

commit 7492002cf7e9b19602bda622d62347f849280cd5
Author: Monty Taylor <mordred@inaugust.com>
Date:   Mon Sep 30 18:57:43 2013 -0400

    usedevelop in tox
    
    We want to run code inside of the venv, not outside.
    
    Change-Id: I92c5e35674933ac4d9d15eda32f3b9339dbedbd3

commit c683f2fafc69eab7f6ff88d94adc37506d5b5714
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Thu Sep 26 14:05:24 2013 +0100

    Fixes ceph backup import errors
    
    For some reason, using non-rbd volume driver whilst using
    Ceph backup causes what looks to be a cyclic import error.
    Ensuring that the backup.drivers.ceph module is imported
    into volume.drivers.rbd ONLY if it is needed i.e. if both
    drivers are in use, seems to remedy this.
    
    Change-Id: Ieae0c3451cfb1750eca8cfcde5e0be9e7eb028d0
    Fixes: bug 1231412

commit c2957d3c2e29714686a0965b4b879711e209ebf6
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Sep 29 20:18:55 2013 -0700

    Add XML response tests for qos specs manage ext
    
    Make sure XML serializing is working for qos spec index and show, as
    well as association show.
    
    Change-Id: If678cf9201c3ba218a485999e11fc034a06495d4

commit db3088b888e9560df93ff608b1e45a28fac14b6f
Author: Bill Owen <billowen@us.ibm.com>
Date:   Fri Sep 27 16:22:41 2013 -0700

    v2 api - return bootable attr value on volume list
    
    Add bootable to the list of values returned by display_list.  This
    was returned in v1 api, and is still in v2 header, but was missed
    in the new implementation.
    
    Closes-Bug: #1232287
    
    Change-Id: If7460b1c8ab4af417117c4bf6cfdccc5fcf21f46

commit bd5c3f5a0e3449a4a384090ae4dba75c4cdcf4da
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Thu Sep 26 00:13:42 2013 +0100

    Fixes backup with multiple volume backend
    
    The backup service now keeps a dictionary of managers
    for each type of volume backend. If multi backend is
    not in use (and volume_type is None) the current
    volume_driver is used.
    
    Change-Id: I66e91f3ce2cffaf2e2d07edfddc08b1480e2a37c
    Fixes: bug 1228223

commit d9514d796185220715b09c8c17e71eeb1337ba2f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Sep 30 08:45:52 2013 -0600

    Dont retry if target creation succeeds
    
    The target creation retry loop was not breaking when
    the target was succesfully created.  This is "sometimes" ok,
    however in other cases this will actually cause a failure in
    the second create and the backing Lun will be deleted and not
    created again succesfully due most likely to a busy status on the
    target.
    
    Add a break in the try block.
    
    Change-Id: I875f6302868651b5b42d4796cd2714fba35e525e
    Closes-Bug: #1226337

commit 0f7d9377866d31fdaaf7e398af9b4e679e5b24f1
Merge: 82f3662 1498958
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 30 14:41:12 2013 +0000

    Merge "Fix chown fail for nfs file without necessary permission"

commit fc7c36c9ca94de6bd2481c59d7710566dd4a1ddb
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Mon Sep 30 02:45:37 2013 -0700

    VMware ESX: Fixes vol clone & clone from snapshot
    
    The driver was earlier performing create from a source volume and create from
    a snapshot point by copying the source volume container folder.
    
    This is not valid in case of vSAN datastore where the volume data is not a
    'file' in the container folder unlike VMFS/NFS datastores. So copying folder
    will only copy descriptor file and hence the source and cloned volume will
    end up writing to the same data location, eventually corrupting it.
    
    The fix is to copy only the VMDK file (descriptor + data) and not the entire
    container folder. The implementation does the following:
    1. Create a volume backing
    2. Delete the current VMDK
    3. Make a copy of source volume's VMDK file to the destination using virtual
       disk manager. In case of create from snapshot, we copy the VMDK file
       corresponding to the snapshot point.
    
    Fixes bug: 1233034
    
    Change-Id: I51c9870c11a6d66f9f47c1ad9aaa2abc3dd0533a

commit 82f3662405992b6b5915d94fa3a23e27f5849c66
Merge: 0a2fc78 fe1d9db
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 30 09:08:21 2013 +0000

    Merge "Fix XML serializer for QoS Specs extension"

commit 62e6c7268dcdf2479a7c8864acc32493df22b7e8
Author: Abhijeet Malawade <Abhijeet.Malawade@nttdata.com>
Date:   Fri Sep 27 05:38:59 2013 -0700

    Create volume revert fails for non admin user
    
    Done fixes in revert method of EntryCreateTask task
    to use elevated context while destroying volume.
    
    Fixes bug #1230159
    
    Change-Id: I41b7f2ae4e0235df40bcdaa511256775228751aa

commit 0a2fc780ae5584846101277f1e332a220e8d9822
Merge: 44285d4 15fba9a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 30 05:31:16 2013 +0000

    Merge "Add debug logging for targets"

commit 44285d4c7f2f7a54490b68c9341eb245de8302a8
Merge: 796a5f1 6b418fe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 30 05:31:14 2013 +0000

    Merge "Use module units for some drivers"

commit 796a5f13134f9e24d0b36e98560ed0b5b016e02b
Merge: e8071a0 ed0b714
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Sep 30 05:31:11 2013 +0000

    Merge "Imported Translations from Transifex"

commit e8071a041fbb879c95b1ce593325a6b1b6f19df6
Merge: 3680773 59cb2be
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 30 05:31:09 2013 +0000

    Merge "Add error logs for Huawei driver"

commit 010fe685e50a3680d8c8b9b6602677df90e815b3
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Mon Sep 16 03:23:23 2013 -0700

    VMware: Usng RetrvProprtisEx & does multi ESX scan
    
    The existing code uses deprecated API RetrieveProperties for querying through
    property collector. The public doc asks to use RetrievePropertiesEx instead.
    
    RetrievePropertiesEx works by retrieving results in serveral batches rather than
    retrieval in a single API call. This works well in environments containing
    large number of VMs or ESX hosts.
    
    There are three steps involved 1. Get first batch 2. Continue retrieving using
    a token 3. Cancel retrieval when not needed
    
    Batch size is user configurable, default is 100 results per batch.
    
    The review also fixes a careless programming error leading to scanning only
    1 ESX host under the vCenter server for datastores.
    
    Fixes bug: 1227078
    Fixes bug: 1229654
    DocImpact
    
    Change-Id: I85a6f6a7e2d764b9843efbd0dd347fba3ef19310

commit 3680773c6dcee21da13e5e76e6796309581f97fb
Merge: e7c666f 63fc867
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 30 05:00:59 2013 +0000

    Merge "Allow upgrade from Grizzly with ThinLVMVolumeDriver"

commit fe1d9db358c1da4ff041eedaff76f282f28a8670
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Wed Sep 25 16:40:41 2013 +0800

    Fix XML serializer for QoS Specs extension
    
    This patch fixes XML serializer for QoS Specs exension calls like
    list(), show(), associations().  Note that using XML as input for
    create(), update() doesn't support yet.
    
    Closes-Bug: # 1229619
    
    Change-Id: I2eab9d69e05bb03269b51731458994d6268ac852

commit e7c666f9c296b3aab534f5d734781e2d890e7030
Merge: 410a018 5d49939
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 30 03:46:52 2013 +0000

    Merge "Fix type change in bootable setting of volume view"

commit 410a0186cb4a6a9477b8f58df792bb03b8bed4ec
Merge: 4139dbc 3cd2188
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 29 18:47:13 2013 +0000

    Merge "Update OpenStack Style Commandments link"

commit 3be220539a529572f30f3345fe80f2aa572730a3
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Wed Sep 25 23:31:04 2013 +0800

    Fix Huawei HVS driver attaching volume error
    
    If iSCSI initiator is not added to host, we will get https errors
    for we find the initiator info by sending url with this initiator name.
    
    This patch fixes the way of getting the initiator info.
    First, get the all initiator info.
    Then, find the one we need by name.
    
    Closes-bug: #1230296
    Change-Id: I92620374923fa136ee71fe6eb3af6e4c78a3d66b

commit 15fba9a776a2a85c81679817b20b06ffecc66b6b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sun Sep 29 10:01:58 2013 -0600

    Add debug logging for targets
    
    Seems we may be failing target create silently,
    the situation appears to be that the actual device
    lun is not created.  This has been appearing in the
    gates on create from snapshot.
    
    This change adds some logging that will help us determine
    if it's the actual create, or if it's the attempted update
    while the dd process is possibly holding the volume in a busy
    state causing the target update to add lun 1 to fail.
    
    Change-Id: If5d4219dedae4649982fa9c13f131bf5f38fb7c4

commit 775ca024659f8733bf498d0e6a5cf725321bdd29
Author: Seif Lotfy <s.lotfy@telekom.de>
Date:   Thu Sep 26 21:21:14 2013 +0000

    Add support for querying the quotas usage
    
    QuotaSetsController's _get_quotas already supports querying for
    the usage. This patch allows sending a parameter "usage" to the
    REST API when asking for quotas
    
    Change-Id: I2103f41ae7aac1ed9f071949db4fb205552694f5

commit 36c420157674e8ed34d407f19062b06a657e6490
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Sep 29 13:17:51 2013 +0300

    Validate force_host_copy API param for migration
    
    For the force_host_copy parameter of volume migration, make sure that we
    get a boolean or string that we can convert to boolean.
    
    Change-Id: I7a77ca1780a4ef80bc351aa89df0efaaea0d7cf4
    Closes-Bug: #1232698

commit 4139dbcfb17102d2169f3efb0255a65b81268715
Merge: 76498dc ca1fa01
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 29 08:06:56 2013 +0000

    Merge "Clean CONF out of brick exception"

commit ed0b714b09b5ae6f9098d93753a87740b0a27aa7
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Sep 29 06:08:29 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ie27dccba52813603799f958b122a6f6287c0e9a8

commit 3cd21880afb40a9a3f261e3f0271a6c5898b4cb6
Author: Mike Perez <thingee@gmail.com>
Date:   Sat Sep 28 23:01:11 2013 -0700

    Update OpenStack Style Commandments link
    
    The current link in the HACKING file is broken. This references the
    correct location for contributors to view.
    
    Change-Id: I614f78fdea32025c2c5cf9599c698dde9c81ab21

commit 76498dce52d7509708b9d6f1ede771853ef64bbb
Merge: 4e27ca1 cdcece1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 28 06:15:28 2013 +0000

    Merge "Get host group id when Huawei driver initializing"

commit b715701ff4387d55e7eb4c301a0edea92fa4e0e8
Author: Bill Owen <billowen@us.ibm.com>
Date:   Fri Sep 27 11:22:57 2013 -0700

    Set vol driver initialized before deleting volumes
    
    Move the call to set_initialized before calling delete_volume in
    init_host.  The delete_volume method has a precondition that the
    driver be initialized.
    
    Closes-Bug: #1232177
    
    Change-Id: Ie73bd30e0ab80d489ab61ba8a60fac51ccb505b5

commit 59cb2be6135096487f975924b93b6b8e8adc0dd0
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Wed Sep 25 02:07:05 2013 +0800

    Add error logs for Huawei driver
    
    Log some errors to avoid losing the exception messages.
    HVS driver do repeated judgements for JSON results, here add error
    logs and replace these judgement codes with a assertion function.
    
    fixes bug 1229877
    Change-Id: Icd1e859566e07c0f02aa0b2d5c136a2048524527

commit 4e27ca1dd67b57d1bec20a56b6b090701a172c43
Merge: 6a2ee07 c77868f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 26 00:27:45 2013 +0000

    Merge "Pass correct args to vol_rpc create_volume calls"

commit ca1fa01c58b3cc9e374669a92febb467de0f9edd
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Sep 25 14:48:16 2013 -0700

    Clean CONF out of brick exception
    
    This is part 3 of the work needed to
    remove CONF from the brick subproject.
    
    This patch removes the CONF usage in
    the brick exception.
    
    Fixes bug #1230066
    
    Change-Id: Id1ad704a613bc7e2657a65407932a8ef3706bf92

commit 6a2ee07abdf9793eaded28813290e1eb09c82f54
Merge: 1094467 5daf209
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 20:58:51 2013 +0000

    Merge "Sync gettextutils from oslo"

commit a1a898c4667b8e99d733f1391e0d325c8ce6e187
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Sep 24 22:07:55 2013 +0000

    Fix translation of CinderExceptions in REST API
    
    When creating a Fault from a CinderException wrapped in an
    HTTPException, we were converting the inner explanation to unicode
    before it was able to reach the Fault's call() method which is where
    translation occurs, and unicode objects can't be translated.
    
    This patch preserves the CinderException's Message object and puts it in
    another Message object as the explanation to the HTTPException so it can
    be translated.
    
    Fixes bug: #1229967
    
    Change-Id: Ida71908b639da32b4b85846a117ef21da2fe685b

commit 63fc867ab709a20c3417cada12b327774bf612e6
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Sep 25 15:43:32 2013 -0400

    Allow upgrade from Grizzly with ThinLVMVolumeDriver
    
    In Grizzly, LVM thin provisioning was used by setting
    volume_driver=...ThinLVMVolumeDriver.  In Havana this
    functionality has moved under the standard LVM driver
    with the option "lvm_type=thin" used to enable it.
    
    We should account for the old volume_driver class path
    so that the volume service behaves as expected for users
    upgrading from Grizzly ThinLVM configurations.
    
    Closes-Bug: #1231116
    Change-Id: Ic29f0e5c1036232078af5c6d83c61c75a35cccd4

commit 6b418fe7ee62dd98b620edb989e49a095393860f
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Thu Sep 26 01:17:09 2013 +0800

    Use module units for some drivers
    
    Use module units instead of number for some drivers.
    
    Change-Id: I429590b6955f56d7ba9687b6898808a3f3bc3796

commit cdcece14267560eb2641a2cab1f187897ed25ed2
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Thu Sep 26 00:00:20 2013 +0800

    Get host group id when Huawei driver initializing
    
    Get host group id when Huawei driver initializing to make sure
    host group id won't be None after cinder node host sys reboot.
    
    fixes bug 1230372
    
    Change-Id: Ia3d5de116804930b2bb0035e4c991ebb9801ee76

commit 1094467f9b5f6c929cce5aea435aa6faa066d4d7
Merge: c044dd5 863ae9f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 10:11:47 2013 +0000

    Merge "LVM volume_clear: error on unexpected inputs"

commit d534811cbcfe591688b5e9c6becbed2224be3c31
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Sep 25 08:41:21 2013 +0300

    Fix mandatory and optional args for create_volume
    
    Calls to create_volume (both volume_rpcapi and scheduler_rpcapi) pass
    mandatory args as optional and reverse. This patch fixes the calls to be
    according to the function definition.
    
    Also, fix the call to create_volume in the migration code where
    allow_reschedule defaults to True, but we don't pass request_spec so it
    prints a warning and disables it.
    
    Change-Id: I9509f88866e0ae182f90ebdfca1fcf415ca60d19
    Closes-Bug: #1230069

commit c044dd5d28f37f674ea69a65d5af7432c8fe621a
Merge: 1874d91 f4dc301
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 07:48:48 2013 +0000

    Merge "Revert "Fix volume_rpcapi calls for chance/simple scheds""

commit 1874d913ecbf8f09809992c98496365327905211
Merge: 7286b25 5bac47a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 06:36:57 2013 +0000

    Merge "Fix processutils.execute errors on windows"

commit c77868f44b1e72be2b65f697a1f0f3b32126e581
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Sep 24 20:55:04 2013 -0700

    Pass correct args to vol_rpc create_volume calls
    
    In the chance and simple scheduler, create volume was originally using
    snapshot_id and image_id for request_spec and filter_properties. This
    corrects that by passing the correct arguments and keyword arguments to
    create_volume.
    
    Change-Id: Icbcfbfb28f36e1f75519bf5ad6fcbcc12a9b4ec1
    Closes-Bug: #1212710

commit 7286b25aae1ec2171e6ac1fb8bd6f3319bbe2593
Merge: b34474c 04608f9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 03:06:24 2013 +0000

    Merge "VMware: Handles no datastores case"

commit b34474c54edcac192c02f3505de35fc87300992d
Merge: e0d8ee1 8bfe919
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 00:08:51 2013 +0000

    Merge "Fix NetApp iscsi drivers for cinder backup"

commit e0d8ee1d650f27ea6e18a62e154ea453c293e01a
Merge: 5ffbe20 efd82e0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 00:08:49 2013 +0000

    Merge "Fix check for mount.nfs helper installation"

commit 5ffbe20eef04ac747f2499de84a3f45196a432fe
Merge: 0db3122 64f24b9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 00:08:46 2013 +0000

    Merge "Allow v2 Volume API to create volume with type name"

commit 0db31225e17870047e006e66919e728c637327bf
Merge: bedcc2d b72d7ff
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 25 00:08:44 2013 +0000

    Merge "Update rootwrap with code from oslo"

commit 5bac47ae22ff1dd1e9f1ec8617f723475281188b
Author: Alessandro Pilotti <apilotti@cloudbasesolutions.com>
Date:   Wed Sep 25 02:30:33 2013 +0300

    Fix processutils.execute errors on windows
    
    Added a check for existence of geteuid.
    
    This fix is related to oslo-incubator commit:
    d6a963e911b8456c06dceb5ee3cc88a70c08bf82
    
    Fixes bug #1209410
    
    Change-Id: Idd716a2104ba3fa24610825ce4bf9c8e2c6d490b

commit bedcc2dac8ed97fd430abc1c8abdf68a4b199850
Merge: 38ab964 baec89a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 24 23:28:56 2013 +0000

    Merge "Added mapper for update_all on snapshot_metadata"

commit 5daf209c0c8df4df7d443a41b49af3729f7e4147
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Sep 24 22:17:05 2013 +0000

    Sync gettextutils from oslo
    
    Add type check for Message params when setting locale to avoid
    AttributeError.
    
    Fixes bug: #1229364
    
    Change-Id: I6fe55ebc4eea5fef1d335ad83a84c4879f7f06f9

commit 38ab964dca01e5bb6a28106f03f943e3088cc63c
Merge: c07a31d 92ec61c
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Sep 24 19:29:19 2013 +0000

    Merge "Imported Translations from Transifex"

commit 863ae9f484089aa5d9e576255b39288da82c1100
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Sep 13 16:56:44 2013 -0400

    LVM volume_clear: error on unexpected inputs
    
    Currently if a user configures
    volume_clear='non_existent_volume_clearer' in cinder.conf,
    the LVM driver will silently delete a volume and not wipe it.
    
    Instead, the delete operation should fail, leaving the volume
    in the 'error_deleting' state.
    
    Also fail if the volume reference does not contain either a
    'size' or 'volume_size' field.
    
    Closes-Bug: #1225194
    Change-Id: I78fec32d7d5aeaa8e2deeac43066ca5e2e26d9ca

commit f4dc301efda13a6a1769b071b1955a4869110b98
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Sep 24 13:49:26 2013 -0400

    Revert "Fix volume_rpcapi calls for chance/simple scheds"
    
    This reverts commit d5cd6528f361979b073aabd036be0d28dc1c4b95.
    
    Closes-Bug: #1229867
    
    Change-Id: Iee866ddb08d52642bc36bd6ae82bd0d7283cad8e

commit c07a31d122ccc6db01c28138d9cedafec446e117
Merge: e099d39 d5cd652
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 24 17:11:11 2013 +0000

    Merge "Fix volume_rpcapi calls for chance/simple scheds"

commit e099d391fc84dc4dcb8cbd75fd96cf9740b2bb61
Merge: 974f99b 00d8915
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 24 17:00:32 2013 +0000

    Merge "Specific /usr/local/bin/hus-cmd rootwrap filter"

commit 36fab5ae26579c3cc68ef4ca02bdab3c232ce648
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Mon Sep 23 17:58:54 2013 +0300

    Fix finish_volume_migration() on SQLAlchemy 0.8.x
    
    In SQAlchemy 0.8.x "Unconsumed column names" warning became
    an exception, so refering to a non-existent column in insert()
    or update() call raises an error.
    
    finish_volume_migration() calls Session.update() method passing
    values of two non-existent columns as arguments (volume_metadata,
    volume_admin_metadata, volume_type). These two are not table columns
    at all, but rather SQLAlchemy models relationships.
    
    As SQLAlchemy ORM implements Unity of Work pattern, we should not
    really track changes to a model instance manually at all, because
    Session class already does it for us. finish_volume_migration()
    is refactored to take benefit of this fact.
    
    Fixes bug 1206561
    
    Change-Id: I4513e3155a7dc6dcbd1c95aa9c14d1e1e5d02ab4

commit 04608f9126d2bc34abff7a80afe7ad1a39679a04
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Tue Sep 24 03:58:10 2013 -0700

    VMware: Handles no datastores case
    
    If the host does not have datastores mounted or is in maintenance mode
    then it reports empty datastores list. Modified code to ignore such cases.
    
    Fixes bug: 1229653
    
    Change-Id: I8f076d7b652181988b45738664a0d549c0b5ff9b

commit 974f99beda164d145a191722f531a28bb7ff66fc
Author: Chang Bo Guo <guochbo@cn.ibm.com>
Date:   Tue Sep 24 02:05:35 2013 -0700

    Fixes some typos in cinder
    
    Just some typos
    
    Change-Id: Ic0d99d2ec2152145e0c58b8792f630cacdb7ac87

commit b72d7ff9b5b983fe81fb82ecb4ccb2369ad80518
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Tue Sep 24 09:39:45 2013 +0800

    Update rootwrap with code from oslo
    
    These are all minor changes bringing cinder up to commit c03f247
    
    c03f247 Skip hidden files while traversion rootwrap filters
    3f4d1d5 Fix os.getlogin() problem with no tty
    fc04531 Send rootwrap exit error message to stderr
    3663010 rootwrap: improve Python 3 compatibility
    28395d9 Fixes files with wrong bitmode
    
    Change-Id: I3a37f23a2617a7c69bc4be422f3fdcab8833e498

commit 00d891514ae1c8ba134d28434faf4772468c7e39
Author: Thierry Carrez <thierry@openstack.org>
Date:   Tue Sep 24 10:20:56 2013 +0200

    Specific /usr/local/bin/hus-cmd rootwrap filter
    
    Add a specific filter for /usr/local/bin/hus-cmd, rather than adding
    /usr/local/bin to the list of exec_path in rootwrap.conf. This allows to
    sync rootwrap directly from oslo-incubator without having to edit the
    default value for exec_dirs.
    
    Change-Id: Ic264ca248d025fb5496fe0b48e8b3ec9376fb9e2

commit 64f24b9323b0860ddf01bcd012f986c65d2956cc
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Tue Sep 24 16:09:42 2013 +0800

    Allow v2 Volume API to create volume with type name
    
    v2 API only accepts volume type ID when creating volume, while v1
    API allows both volume type name and ID (volume type name is unique
    in Cinder). This patch enables v2 API to accept volume type name
    as create() parameter. Aslo volume type validation code block
    in v1 API create() is refactored to a slimmer version.
    
    Change-Id: I4ee98b67a0a0e98ff4d402749e12b1335d45f64d
    Close-bug: 1228835

commit 180513d5e4ed14e5f14fb8c800a17aa9f1594fb9
Merge: 9bcb728 cbb0571
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 24 06:32:28 2013 +0000

    Merge "GPFS Driver missing clone depth limit for snapshots"

commit 92ec61c7bbefc644432062b25d78d1810817b805
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Sep 24 06:07:55 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I769f3f31c66ad90176bc8d9381aac2539246984f

commit d5cd6528f361979b073aabd036be0d28dc1c4b95
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Sep 23 21:18:56 2013 +0300

    Fix volume_rpcapi calls for chance/simple scheds
    
    Change the chance and simple schedulers to pass the snapshot_id and
    image_id parameters correctly volume_rpcapi, so that their values reach
    cinder-volume.
    
    Change-Id: I0abbca1fa0445c5233387a0f17363fc092d39b88
    Closes-Bug: #1212710

commit 9bcb7289e4f9444a1e76ac557f414f463fc5c684
Merge: 1501898 85b8ef6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 24 05:23:26 2013 +0000

    Merge "Add delete support for volume type encryption"

commit 1501898c1c7fd0fe010c04b03115feee5be64148
Merge: e6f4d33 4cfba80
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 24 03:05:16 2013 +0000

    Merge "Add sg_scan filter to rootwrap"

commit e6f4d339e9bcf5537d997dde297d664a91dbd7fe
Merge: c894ea8 80aa2fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 18:40:52 2013 +0000

    Merge "Fixes vol restore discard final bytes unzeroed"

commit c894ea875d22d03239e315c08bf4e9c740d0d7bb
Merge: 3fc69a1 4d43983
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 18:01:51 2013 +0000

    Merge "Storwize/SVC: Optional CHAP authentication"

commit 3fc69a121f418876356653c315fe55dca07f79fd
Merge: 8cd2462 096b3e2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 18:01:27 2013 +0000

    Merge "Require assisted_volume_snapshots from novaclient"

commit 096b3e23370b8cf649113bee5ff0b3783c422f24
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Sep 3 14:52:03 2013 -0400

    Require assisted_volume_snapshots from novaclient
    
    The "QEMU-assisted-snapshots for GlusterFS volumes" patch currently
    does a try/except ImportError for the new assisted_volume_snapshots
    extension in novaclient.  That functionality is now in novaclient
    2.15.0, so Cinder should consider this a hard requirement rather
    than allowing it to be absent.
    
    Change-Id: I5d5b4918f17f26706bed361cbbe8b369b10b0b98

commit 8cd246224c9d7c0f34b4a366069eb0a6d562e4f6
Merge: 0c57d7e d133424
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 17:04:49 2013 +0000

    Merge "Fix over-indent in compute/nova"

commit 0c57d7e10a1c93152a5a7f1bee4e373cb0a3aa82
Merge: 8b6282f 867b131
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 15:59:01 2013 +0000

    Merge "GlusterFS: Copy snap from correct source file"

commit 8b6282f23048eaafa1fc11a9988a888967fa46c5
Merge: 2eecece f8ac424
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 15:58:59 2013 +0000

    Merge "GlusterFS: Use image_utils for qemu-img calls"

commit d13342409fe1ce981d996e02f48eddf4abc35d6b
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Mon Sep 23 23:51:05 2013 +0800

    Fix over-indent in compute/nova
    
    There are two lines in compute/nova.py that uses 8 spaces indent,
    this simple patch correct those to 4 spaces.
    
    Change-Id: I8f7849385ef59a085b5e3cc45954a2f2a19442ee

commit 2eececeea3065919dbc786c1d2c5c2a355d9a89f
Merge: 48ab3ea 90f2006
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 07:28:08 2013 +0000

    Merge "Add a retry to create_iscsi_target for LVM"

commit 48ab3ea3eb23f9c57caea39a45dfca86b2f5864f
Merge: 2857132 de257d1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 07:28:01 2013 +0000

    Merge "Fix issues with failed lvremove"

commit 28571321af2ddcbe534bf815ed8d886ea672705a
Merge: 7fb4e6a 966a514
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 06:58:49 2013 +0000

    Merge "Add extend to reference LVM driver"

commit 7fb4e6af08b7ebc22aee6c6dd57fe020b89997c7
Merge: 060b9d3 1af8f46
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 06:20:05 2013 +0000

    Merge "NetApp check for 7 mode controller version"

commit 060b9d35a2d93dff9bf706eae8596be37a90febd
Merge: 4925c1a d2479f1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 23 01:37:07 2013 +0000

    Merge "Soft delete tmp migration volume"

commit 4925c1a73a97fe8ab5562aa317326374c9c12ac3
Merge: 6786027 436b28b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 22 16:57:19 2013 +0000

    Merge "Remove default root_helper of sudo for remotefs"

commit 4cfba805fc0311fea3ab5b361233cabe9bc599fd
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Sep 22 14:01:25 2013 +0300

    Add sg_scan filter to rootwrap
    
    The sg_scan command was missing from rootwrap.
    
    Change-Id: I549b51e30c53eb588b02dc0892c8e32d2c66c6bb
    Closes-Bug: #1225102

commit 678602799c1b79439a84c2f7943747de6c88f33e
Merge: f61aeb4 4e3fa39
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 21 04:51:12 2013 +0000

    Merge "Add volume metadata to v2"

commit f61aeb42a3bfa2c42de26747d155ea9591248011
Merge: 93fb1ac f1e67f5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 20 22:15:39 2013 +0000

    Merge "Fix HP3PAR iSCSI path connection"

commit 966a514821738caf7835e7781037a04454e3299d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Sep 20 21:30:36 2013 +0000

    Add extend to reference LVM driver
    
    Somwhere along the way we somehow dropped
    or missed implementing the extend functionality
    in the reference LVM driver.
    
    Add it.
    
    Change-Id: Ib3efe16252b5efacce253688767df426117b2a44
    Closes-Bug: #1228358

commit de257d1a2b91e8060ff3532ced25cb2a67b14267
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Sep 20 20:55:46 2013 +0000

    Fix issues with failed lvremove
    
    There are some race conditions that
    can cause problems with lvremove commands.  In
    most cases these seem to recover nicely just
    with a simple retry of the lvremove.  Adding
    a udev settle seems to elimate the rest of them.
    
    This is a difficult issue to reproduce, and there's
    a suspiscion that it relates to failed target
    creeates.
    
    The patch adds a catch on the lvremove failure,
    followed by a udevadm settle and a retry of the
    lvremove.  With the setup that I've been able
    to reproduce this issue these changes have eliminated
    any force delete failures.
    
    The other option that had been proposed was using dmsetup remove
    but there are concerns that this may cause problems.
    
    Change-Id: I2a2b0d0f4fefd0daf9424ab96aaf87ba53ebc171
    Closes-Bug: #1191960

commit 93fb1ac66fae8d22f91d46e327f32dda671548f5
Merge: dee4c86 2177cbb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 20 18:13:09 2013 +0000

    Merge "Enforce driver is initialized"

commit 867b131e09a43ba7ed36267dcdec751abd652f14
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Sep 9 18:47:00 2013 -0400

    GlusterFS: Copy snap from correct source file
    
    The GlusterFS driver's copy_volume_from_snapshot was previously
    not parsing the snapshot information to determine which backing
    file to copy from, instead copying from the active file at all
    times.  This would result in the wrong data being supplied when
    a volume is cloned from a snapshot.
    
    Add a test for the copy_volume_from_snapshot method.
    
    Closes-Bug: #1222907
    Change-Id: Ib829ca1a6812b61845f3b2eb9c5507779fa6ec15

commit f8ac42460dca22f83a59097530f73b282129cc2b
Author: Eric Harney <eharney@redhat.com>
Date:   Sun Sep 8 10:18:18 2013 -0400

    GlusterFS: Use image_utils for qemu-img calls
    
    Code added for GlusterFS snapshot support in Havana included
    new code to parse qemu-img output.  This removes this code
    and uses image_utils qemu_img_info instead.
    
    Add test to image_utils for parsing a different style of
    qemu-img info output.
    
    Improve GlusterFS driver test coverage with tests for cloning,
    create from snapshot, and initialize_connection.
    
    Closes-Bug: #1224030
    Change-Id: I8f1811b400c06edb3cd7416c52aa297921841e54

commit 436b28b514806661bcb4afd239923d7a495f795e
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri Sep 20 10:33:54 2013 -0700

    Remove default root_helper of sudo for remotefs
    
    This patch removes the default root_helper of sudo
    for the RemoteFsClient.  We should be using the
    cinder.utils.get_root_helper()
    
    Fixes Bug #1223879
    
    Change-Id: I8ba61cd6ac09b85b9ca924a9cf43c2dcea8e6c15

commit 90f200682c94b1e4b69e04befc045e7ae9111cf7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 19 20:47:22 2013 -0600

    Add a retry to create_iscsi_target for LVM
    
    There's a bug in the tgt driver where under certain
    conditions where a race condition is present that can
    result in tgtadm attempting re-use a target ID.
    
    Testing this it seems that a retry will address this nicely
    and cause tgtd to grab a new target ID and things are ok.
    
    This patch adds a simple check/retry mechanism around the
    iscsi_target_create in the LVM driver to catch this issue and
    deal with it.
    
    There are a number of bugs that it appears can be attributed to
    this, but this patch is associated with the most predominant
    clear cut version.
    
    Closes-Bug #1223469
    
    Change-Id: I5126009f196adcafad55e73ff99a59262dd93dfe

commit f1e67f5140ef35bfa8bef53adbc17d0ef9ddba33
Author: Jim Branen <james.branen@hp.com>
Date:   Fri Sep 20 08:41:44 2013 -0700

    Fix HP3PAR iSCSI path connection
    
    The iSCSI paths are not correctly identified as ‘active’
    when port information is requested from the hp3parclient
    because the ‘active’ value is a Boolean not the string
    ‘true’.
    
    Fixes Bug #1224594
    
    Change-Id: Ib10563cfc31c0628dc8b1edbba246398a3a11f34

commit baec89a1b09fc68d4028c4ff77431b1da17822ae
Author: saurabh <saurabh.chordiya@nectechnologies.in>
Date:   Fri Sep 20 15:36:09 2013 +0530

    Added mapper for update_all on snapshot_metadata
    
    Snapshot metadata controller have action 'update_all'
    but API for this not exposed for both v1 & v2
    
    Change-Id: I4dcd8878a4ed75bd44494fd175bb66df67e54ebc
    Closes-Bug: #1228066

commit 4e3fa390b13d7c0509e72f43c4cf24ca1a6bd14d
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Sep 17 02:41:59 2013 -0700

    Add volume metadata to v2
    
    This exposes volume metadata in the Cinder v2 API. This already exists
    in v1 and was originally suppose to exist back with Grizzly, but appears
    to have slipped.
    
    Closes-Bug: #1227979
    Change-Id: I512dad591d7d491eca54a230d3cc290d9a349e6f

commit 2177cbbe0692d5dadc22a717d46ae0dd755cedaa
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Sep 16 17:05:27 2013 -0700

    Enforce driver is initialized
    
    This updates the volume manager and the
    backup manager to enforce that the driver
    has been initialized.
    
    The managers call the driver in many places
    without ensuring that the driver has been
    properly initialized.   When the driver fails
    inside of do_setup(), the managers shouldn't
    call the driver's set_initialized() method.
    The managers now dump out the exception, and
    exit the init_host, leaving the driver in
    an uninitialized state.
    
    Fixes bug #1225897
    
    Change-Id: I77b947f2a9fbe1b38f321511dba10fcd2fe1fe90

commit dee4c862f241a6f12fdb6f0e7c48b32063ef6fe5
Author: saurabh <saurabh.chordiya@nectechnologies.in>
Date:   Thu Sep 19 23:37:35 2013 +0530

    Added mapper for snapshot_metadata
    
    cinder/api/v2/snapshot_metadata.py exist with all actions
    but mapper missing for it.
    
    Closes-bug: 1227799
    
    Change-Id: I9a95c68a8de620626042951fa15a555621ebbc17

commit beef84841d478de58bc3872d446306ef70093ac8
Merge: 56aea80 204c3a3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 20 00:50:13 2013 +0000

    Merge "NetApp fix create vol different size than snapshot"

commit 56aea80101a31926cce0dd9cc7934d90366f47e7
Merge: 6dda335 04ec96c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 19 23:36:03 2013 +0000

    Merge "Add logging to prior to raising exceptions"

commit 5d499395ac8028f4863e9a892453a197b254d384
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 19 13:05:05 2013 -0600

    Fix type change in bootable setting of volume view
    
    Change Idd47a0a8069ee905b81c7aae562b82767ad91930 fixed a db
    query issue, by removing the image_metadata querie in the get/show
    methods.
    
    The problem however is that we just passed the setting from the volume
    object directly in the summary view builder.  This results in changing
    the type of the value from a string "true/false" to a bool True/False
    which is no good.
    
    This patch converts the object member back to a string like it used to
    be so we don't break any compat or expectations in API behavior.
    
    Fixes bug #1227837
    
    Change-Id: I55c0e25134ae429802ddf313d6d26f1fad19ca94

commit 04ec96cdc95396ba2f35493a632b603d182ab6ae
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Sep 16 15:31:20 2013 -0700

    Add logging to prior to raising exceptions
    
    This patch fixes an issue where exceptions
    happen in the 3PAR drivers and the exceptions
    aren't being logged to the log file.
    
    Fixes bug #1225235
    
    Change-Id: I8ec26fe3bee65106e01e956472e06acf1d5b9f77

commit 6dda3358746289d6e1475779683af22592c217ae
Merge: 166cc00 8e73247
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 19 16:43:06 2013 +0000

    Merge "Pass down root_helper in more cases"

commit 166cc00522d0446f7c26d7e118995d1587a5b883
Merge: 80b98bb 564f8d1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 19 15:18:02 2013 +0000

    Merge "VMware driver: Fix for invalid datastore selection"

commit 80b98bb25e9f0fb4ed878c5c677f6e26b887c46c
Merge: a9a41c7 61135b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 19 15:17:38 2013 +0000

    Merge "remove VolumeNotFoundForInstance class"

commit a9a41c7ea19fd3326991482ac8fc81d6e66176e8
Merge: 26044e7 afe2a21
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 19 15:12:47 2013 +0000

    Merge "Sync gettextutils from oslo"

commit cbb057169094e9d633162cc5645fa19a82325d49
Author: Bill Owen <billowen@us.ibm.com>
Date:   Wed Sep 18 14:30:07 2013 -0700

    GPFS Driver missing clone depth limit for snapshots
    
    GPFS driver is fixed to handle snapshot clones correctly. Previously,
    these were allowed to grow without respecting limit defined in config
    flag gpfs_max_clone_depth.  This change adds the depth check operation
    in create_snapshot.
    
    To ensure that all clone files are cleaned up, the delete_snapshot
    method now marks snapshots to be deleted with ts file extension
    and attempts to delete the snapshot.  If the snapshot cannot be
    deleted because it has clone children, it will be deleted when the
    child is deleted.
    
    Closes-Bug: #1227366
    
    Change-Id: I4fb2a720b55dbe033159e6fb341f6e2f1508776e

commit 61135b6a5f1724888e92471b68f91e4a825bf4f0
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Thu Sep 19 14:37:33 2013 +0900

    remove VolumeNotFoundForInstance class
    
    VolumeNotFoundForInstance class is used only in test_xiv_ds8k.py.  I
    think the exception class that is used only in test code should not be
    defined in cinder/exception.py.
    
    Change-Id: I53512d9b06d48e1fb98ef63eac82c033cec37471
    Closes-Bug: #1227477

commit 26044e7ccdc8ecb2286b676a8d85f0417b256976
Merge: 0a339d4 587a7e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 22:35:07 2013 +0000

    Merge "Fix __init__ methods of brick initiator connectors"

commit afe2a213f7845cc66ca1036784bf7100d9159541
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Fri Sep 6 21:24:33 2013 +0000

    Sync gettextutils from oslo
    
    Some Messages, such as those created from Invalid exceptions, use a
    Message within a Message, and we were only translating the base Message
    but not the Message substitution within.
    
    Also adds test case for cinder case.
    
    Fixes bug: #1221808
    
    Change-Id: Ic3119df23a090cfaa160c1461e955f0af55fe1cf

commit 0a339d42d41c6a5c7454910469a3fa904b776c1b
Merge: a264f88 306dc17
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 21:43:37 2013 +0000

    Merge "Fix huawei driver test issues"

commit a264f886610b28643c0d27401ca7194af8f3bfd1
Merge: 7bf6781 8dc60e9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 21:42:12 2013 +0000

    Merge "fix wrong desciption of monkey_patch config"

commit 7bf678145f2f4aa89188c1413adf1d961f2b5b49
Merge: 501d066 a8fcfdb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 21:42:05 2013 +0000

    Merge "Fixes call VolumeNotFound in the invalid argument"

commit 501d0665d8047ae38dc7bff7825f80294c12a60f
Merge: f711a87 f4058ea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 21:38:15 2013 +0000

    Merge "assertEquals is deprecated, use assertEqual"

commit f711a871e3c0381c8b94597dac869de94986c944
Merge: 9479e27 765e86e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 21:37:27 2013 +0000

    Merge "Use built-in print() instead of print statement"

commit 765e86e72f59994e029ccd1ad5ec3e50170ee128
Author: Chang Bo Guo <guochbo@cn.ibm.com>
Date:   Wed Sep 18 00:00:17 2013 -0700

    Use built-in print() instead of print statement
    
    In python 3 print statement is not supported, so we should use
    only print() functions.
    
    Fixes bug 1226943
    
    Change-Id: I7b2e4d52fe9050f6a67c44e4cc1237a15ea90b23

commit 9479e27761ecf7469c109b51a486ec515165c94a
Merge: 1ed4159 3cc149a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 13:14:15 2013 +0000

    Merge "Fixes call GlanceConnectionFailed in invalid ARG"

commit 1ed41592ed0c99db15aba37bd7d70b5c00dc4a14
Merge: 27d658a 622f10e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 12:08:17 2013 +0000

    Merge "Allow display_name for v2 snapshot-update"

commit 80aa2fb7d6f68c84e731e91bff5d3795626eb8d0
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Tue Sep 17 14:12:01 2013 +0100

    Fixes vol restore discard final bytes unzeroed
    
    When doing a volume restore with Ceph backend to a non-rbd volume
    that is greater in size that the backup volume, we write zeroes
    the extraneous extents but we are not zeroing the final few bytes
    in the case where the destination volume is non-rbd.
    
    Also fixed up internationalisation on a number of log messages.
    
    Change-Id: Iac1ff98a75e9164f8865c2f7d998454205e049d4
    Fixes: bug 1226555

commit 3cc149a802346bef063bcb865182e4e21ec8b086
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Wed Sep 18 15:59:28 2013 +0900

    Fixes call GlanceConnectionFailed in invalid ARG
    
    A mapping key of 'netloc' is always ignored. Thus information in
    'netloc' is lost. But because it is included in 'error_msg', I remove
    'netloc=netloc'.
    
    Change-Id: I937044bcca0cb196fcd96cfa421de777713d76f5
    Closes-Bug: #1226959

commit a8fcfdbe8b2f46a100f986eeef5c7d43aef69bb7
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Tue Sep 17 16:08:55 2013 +0900

    Fixes call VolumeNotFound in the invalid argument
    
    A mapping key of 'volume_id' is ignored when we use the non keyword
    argument. Thus information in 'volume_id' is lost.  Similarly, in the
    case of exception.SnapshotNotFound, information in 'snapshot_id' is
    lost.
    
    Change-Id: I1a704cc1866ad9b0d9578e16e77c376a77ea5b3e
    Closes-Bug: #1226442

commit 27d658a57f3d45f13b8ba108a3445bb9f0bc0207
Merge: 1f563d6 f702fe7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 18 05:17:47 2013 +0000

    Merge "Fix secure delete for thick LVM snapshots"

commit d2479f1e88e1eff777afbc922ae1da63afcc7716
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Sep 2 20:23:45 2013 +0300

    Soft delete tmp migration volume
    
    Previously the row for the temporary migration volume was deleted from
    the database, which caused a foreign key violation for its admin
    metadata. Regardless, the volume should have been soft deleted from the
    database anyway, and this patch takes care of that.
    
    Change-Id: I8e4942b0e21ec79c90aa95b18b5612b5b133fd62
    Closes-Bug: #1219097

commit 587a7e35aa7f0c1cccfa366b795424ba55808e1a
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Wed Sep 18 01:22:05 2013 +0400

    Fix __init__ methods of brick initiator connectors
    
    Wrong order of positional arguments in RemoteFsConnector __init__ call.
    This only in RemoteFsConnector.__init__, but I decide also update
    __init__ methods of other connectors to avoid errors in future.
    
    Change-Id: I75d2c2d29e0330536e280614db1a13686cfd15e4
    Closes-Bug: #1226830

commit f702fe7e30e4021895dac8e7ab243e5192f8182d
Author: rackerjoe <breu@breu.org>
Date:   Wed Sep 4 15:31:42 2013 -0500

    Fix secure delete for thick LVM snapshots
    
    This change modifies the behaviour of the secure delete for thick
    LVM snapshots to wipe the underlying COW of the snapshot LV
    instead of the snapshot LV itself.
    
    This change is necessary because the snapshot LV does not contain
    exactly the same number of writable blocks as the original LV.  The
    COW includes header information per COW block that identifies the
    device as a COW device as well as the source and destination blocks
    for the changed item.  The amount of metadata contained in the COW is
    variable based on I/O performed on the snapshot.
    
    This does not change the behavior of secure deletes on thin LVs
    or secure deletes on the thick LV snapshot origin.
    
    Closes-Bug: #1191812
    Change-Id: I20e02b6c20d5ac539b5b5469e665fc986180f2e9

commit f4058ea21783ecc1eecb377e88a4f12c03cd2475
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Sep 17 21:26:35 2013 +0200

    assertEquals is deprecated, use assertEqual
    
    Change-Id: I805ff6a68925f9214645c192eb986a70f30bf714

commit 4d43983726f4b5d1d93337be005d9e1c165c4939
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Sep 12 13:50:07 2013 +0300

    Storwize/SVC: Optional CHAP authentication
    
    The Storwize/SVC driver doesn't work with Nova drivers that don't
    support CHAP (e.g., HyperV). This patch makes CHAP optional.
    
    DocImpact
    
    Closes-Bug: #1224334
    Change-Id: I22df4b916b2800a53c1e4968913f7e95965eaf4b

commit 306dc1792dba21e016d319c4a0211e9d4dcc3ad9
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Tue Sep 17 23:53:24 2013 +0800

    Fix huawei driver test issues
    
    Replace "params[params.index('-lun')]" with
    "params[params.index('-lun') + 1]" to get lun ID correctly.
    Replace the invalid controller ID "N" with "B".
    Dict CLONED_LUN_INFO has no key provider_location, delete it.
    
    Moreover, simplify the "if..., elif..." module with "getattr"
    method in fake recv function.
    
    fixes bug 1225884
    Change-Id: Ic4cbf8b07321cdecd6290e8cd90bca1b09dca7fd

commit 1f563d6061f9e8e4dce73fae1c88f559079bcec6
Merge: 2a725ef 3394045
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 17 15:16:02 2013 +0000

    Merge "Set rootwrap_config path to rootwrap.conf"

commit 8dc60e928d35ac29eef62a2d7963059edac55577
Author: Kun Huang <academicgareth@gmail.com>
Date:   Tue Sep 17 13:11:30 2013 +0800

    fix wrong desciption of monkey_patch config
    
    The corrent desciption should be 'Enable monkey patching'
    
    Change-Id: I1ef14be75c1e46fa703bc8da1a68487e16ebd035
    Closes-Bug: #1226190

commit 622f10e87fda5dc439d43543216d953920079282
Author: Ken'ichi Ohmichi <oomichi@mxs.nes.nec.co.jp>
Date:   Tue Sep 17 13:29:51 2013 +0900

    Allow display_name for v2 snapshot-update
    
    According to the comment in the source code, the snapshot-update of
    v2 would be able to allow either "name" or "display_name" parameter.
    And if both paramters are specified, "name" parameter is effective
    over "display_name" like "description" parameter.
    However "display_name" parameter is ignored now, because cinder writes
    over empty dict(update_dict['display_name']).
    
    This patch fixes the problem.
    
    Fixes bug #1226398
    
    Change-Id: Icd48556a26b9346f73b7c1b82ffbcdd469c4d28d

commit 2a725ef15d0d1b0e3c82fcabf65850afce7cc26e
Merge: bd1a848 e54f342
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 16 20:47:21 2013 +0000

    Merge "Fixes ceph volume restore to larger image than source"

commit 8e73247d7ecfbd6bdb924712ba7fe97b85eb6b47
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Mon Sep 16 13:39:20 2013 +0200

    Pass down root_helper in more cases
    
    Change-Id: I3e49764256bb001ccc071c846cd70e4345df017d
    Fixes: Bug LP #1226010

commit 3394045316a113904fef510f2aff7305d2eb0826
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon Sep 16 13:21:34 2013 -0500

    Set rootwrap_config path to rootwrap.conf
    
    Other components set
    rootwrap_config = /etc/<component>/rootwrap.conf by default.
    This commit brings cinder up-to-date with what other
    components are doing by setting
    rootwrap_config = /etc/cinder/rootwrap.conf by default.
    
    A couple of test cases needed to be updated to handle the change
    from 'None'.
    
    Not counting this as a documentation impact as the documentation I
    can find already lists /etc/cinder/rootwrap.conf as the default.
    
    Closes-Bug 1226074
    
    Change-Id: I68dd5fea1895a6365d6c69db0535d081c4a3460e

commit bd1a8482c530376acc5fedbaa46477cc003766ce
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Sep 6 23:26:46 2013 -0400

    Do not use qemu-img --backing-chain or --output=json
    
    Initial code for GlusterFS snapshot support in Havana
    used qemu-img arguments which are too new to run in many
    environments.  Run qemu-img using only arguments which
    will exist on older platforms.
    
    Partial-Bug: #1224030
    Change-Id: I5155dac492da67a951ede978c2c46a54c239eb04

commit 564f8d140fd8a968e55b1aee57200b9f015bee6d
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Tue Sep 3 05:12:33 2013 -0700

    VMware driver: Fix for invalid datastore selection
    
    Added filter to ignore datastores that are not mounted, in-accessible
    and read-only for volume creation. Without this VMware's VC/ESX driver can
    choose such datastore with higher invalid capacity value as returned by the
    server for volume creation.
    
    Also using parent's self.mox object in the test cases rather than creating
    a new mox.Mox obj everytime.
    
    Fixes bug: 1220217
    
    Change-Id: If8319562ddc11fc31eb928b3807aead2b11b94bc

commit e54f34245880c105225675d9fb91d2ad1997f7ba
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Fri Sep 13 15:20:03 2013 -0400

    Fixes ceph volume restore to larger image than source
    
    If a backup is restored to a volume that is bigger than the
    backup itself, which could be the case if --volume-id is
    supplied, we need the option to set extraneous extents to zero
    i.e. set extents after those from the backup to zero.
    
    Change-Id: I3c226b9e7429371f6cd9b9bd81071ff765712975
    Fixes: bug 1225126

commit e34ab12fbf3c06036e8d07dbf702f5c24b5b275c
Merge: 20c798d 53bfde8
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Sep 16 03:14:25 2013 +0000

    Merge "Imported Translations from Transifex"

commit 20c798d7268f81b03e1f941204fcc71cd2e13d29
Merge: 7fbc2d4 37e775f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 16 02:18:02 2013 +0000

    Merge "Use $state_path/conversion for image_conversion_dir default"

commit 53bfde8992e945807aa45f3a1d0d6dd816b5b9a4
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Sep 15 06:07:22 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ibfc1ad7197f940208688d234d859da76344aeaba

commit 7fbc2d4bed736a483848105f9bfde5ff2e06af85
Merge: 1b2ee3b 2cae463
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 13 23:31:07 2013 +0000

    Merge "nms.folder.create_with_opts not supported on Nexenta 3.1.4.2"

commit 1b2ee3baabfe0dd12e26cf6afc08386b0dcc8cab
Merge: 9733f7f 39c3002
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 13 19:26:17 2013 +0000

    Merge "Improves the parsing way of ssh returns"

commit 9733f7fec18aa0761ec2a5e1c44c7f465204ecac
Merge: e59fbb0 29c759f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 13 18:49:01 2013 +0000

    Merge "Fix client connection leaks in HP3PAR drivers"

commit 2cae463f18a8a0a579e6dd22ec918af79934ac00
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Fri Sep 13 20:51:14 2013 +0400

    nms.folder.create_with_opts not supported on Nexenta 3.1.4.2
    
    nms.folder.create_with_opts method not supported on early NexentaStor
    version (3.1.4.2). replace if with create_with_props.
    
    Closes-Bug: #1225094
    Change-Id: I0c861ae8d966d53c6484e7ded8cab71f395fa059

commit e59fbb00493dd009d33b5ef3560dd3a85b2793c6
Merge: f275ca3 996f7f9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 13 16:10:15 2013 +0000

    Merge "Fixes the use of exception.InvalidInput with the wrong arguments"

commit 37e775f12592824de17aee73216549bcb182c7cc
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Sep 13 09:43:33 2013 -0400

    Use $state_path/conversion for image_conversion_dir default
    
    image_conversion_dir currently defaults to /tmp.  Using
    $state_path/conversion seems to be a more appropriate default.
    
    Closes-Bug: #1217552
    Change-Id: Iaaa462449a257b1b48fc349399bf409d7301a1e6

commit 39c30022bf4c40240e507059e30d32d1b771a8b9
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Thu Sep 12 22:34:22 2013 +0800

    Improves the parsing way of ssh returns
    
    Huawei driver failed to parse ssh result when firstly logging
    in storage system on paramiko 1.8.0. The update of paramiko
    make the order of ssh returns changed. This patch improves
    the parsing way of ssh returns.
    
    This patch also does some changes for log punctuations.
    
    fixes bug 1224499
    Change-Id: Ia8761081dff998884f45312355b62aa27ab5417c

commit f275ca3d769d870d69adc2d43c7e31f41c1eed0c
Merge: cd3c5cf 4fd5f9d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 13 14:37:06 2013 +0000

    Merge "Add default_availability_zone configuration option to cinder"

commit cd3c5cf9b01660ad15b1e25cc2c01e3d8537277c
Merge: 9c8e46d b3e8cb5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 13 06:14:49 2013 +0000

    Merge "Fixing UnicodeEncodeError against volume creating function"

commit 9c8e46d325eb6f28c77246e3e9274a5c56e9e61b
Merge: 89ac0cb fbbf79f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 13 06:14:42 2013 +0000

    Merge "Turn db model object into a primitive object to avoid error"

commit 996f7f949002d3d23048550b69579889f4e1c5a2
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Fri Sep 13 14:13:53 2013 +0900

    Fixes the use of exception.InvalidInput with the wrong arguments
    
    A mapping key of 'message' in exception.InvalidInput is 'reason'.
    cinder/volume/drivers/netapp/iscsi.py and
    cinder/volume/drivers/netapp/utils.py had used 'data'.
    
    Change-Id: Ie40fc2f954984350827414edee9226adc80c8033
    Closes-Bug: #1224790

commit 89ac0cb3e65f25374ca3af0f674e85cb2fbf9e1e
Author: KIYOHIRO ADACHI <adachi@mxs.nes.nec.co.jp>
Date:   Fri Sep 13 11:57:39 2013 +0900

    Remove unused exceptions
    
    Removed the exception classes in the following because not referenced
    anywhere.
    
    InvalidSourceVolume
    InvalidRequest
    PersistentVolumeFileNotFound
    InvalidSnapshotMetadata
    InvalidSnapshotMetadataSize
    DiskNotFound
    MigrationNotFoundByStatus
    ClassNotFound
    NotAllowed
    KeyPairExists
    MigrationError
    VolumeSizeExceedsQuota
    Duplicate3PARHost
    BackupVolumeInvalidType
    
    Change-Id: I7165f970752587885430f9d5c813b82b3f06ad70

commit ae75e3f835f20eeb159ea7760238e704a18a805f
Merge: 6a84a0b e29493d
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Sep 12 22:04:32 2013 +0000

    Merge "Imported Translations from Transifex"

commit 29c759f86530f10023cc3185435b5ceb75721c2d
Author: Jim Branen <james.branen@hp.com>
Date:   Thu Sep 12 09:24:56 2013 -0700

    Fix client connection leaks in HP3PAR drivers
    
    In the presence of exceptions, hp3parclient connections
    did not get closed. This fix adds try/finally blocks
    around all client login/logout calls.
    
    Change-Id: I105b06cea5e61f3e9cf0d6e19c7ce430fedad715
    Closes-Bug: 1220948

commit 4fd5f9d68312776d10cc2ef775a76c0f3ece60de
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Mon Sep 9 08:12:27 2013 +0000

    Add default_availability_zone configuration option to cinder
    
    This option is used to specify the default AZ for the whole service. So when
    creating a new volume this value is used to specify the AZ of a volume.
    
    Previously we were overloading the use of the storage_availability_zone option
    which is also used to specify what AZ a service belongs to. We still fail back
    on the storage_availability_zone when creating a new volume if the
    default_availability_zone is not set.
    
    Fixes bug: 1221260
    
    Change-Id: Iec381f50c9aeb4a0abbcaa1d7b0107de09a73544

commit 6a84a0b68d3b8b7de19e3df691b4816089a11a36
Merge: d3dde4e 4227b12
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 12 06:56:55 2013 +0000

    Merge "Catch generic exceptions"

commit e29493d7f2fd2ab80a8cf5b93448503dcc8311e4
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Sep 12 06:07:15 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I59fa38bd6d5ae872c05af5935e919351c83ffe41

commit fbbf79f6cadbb1d2b7ce615e9fdb9a0e0f114729
Author: Zhi Yan Liu <zhiyanl@cn.ibm.com>
Date:   Tue Sep 3 22:40:49 2013 +0800

    Turn db model object into a primitive object to avoid error
    
    In volume API controller we need turn db model object into a primitive
    object to avoid error when it adding visible administrator metadata to
    volume's metadata dict.
    
    Fixes bug: 1220232
    
    Change-Id: I5f6c4fc8dd6ca3af02db577b37dcaeee92bb42e5
    Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>

commit 4227b128a42a1c5785ac13245de511fbcd358e37
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Wed Sep 11 19:36:18 2013 -0700

    Catch generic exceptions
    
    When the driver copy_image_to_volume fails it can
    at the current time raise more than just CinderException
    as its root exception type. This causes rescheduling due
    to the blacklisted exception list that is used to determine
    if a exception is 'bad enough' to trigger rescheduling or
    should the volume creation action just set the volume to
    error state.
    
    To avoid the situation where this would cause a rescheduling
    we should make sure (for now) that any exception that is
    emitted on copying an image to a volume is translated
    into a image copy failure and reraised.
    
    Fixes: bug 1224211
    
    Change-Id: Ia4a0a81d9e0967b1e7de07577d77084462304c60

commit d3dde4e458a209e0f1e1c8dde55d6eda38e482a5
Merge: 21dc739 0416e51
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 12 00:12:19 2013 +0000

    Merge "Fix typo in cinder.tests.test_create_volume_flow"

commit 85b8ef62da3ae13923ebf449da3dcb3da224adb1
Author: Brianna Poulos <Brianna.Poulos@jhuapl.edu>
Date:   Tue Sep 10 13:12:32 2013 -0400

    Add delete support for volume type encryption
    
    This modification adds delete support to the volume type
    encryption API extension.  The delete operation is not
    permitted when the encrypted volume type is in use by an
    existing volume.
    
    Change-Id: Ic490fd3f0f1b1282cd24c65886c92beb88d30560
    Implements: blueprint encrypt-cinder-volumes

commit 21dc739945494722e73cdc96f2ef88d08a3552f4
Merge: fafa20f ca85d23
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 11 16:49:25 2013 +0000

    Merge "Fix deleting qos specs key"

commit fafa20fc5bdddcddaac45d15608d7874cde78a51
Merge: 841cb94 1d95920
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 11 15:50:47 2013 +0000

    Merge "Adds Dell EqualLogic volume driver for Cinder"

commit 841cb941a78d040e9f2ae5d6560c8fdec9957645
Merge: ff4b0a0 fe24e99
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 11 14:24:07 2013 +0000

    Merge "Move novaclient to requirements.txt"

commit ff4b0a0562fa17b521f443038e3aa66a121591db
Merge: a67390d 146a80f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 11 14:24:04 2013 +0000

    Merge "fix missing unit in log message"

commit 1d959200826a54b9f3e0e662a33d5f8386998ac9
Author: Alexander Gordeev <agordeev@mirantis.com>
Date:   Fri May 31 13:22:38 2013 +0400

    Adds Dell EqualLogic volume driver for Cinder
    
    Change-Id: I9668c99de5e14b6a94a52f3ef0cbb8a8d7e18b85
    Implements: blueprint eql-volume-driver

commit a67390dba76d50baf52d2ef34ac5ca76d9158ec0
Merge: 93b9045 c5060dd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 11 12:29:39 2013 +0000

    Merge "Fixed erroneous force full copy in ceph backup driver"

commit 93b9045f9fe3c186c273717fc46025febb3eda16
Merge: 6ae44d9 688c515
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 11 11:16:30 2013 +0000

    Merge "NetApp NFS efficient clone_image impl"

commit b3e8cb5b4236c39126d445c7645aed2922ab3991
Author: Xiao Chen <chenxiao@cn.ibm.com>
Date:   Wed Sep 11 14:37:16 2013 +0800

    Fixing UnicodeEncodeError against volume creating function
    
    When creating a volume with non-English characters and there is
    not enough space for it, then an UnicodeEncodeError occurs. So
    we need convert any coded exception message to unicode string
    for logging.
    
    Fixes bug 1223128
    
    Change-Id: If1d4faad2bcde696f20565deb01226de33caccad

commit ca85d237e236f46881dc2c57a589a33e4605917d
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Tue Sep 10 16:39:52 2013 +0800

    Fix deleting qos specs key
    
    Previously deleting a key in certain qos specs was accomplished via
    'update' API. Unfortunately, 'update' isn't able to tell the
    difference between setting a key with no value and deleting a key (and
    its value).
    This change adds an new API 'delete_keys' to qos_specs API extension.
    'delete_keys' API allows client to specify a list of to-be-deleted keys
    in one single request (batch mode!), which can be handy when removing
    multiple keys in a qos specs.
    
    Example URL and request body for 'delete_keys' API:
     PUT to http://127.0.0.1:8776/v2/qos-specs/QOS_SPECS_UUID/delete_keys
     with body: {'keys': ['foo', 'bar', 'zoo']}
    
    Above example request will result in 'foo', 'bar', 'zoo' key/value
    pairs of QOS_SPECS_UUID be marked as deleted in DB.  If QOS_SPECS_UUID
    doesn't exist, a 404 error will return; if any key in 'foo', 'bar',
    'zoo' couldn't be found in QOS_SPECS_UUID, a 400 error will return with
    error message telling which key couldn't be found. Note that Cinder
    will puke 400 and stop trying the rest once it encounters a
    non-existing (or deleted) key amoung the given list of keys.
    
    This change also fixes 'list'/'show' API includes deleted keys in
    result.
    
    Fix bug: # 1223660
    Fix bug: # 1223677
    
    Change-Id: Ia3cb07e204d655a9b837b317ce7117feb3c86a2d

commit fe24e99e059fe89785bb47b6f73b921b994999cb
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Sep 10 22:44:08 2013 -0400

    Move novaclient to requirements.txt
    
    novaclient is a runtime requirement in Havana both for volume
    migration and qemu-assisted-snapshots.
    
    Closes-Bug: #1223484
    Change-Id: Ie7e8be2d0edf00cdb04f980a6aa247e04807bf67

commit 146a80fbaee58d0870fa08949d0160eb0707da30
Author: Kun Huang <academicgareth@gmail.com>
Date:   Tue Sep 10 23:34:26 2013 +0800

    fix missing unit in log message
    
    Bad log message:
        "extend volume 1 to 2"
    Correct one:
        "extend volume 1 GB to 2 GB"
    
    (also update my profile in .mailmap)
    
    Change-Id: I6d229c4440f2f5443b45a10f3912c20e21c63f32

commit 6ae44d99fe1d1a8355ea3e5400be5ba894c82361
Merge: c128a61 870e984
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 10 22:33:47 2013 +0000

    Merge "Add check for qemu-img to image_utils fetch_to_raw"

commit c128a61a8b391bce0e094503580112757ada3293
Merge: 78544f8 4ea6dfd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 10 19:23:14 2013 +0000

    Merge "Fix bug in Nexenta NFS driver _do_create_volume"

commit 870e984274d9e8d452e7aa383b289955b6896f28
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon Aug 12 12:55:48 2013 -0500

    Add check for qemu-img to image_utils fetch_to_raw
    
    Some platforms, particularly PowerPC systems running RHEL,
    do not have qemu-img installed by default and do not
    support image formats other than RAW.  For these systems,
    functions/drivers that use fetch_to_raw() currently fail
    because it is assumed that qemu-img will always be installed.
    
    This change updates fetch_to_raw() to function more like the
    upload_volume() function which checks the image format and skips
    any conversion if the image is already in the RAW format. To
    minimize the impact upon platforms that have qemu-img installed
    this is being implemented by checking to see if qemu-img is
    installed.  If it is installed, no changes are made to the flow
    through fetch_to_raw.  If qemu-img is not available and the image
    format is not already RAW, an exception is thrown.  Otherwise,
    the image is downloaded and we do not progress to the portions of
    fetch_to_raw that require qemu-img to be installed.
    
    This commit also updates the test cases that touch this code.
    
    Closes-bug: 1200800
    
    Change-Id: I34540dfa238a8b8e61ff5c30c7e121130bad39b4

commit 45a3b4471da7e49b727a033bd20bfff5535bef55
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Sep 10 17:26:26 2013 +0200

    Changed header from LLC to Foundation based on trademark policies
    
    Fixes: Bug 1214176
    
    Change-Id: Ieda1a75992abec647c267faa7727f5da4f7a88a3

commit c5060dd0e796ac92ecb2b5d75f9e700509827806
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Fri Sep 6 20:40:38 2013 +0100

    Fixed erroneous force full copy in ceph backup driver
    
    The following steps should not result in a forced full copy:
    
    1. create vol
    2. create backup (works fine i.e. uses incremental diff)
    3. delete backup
    4. create new backup (full copy forced because volume backup-snap exists and is not ignored)
    
    This patch resolves the above problem.
    
    Change-Id: I61c245219f54f7ee942e06e343c5d79d4cab947b
    Fixes: bug #1221836

commit 78544f80fac264cfc249962d7439e7a612db887a
Merge: d7b85a5 587eb5a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 10 12:01:56 2013 +0000

    Merge "Call to_primitive on volumes.rpcapi.create_volume"

commit 587eb5a6b9acc9f02eee1147dbaafb3782c295d5
Author: Flaper Fesp <flaper87@gmail.com>
Date:   Wed Sep 4 13:29:22 2013 +0200

    Call to_primitive on volumes.rpcapi.create_volume
    
    cinder.volume.rpcapi.create_volume does not convert the request_spec to
    primitive before casting the request. This makes requests containing non
    primitive types to fail. For example:
    
    cinder create --metadata=Type=test --source-volid $VOLID 1
    
    This will create a new database record and call create_volume on
    volume.rpcapi.  This will fail because VolumeMetadata won't be
    serialized correctly when calling cast. This, however, is not True when
    --source-volid is not passed because in such case,
    scheduler.rpcpai.create_volume will be called, which converts
    request_spec to primitive correctly.
    
    Closes-Bug: #1213964
    Change-Id: I096d815254c9782390fba05ea9cd9af925635402

commit 0416e5124307433c4cb8333ab5636490db84fada
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Mon Sep 9 22:18:33 2013 +0800

    Fix typo in cinder.tests.test_create_volume_flow
    
    Mock is 3rd party so should be placed after 'time' package.
    Changed sheduler -> scheduler
    
    Change-Id: I9c8ef7980c0444a725232d03c29b39d4805586ff

commit d7b85a51885d0804a1363b6e4903f269ce690c38
Merge: a529baf 5aa6ca2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 10 06:17:06 2013 +0000

    Merge "Fix Qos Specs association corner case"

commit a529bafba9e7f21e1cd20471ef94882841f1b236
Merge: f2c5016 6956065
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 10 05:43:08 2013 +0000

    Merge "fix log string in conversion type"

commit 5aa6ca2e80631a32e429bcacbd031ddaa6e5bfb1
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Mon Sep 9 14:53:37 2013 +0800

    Fix Qos Specs association corner case
    
    Fix a corner case in associating QoS Specs with Volumt types that was
    not handled well: Raise HTTPBadRequest() to client if associate volume
    type, which is already associated one qos specs other than specified
    qos specs.  Previously such operation will proceed without error which
    results overwriting original association.
    
    Also refactor DB API volume_type_qos_specs_get() to return qos specs
    in consistent dict format as other qos specs related APIs.
    
    Fix bug: # 1222692
    
    Change-Id: I9db66d1e3a7469620ba542f5387422685a2d828f

commit f2c50166f94bc22f02311a9ca19ebebf26547d13
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Sep 9 14:43:59 2013 -0700

    Fixes pep8 violation in nova
    
    This patch fixes a simple pep8 violation
    that nova complains about.
    
    Fixes Bug #1223046
    
    Change-Id: I6f06939e3729b64fcefc5cdb20da05e7d3172be5

commit 4ea6dfd0b1140e437703128bf52d65dbd2751751
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Sat Sep 7 02:18:48 2013 +0400

    Fix bug in Nexenta NFS driver _do_create_volume
    
    Fix bug in _do_create_volume method of Nexenta NFS volume driver.
    NMS call nms.folder.create doesn't support third argument, that is why
    this call changed to nms.folder.create_with_opts.
    
    Closes-Bug: #1221946
    Change-Id: I712ee2919f1bd117e7a1691979639689d95adc92

commit 83cb5b1cfc62c6b5567d738d9cdf12435d20745f
Merge: a6b7a64 0278a38
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 9 16:22:03 2013 +0000

    Merge "Restrict Volume type deletion with volumes assoc"

commit a6b7a6457dcf0ad84c5b36852b2ac0000e140444
Merge: e7168b8 207a782
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 9 12:55:53 2013 +0000

    Merge "Replace assertEquals with assertEqual - 2/2"

commit e7168b85e8a376b05f95c58b697bab166c15abe2
Merge: 31b8b85 e0bc432
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 9 09:13:05 2013 +0000

    Merge "Send notifications when extending volume"

commit 31b8b85b7cebc19c3a037a5d9e2a618e63172001
Merge: 422c306 d6dc5cd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 9 09:03:09 2013 +0000

    Merge "Check cinder-backup service before "backing-up""

commit 422c3065f85b0fc126065ac47bfd63542bb7600c
Merge: e6cc0bc d552220
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 9 09:02:28 2013 +0000

    Merge "Do not attempt vg.update on uninitialized vg"

commit e6cc0bc78ff4c5f76edee7d17a90de2775b0f988
Merge: 24cbfb3 7f1b094
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 9 09:02:26 2013 +0000

    Merge "Replace assertEquals with assertEqual - 1/2"

commit 0278a38153f9649aab1cc641bfabd8d5738d2d8c
Author: Swapnil Kulkarni <swapnilkulkarni2608@gmail.com>
Date:   Mon Sep 2 22:06:02 2013 +0530

    Restrict Volume type deletion with volumes assoc
    
    Updated volume_type_destroy method to throw exception
    for volume type delete with associated volumes.
    
    Updated volume_type unit tests
    
    Closes-Bug: #1215329
    
    tag:doc-impact
    
    Change-Id: I7a5d4b473588757d21b461337df493e8046e1d09

commit 207a7825fbcc69c4c3d4bfefd8e9c33978162ed9
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Aug 16 09:55:54 2013 +0800

    Replace assertEquals with assertEqual - 2/2
    
    The method assertEquals has been deprecated since python 2.7.
    http://docs.python.org/2/library/unittest.html#deprecated-aliases
    
    Also in Python 3, a deprecated warning is raised when using assertEquals
    therefore we should use assertEqual instead.
    
    This patch replaces the remaining assertEquals to assertEqual
    
    Change-Id: I4e726ce414382e0d5bf982fad20363d61e00967a

commit d6dc5cdfa40c3a3aff9bca601968e1fb717c8b2b
Author: Ken'ichi Ohmichi <oomichi@mxs.nes.nec.co.jp>
Date:   Thu Sep 5 13:12:38 2013 +0900

    Check cinder-backup service before "backing-up"
    
    If cinder-backup service is not enabled, "cinder backup-create"
    command fails like the following. As the result, the volume status
    has been changed to "backing-up" in spite of not backing-up.
    
    $ cinder backup-create f48aa6ae-4c35-4a6a-a393-5a5cf610945a
    ERROR: Service cinder-backup could not be found.
    $ cinder list
    +--+------------+--------------+------+-------------+----------+-------------+
    |ID|   Status   | Display Name | Size | Volume Type | Bootable | Attached to |
    +--+------------+--------------+------+-------------+----------+-------------+
    |..| backing-up |   vol-test   |  1   |     None    |  False   |             |
    +--+------------+--------------+------+-------------+----------+-------------+
    $
    
    To avoid this situation, this patch moves the cinder-backup check
    before changing a volume status to "backing-up".
    
    Fixes bug #1221012
    
    Change-Id: I42ad41e1cfb6fdb7feebe39a9a5f0356a41d7838

commit d552220a83052daabe19682b531bc6b8e685a834
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Sep 6 13:55:39 2013 -0600

    Do not attempt vg.update on uninitialized vg
    
    It's possible for the scheduler to send the periodic
    stats update request *before* the volume service/driver
    has finished initializing, resulting in an exception trace
    being logged.
    
    This change adds a check to verify that the vg is actually
    initialized (completed check_for_setup_error) and it also
    removes all of the duplication of each LVM class driver.
    
    To deal with other drivers that may have similar issues,
    add initialized member to base driver, that member is
    set False on __init__ and is updated by the manager
    after running check_for_setup_error.  We also skip
    update_stats if initialization isn't set True.
    
    Rather than have a separate copy of update_stats in every
    driver, we have one in the base LVM class and we set the two
    unique variables as member parameters.
    
    Fixes bug 1221874
    
    Change-Id: I159e98a77782b8b2c85a8dd956b150828358fd25

commit 7f1b0946a843deec3a4a4a9261456c7432999edb
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Sat Sep 7 15:57:20 2013 +0800

    Replace assertEquals with assertEqual - 1/2
    
    The method assertEquals has been deprecated since python 2.7.
    http://docs.python.org/2/library/unittest.html#deprecated-aliases
    
    Also in Python 3, a deprecated warning is raised when using assertEquals
    therefore we should use assertEqual instead.
    
    This patch is a mere sed replace of one-liner assertEquals to assertEqual.
    
    grep -lR "assertEquals(" cinder/tests/* | \
    xargs sed -ri 's/(\W+self.assertEqual)s(.+)(\)$)/\1\2\3/'
    
    Change-Id: I4feea94d53afa866af9b7e14bd80345fa7276e75

commit 24cbfb3539c91764f92baa801f7ae1f82dc221d4
Merge: fd8de31 3a2db8e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 8 13:34:44 2013 +0000

    Merge "Validate VV Set exists in 3PAR drivers"

commit fd8de317c8ec2f072a9df9c0e9f38c8bc7b3a2f2
Merge: 2a3c6d4 8bb034c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 8 13:29:26 2013 +0000

    Merge "Remove unused/redundant methods in cinder/test.py"

commit 2a3c6d4f5ade6f260d7ba142421bfacf236bc2a3
Merge: 046c4ed 75e39fc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 8 10:27:56 2013 +0000

    Merge "Synchronize extend_volume methods in 3PAR drivers"

commit 046c4ed223f0a60ade90b0fff92625ab7e6a6ab2
Author: Bill Owen <billowen@us.ibm.com>
Date:   Wed Aug 28 14:09:49 2013 -0700

    Add support for LocalConnector type in brick
    
    GPFS and other file based drivers require a LocalConnector to support
    volume connection and migration operations.
    
    Modify brick/initiator/connector.py to add LocalConnector class.
    
    Modify test_brick_connector.py to extend test_factory to include LocalConnector
    class.
    
    Modify test_gpfs.py to include new migrate_volume test.
    
    Modify test_utils.py to extend test_brick_get_connector to include LocalConnector
    class.
    
    Closes-Bug: #1218052
    
    Change-Id: I259fae339c2df7ae304a91c80c27d135762041f5

commit 326ef789e6892dd3520f676fb1e05aeefd7567e8
Merge: 52360d2 bf02cf3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 7 07:40:52 2013 +0000

    Merge "Utilize assertIsInstance"

commit 52360d27b2f4e231902e2b531c8fdc8d06d66cbf
Merge: 6db2531 c960500
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 7 06:40:30 2013 +0000

    Merge "Utilizes assertIsNotNone"

commit 6db25310d0e1b0c4bee4c48997bbf587ae448b10
Merge: 35d17b5 1c12c4d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 7 06:39:44 2013 +0000

    Merge "Remove deprecated assert_() usage"

commit 35d17b564eedaae3e55bdb5a9f4efbff99bacd38
Merge: 8342ee6 193ad79
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 7 06:37:26 2013 +0000

    Merge "fix inconsistent i18n log message"

commit 8342ee6415bc1653c3d48dd11f69b389a189491f
Merge: b2e0f75 9334cc1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 7 04:22:24 2013 +0000

    Merge "Fix error casting value to float in lvm.py"

commit 8bb034cedce78203b60342a825fb5935554ead2f
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Sat Sep 7 10:42:17 2013 +0800

    Remove unused/redundant methods in cinder/test.py
    
    The following methods are not used anywhere in Cinder
    - assertDictListMatch()
    - assertSubDictMatch()
    
    The following methods are implemented in testtools
    - assertIn()
    - assertNotIn()
    
    Change-Id: Iea96f7761c33ac774b5b4ae71e544aa007ba1bb2

commit 9334cc1913a997d462e784429cc491cb0d6c7f76
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Fri Sep 6 21:37:01 2013 +0800

    Fix error casting value to float in lvm.py
    
    Special locale setting may result in that "vgs" command output different
    results. Such as:
    
    $ LC_NUMERIC='es_ES.UTF-8' sudo vgs
    VG #PV #LV #SN Attr VSize VFree
    vg_eharney 1 6 1 wz--n- 465,25g 12,97g
    
    Fix bug 1219963
    
    Change-Id: Ibe79d5ce673738d8e37f86de9106ab347c21bd52

commit b2e0f75ddaea0c12e154432da7a860725af8e344
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Sep 6 12:10:28 2013 +0800

    Fixes misuse of assertTrue in test scripts
    
    Misuse of assertTrue in places where assertEqual should be used.
    
    If assertTrue is used instead of assertEquals, the test will always pass
    if the first argument's boolean cast is True. The second argument
    passed to assertTrue() will be regarded as the error message
    when the assertion fails. Using assertEqual will actually check
    if two arguments are same value.
    
    Fixes bug #1221517
    
    Change-Id: I68f614164803729ea26e65f8868b0031e724d324

commit c960500ecd25a89a4286034f7d0e71353f85ac1e
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Sep 6 12:01:26 2013 +0800

    Utilizes assertIsNotNone
    
    Using assertTrue and the 'is not' operator to test if an element
    is not None is too python2.4. Our unit testing framework supports
    assertIsNotNone, included from python 2.7, which was created
    for these types of tests.
    
    Change-Id: I25c3f2b144357a3f86625deb8e324d78c20b9ce4

commit fcb68592d2d6fae79d749793dc5e38915134604b
Merge: b2e66cb 12f3d78
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 6 03:04:09 2013 +0000

    Merge "Fix brick remotefs dependency on cinder"

commit bf02cf3eefa2d176d146c8d4f5feda3e07cabe8a
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Aug 30 20:50:26 2013 +0900

    Utilize assertIsInstance
    
    Using assertTrue and the 'isinstance' function to test
    if an object is in an instance of some class is too python2.4.
    Our unit testing framework supports assertIsInstance which was created
    for these types of tests. Let's use assertIsInstance for these tests.
    
    Change-Id: I2c931a52ae20f072f53210bf3dedb47127b413c0

commit 1c12c4db4eacdb696437dbd1552c67c7541bfba5
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Aug 30 22:12:29 2013 +0800

    Remove deprecated assert_() usage
    
    The method assert_() is an alias of assertTrue() and
    is deprecated since python 2.7
    
    http://docs.python.org/2/library/unittest.html#deprecated-aliases
    
    This removes all assert_() uses.
    
    Change-Id: I9f55c442cc2416a7aa2dac569d1750f723d95184

commit b2e66cba6d12d9ff762bbae48171d581f21ae2bc
Merge: 4fe60f6 52291d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 6 00:34:00 2013 +0000

    Merge "Added copy-on-write support for all RBD cloning"

commit 12f3d782e6eebc35d9bbde2624ca0d5f10927f27
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Sep 5 10:00:13 2013 -0700

    Fix brick remotefs dependency on cinder
    
    This patch moves an exception from cinder.exception
    into brick.exception to fix an import in remotefs.
    
    Fixes Bug #1221309
    
    Change-Id: I9b060c1e1129b3fe30145227712d0234e0f42504

commit 4fe60f6192abdf154cbf7f65021a47d7e339aa76
Author: Cory Stone <corystone@gmail.com>
Date:   Thu Sep 5 11:27:27 2013 -0500

    Remove quota fetch race condition
    
    When displaying quotas, we shouldn't pull the latest resources
    just to convert the results to the dict.
    
    Closes-Bug: #1220436
    
    Change-Id: Id01a310481353b272e103643d053957b65cd4ce3

commit 75e39fc7b232ac54422ba6a3b5e58308e54297b1
Author: Jim Branen <james.branen@hp.com>
Date:   Thu Sep 5 09:48:43 2013 -0700

    Synchronize extend_volume methods in 3PAR drivers
    
    The extend_volume methods in the HP3PAR FC and
    iSCSI drivers should have been synchronized with
    the synchronize annotation, but were not.
    
    Change-Id: Ic7f18b7314e10dfb499b16f43b72367fe3ed1176
    Closes-Bug: #1220947

commit 65f4f228ef9310ab1c3c3f2ff0f55aaecc27ccf5
Merge: 5994133 d9eb353
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 5 15:32:02 2013 +0000

    Merge "Fix tuple usage error"

commit 52291d6554f2275b228d7039d222bccfab164106
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Mon Aug 12 17:46:38 2013 +0100

    Added copy-on-write support for all RBD cloning
    
    Up till now we only had copy-on-write for cloning from snapshot. This
    change optionally allows clone from volume to use copy-on-write
    instead of a doing a full copy each time. This should increase speed
    and reduce nearterm storage consumtion but could introduce some new
    risks e.g. excessively long clone chains and flatten storms. To avoid
    this, a new config option has been providedons are provided -
    rbd_max_clone_depth - which allows the user to limit the depth of a
    chain of clones i.e.
    
        a->b->c->d as opposed to a->b
                                  ->c
                                  ->d
    
    This will avoid flatten storms by breaking chains as they are formed
    and at an early, predefined stage.
    
    A second option - rbd_clone_from_volume_force_copy - allows the user
    to use a full copy as before i.e. disable COW for volume clones.
    
    Implements: blueprint use-copy-on-write-for-all-volume-cloning
    Fixes: bug #1209199
    
    Change-Id: Ia4a8a10c797cda2cf1ef3a2e9bd49f8c084ec977

commit 59941331f8505e97bef676c6e9a3725e911b1014
Merge: 082a010 04e3c53
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 5 11:24:37 2013 +0000

    Merge "This adds a README to brick"

commit 082a01008a337305e0a46b249dd40832b3c760f2
Merge: 9faa325 b9d33d4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 5 10:00:29 2013 +0000

    Merge "VMDK copy_image_to_volume and copy_volume_to_image"

commit 6956065f0b336c0d4edeba265fae8c9f7cddb736
Author: Kun Huang <academicgareth@gmail.com>
Date:   Wed Sep 4 18:42:16 2013 +0800

    fix log string in conversion type
    
    By using 'grep -rn "%([a-zA-Z_]*) "', we could find all cases of
    '%(variable)'. And we need add an 's' like '%(variable)s'.
    
    Closes-Bug: #1220557
    Change-Id: Ib28b7ddc5e5aabe2b82a499d9c242c1982e7f953

commit b9d33d44cb1456b63f731f23b21245ecaa75f497
Author: Subramanian Neelakantan <subramanian.neelakantan@gmail.com>
Date:   Fri Aug 23 17:49:17 2013 +0530

    VMDK copy_image_to_volume and copy_volume_to_image
    
    Implemented copy_image_to_volume that creates a new volume backing (vm) and
    copies over the vmdk file from the glance image. Only glance images of disk
    format 'vmdk' can be used to create a volume using this driver.
    
    Also implemented copy_volume_to_image that creates a new glance image using
    the volume's vmdk file. The steps involved are to take a snapshot of volume
    vmdk, take a copy of this read only file and upload to glance.
    
    Cleaned up docstrings as pointed out in earlier reviews.
    
    Added timeout to avoid blocking wait on read/write threads and also fixed a
    bug to upload image from copy of vmdk instead of from original vmdk during
    upload to glance.
    
    Implements: blueprint vmware-vmdk-cinder-driver
    Change-Id: I00d22861f4e01ae0862dbf4b60af314c475b7d38

commit 3a2db8e03434c3132d47a7256b9bd085662c5ca2
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Sep 4 15:08:51 2013 -0700

    Validate VV Set exists in 3PAR drivers
    
    The 3PAR drivers must first create a volume and then add that
    volume to a virtual volume set on the backend for QoS support.
    If that predefined virutal volume set does not exists the
    volume would not be associated with the correct QoS settings.
    This patch will now look to see if the virtaul volume set
    exists and if not will delete the volume and notify the user
    that the VV Set does not exists.
    
    Change-Id: I460f6dd7001362b850c49454c78673aecd4cfef0
    Fixes: bug 1218554

commit 04e3c531f718ae83e61c6498a04f6ed7d96632c6
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Sep 4 11:39:52 2013 -0700

    This adds a README to brick
    
    We need to let folks know where brick is
    currently being maintained for the Havana
    release and where to file defects.
    Once this simple patch lands, we'll pull this into
    the Nova patch.
    
    (fix hacking violation in commit message for the 2nd
    time on this patch. To prevent it from blocking the
    merge queue on feature freeze day.)
    
    PLEASE DON'T +A PATCHES UNTIL THEY PASS JENKINS CHECK
    
    Change-Id: I5c4569c1c09751d53817ee9577581e530a3a8352

commit d9eb3535254ca2d198c84cde6b2ea02997ab8808
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Wed Sep 4 12:20:54 2013 -0700

    Fix tuple usage error
    
    The exc_info is just a tuple (captured in taskflow)
    and isn't itself a callable object so we should not
    need to use it like one to extract the exception type
    and value.
    
    Fixes bug #1220867
    
    Change-Id: Ie27d004bad4053baa2ac8eb84bb8b7cdc05a954d

commit 9faa32599cf86c4111d0d6cd0a7c377061f2ee6d
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Sep 4 11:27:17 2013 -0700

    Fixes brick Nova pep8 violation for lvm.py
    
    Running pep8 tests in Nova gives a violation
    in lvm.py for not importing a module.  This
    is a simple fix to import the module itself
    instead of only importing a function in the
    module.
    
    Fixes bug #1220849
    
    Change-Id: Idc603dcfab18601dd4246c623d34be5933434f84

commit 193ad7994d536f644d73849512b574d4f5ee7546
Author: Kun Huang <gareth@unitedstack.com>
Date:   Thu Sep 5 00:36:48 2013 +0800

    fix inconsistent i18n log message
    
    An inconsistent example:
        imessage = _("Invalid metadata") + ": %(reason)s"
    This is not consistent i18n usage. In most of cases, we use _() for
    whole string instead of leaving something out.
    
    More than inconsistent, some text in leaving strings may be not
    translated, for example, ':' in English is different '：' in Chinese.
    
    Change-Id: I00e690021c44f1debbe034cc0837a07b292ffd1b
    Closes-Bug: #1220813

commit 7647ce8c4d3878002ae9898c7449a03fbf6c74b4
Merge: 337f936 f0ab7be
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 4 15:27:18 2013 +0000

    Merge "Use tempfile and cleanup in windows unit test"

commit 337f93658beccf7e8715e8c037b858021f205a59
Merge: f15fbca 4a028e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 4 15:27:16 2013 +0000

    Merge "Add view builder to QoS specs API extension"

commit f15fbca5993b8efc638531c75e49a4267f3cc36f
Merge: c4e10a4 2f4e9b2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 4 15:27:13 2013 +0000

    Merge "Fixes cinder-volume service startup on Windows"

commit c4e10a4b9dae601f46180d6bdbb17e82b66113cb
Merge: 5319a2e 03a41f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 4 15:22:37 2013 +0000

    Merge "QEMU-assisted-snapshots for GlusterFS volumes"

commit 5319a2e6176640773e701835ac998c8d47817505
Merge: e5b6d4d c494c7d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 4 14:41:24 2013 +0000

    Merge "extract 'limits.' to constant for ratelimiting logic"

commit 03a41f863b160384593ef8df130f369a0c22d393
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Aug 19 00:21:54 2013 -0400

    QEMU-assisted-snapshots for GlusterFS volumes
    
    Coordinate with Nova to create and delete snaphots for
    GlusterFS volumes that are attached to VMs.
    
    Cinder is responsible for creating a QCOW2 file which Nova
    will activate in the VM's snapshot chain when a snapshot is
    created.
    
    When a snapshot is deleted, Cinder will request for Nova to
    perform a block commit/rebase operation to logically delete
    the snapshot from the QCOW2 chain.
    
    Implements blueprint qemu-assisted-snapshots
    
    Change-Id: I4a7f0c1bc08d88b0f75d119168dd2077487a62a0

commit 4a028e3f3307ef4cfdc4fe0cd6be50f408a84fef
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Fri Aug 30 22:28:52 2013 +0800

    Add view builder to QoS specs API extension
    
    Add view builder for qos_specs.create(), index(), show() and associations()
    to in order to make the response more easier to be consumed by client.
    
    This patch also:
      fixed circular reference error when raising HTTP exception.
      fixed some typo in debug message and removed unused imports.
    
    fix bug: # 1219016
    
    Change-Id: I107888e6b4dac8eb5f1b45a87721a7b5efc45632

commit e5b6d4d82c9f225911c549022820f0c76576cfd3
Merge: 4cab2eb 2f90713
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 4 01:43:34 2013 +0000

    Merge "Add features to Zadara Storage Cinder driver"

commit 4cab2eb5c385a469cee08d1504695e9e5c809c8b
Merge: 1428e6f 29e889b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 4 01:43:32 2013 +0000

    Merge "Set vg_thin_pool to pool name instead of pool_path"

commit 2f907133aeaee09f58be30e75089c23b13573500
Author: Vladimir Popovski <vladimir@zadarastorage.com>
Date:   Fri Aug 16 04:34:54 2013 +0000

    Add features to Zadara Storage Cinder driver
    
    - move to Zadara APIs 13.07
    - added support for extend volume
    - added support for create/delete snapshot
    - added support for create clones from volumes and snaps
    - added support for multi-backend
    - added volume stats
    - added tests
    
    Implements: blueprint zadara-cinder-driver-update
    
    Change-Id: Iad5908a50980c59df2d8d4702743a0b99f82f9b7

commit f0ab7be7c304dad9d925dbc6a82c67ec5bbfc1da
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Sep 3 22:33:24 2013 +0000

    Use tempfile and cleanup in windows unit test
    
    The unit test test_windows was setting and creating
    a directory c://iSCSIVirtualDisks in the root path
    and even worse wasn't deleting it on cleanup.
    
    This patch converts that to use tempfile and also
    adds an shutil.rmtree to the teardown method to clean
    up all the junk it creates.
    
    Fixes bug: 1219950
    
    Change-Id: Ibd071c9c3ae9a02f26c85a09e8bc6619d8c73a37

commit 1428e6f62ca9bc194655621578c526e9d2b8980c
Merge: 00f2d7a 9667773
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 21:07:26 2013 +0000

    Merge "Adds Nexenta NFS driver"

commit 00f2d7a412a440b156cede7a2948163775eb1ffb
Merge: 85d4e50 a2dca1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 20:04:56 2013 +0000

    Merge "Add volume driver for Huawei HVS storage system"

commit 85d4e50dd87aeb5b6233c396066303d9aae59ca0
Merge: 61c8703 a5aa1c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 20:04:42 2013 +0000

    Merge "New update_snapshot_status API"

commit 61c870388efc47233c19bd34624b93eb82be1a49
Merge: 6500a4f f5e4e39
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 18:27:55 2013 +0000

    Merge "Fix errors in volume usage audit script"

commit 6500a4f0f32f6cd269863bd3577c35b2ff201f0a
Merge: 59df774 0802e19
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 18:27:53 2013 +0000

    Merge "Increase test coverage for cinder.utils"

commit 96677735f6d8f1f5b6380127956921f719aab799
Author: Mikhail Khodos <hodosmb@gmail.com>
Date:   Wed Aug 14 11:18:12 2013 -0700

    Adds Nexenta NFS driver
    
    Implements: blueprint nexenta-nfs-volume-driver
    
    Change-Id: I369ce83113cf05b1cd2ecf86d5f6fd25eed12d85

commit 29e889bde9364f30c3f1cbeb7ee835b036451cba
Author: Flaper Fesp <flaper87@gmail.com>
Date:   Tue Sep 3 18:26:42 2013 +0200

    Set vg_thin_pool to pool name instead of pool_path
    
    create_thin_pool is setting vg_thin_pool to the pool path instead of the
    pool_name. This makes volumes creation fail when the create_thin_pool
    method is called. This happens because create_volume builds the pool
    path itself as create_thin_pool does.
    
    Keeping the pool name in vg_thin_pool instead of the path makes more
    sense and allows it to be used in other places in the brick. Also, most
    commands return both vg_name and pool_name separated.
    
    Change-Id: Ibf5cd746fc050eab5ce6aff13dd70c1e8066b228
    Closes-Bug: #1220286

commit 2f4e9b22b74f696fdac5aed8b57a70e34b113bc8
Author: Lucian Petrut <lpetrut@cloudbasesolutions.com>
Date:   Mon Sep 2 18:20:21 2013 +0300

    Fixes cinder-volume service startup on Windows
    
    The Windows service fails due to missing non-blocking IO features
    in eventlet. This fix adds a conditional path on Windows to execute
    the service accordingly.
    
    Fixes bug: #1219896
    
    Change-Id: I74f662e736e3a5fe58a383d172780a691a2b36c7

commit c494c7de697403b112857313c023bd9e83f5322e
Author: Seif Lotfy <s.lotfy@telekom.de>
Date:   Tue Sep 3 14:46:34 2013 +0000

    extract 'limits.' to constant for ratelimiting logic
    
    based on the equal nova code at
    https://review.openstack.org/#/c/41267/ the ratelimiting logic
    uses a constant to parse the limits.
    
    Change-Id: I8ffb4267834c79d056716a2c412ecb2c97217635

commit e0bc432b942bf52b1bf7f83c1cc0eece99a28961
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Fri Aug 30 22:30:56 2013 -0400

    Send notifications when extending volume
    
    - Send resize.start when volume extension begins.
    - Send resize.end with new size when volume extension ends.
    
    Fixes: bug #1219106
    Change-Id: I729da1604668080ec1a5d096df211aa55913dc48

commit f5e4e39664a233ebe655914f280b699138c6d9b4
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Tue Sep 3 12:53:34 2013 +0000

    Fix errors in volume usage audit script
    
    The snapshot_get_active_by_window DB query was returning snapshots
    where we couldn't access the related volume object. This was due to
    a) the volume not been loaded and the join failing due to detached
    session object.
    and b) the related volume was deleted so it didn't show return from
    the join
    
    Fixes bug: 1220140
    
    Change-Id: I0de993ba0ca482fa9ab80d4d5cdb0ff5cc8e4d7a

commit a5aa1c9167958ee806ac43d1b0be39ea1ce96917
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Jul 19 10:02:51 2013 -0400

    New update_snapshot_status API
    
    Adds new snapshot_actions module
    
    Update_snapshot_status: Allows updating of 'state' and
    'progress' fields of a snapshot.  This is used by Nova
    to inform Cinder of its outcome when performing snapshot
    operations for attached volumes.  Updates are restricted
    to a subset of possible start and finish states.
    
    Implements blueprint qemu-assisted-snapshots
    
    Change-Id: I54772f794b97e1cc6b24b121b757219248e37109

commit a2dca1ffc3e6ba81862c0eff625b620f3f175690
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Tue Sep 3 19:17:26 2013 +0800

    Add volume driver for Huawei HVS storage system
    
    Huawei OceanStor HVS-series enterprise storage system is an optimum
    storage platform for next-generation data centers that feature
    virtualization, hybrid cloud, simplified IT, and low carbon footprints.
    
    This patch add an iSCSI driver and a FC driver for Huawei HVS storage
    system, using REST. We define a common module for both iSCSI driver and
    FC driver. The drivers support volume type, QoS.
    
    Implements: blueprint huawei-hvs-volume-driver
    Change-Id: Ibdfed7df6d347e00f498694898c88dfa641559eb

commit 0802e199640c9a15707b33b71235c226ad511144
Author: Vladislav Kuzmin <vkuzmin@mirantis.com>
Date:   Mon Sep 2 16:19:50 2013 +0400

    Increase test coverage for cinder.utils
    
    Add new tests for:
            check_ssh_injection()
            create_channel()
    
    Change-Id: I0349d87023567b16d6600f5b38fd1daff5cbbdc8

commit 59df774239ac0783826762108768d79ebb4c0dd5
Merge: 57d3e6e 14dc194
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 09:29:41 2013 +0000

    Merge "Add Fibre Channel drivers for Huawei storage systems"

commit 57d3e6e192d3ae35f67743a0d73bf74c1886ca16
Merge: 2a76d0c 059bc7a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 09:26:17 2013 +0000

    Merge "Don't need to init testr explicitly"

commit 2a76d0c81b037dc681605f9fce3af569b2e495a8
Merge: d6db523 1a2a692
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 06:57:21 2013 +0000

    Merge "Refactor huawei Dorado array iSCSI driver"

commit d6db523686a848b0fc36a542ef9212d3f9ed3c7e
Merge: cf6db82 17c4fd7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 05:48:06 2013 +0000

    Merge "Refactor Huawei iSCSI driver"

commit 14dc194af688a18b254aea761beb586214c56224
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Sat Aug 31 10:24:43 2013 +0800

    Add Fibre Channel drivers for Huawei storage systems
    
    This is the third patch, changes as follows:
    1.Add Fibre Channel drivers for huawei OceanStor T series and Dorado
    series arrays. Dorado FC driver inherits codes from FC driver of T.
    The FC drivers call module ssh_common which has been defined in
    the preview patch: https://review.openstack.org/#/c/41721/
    2.Add unit test for the changes.
    
    Implements: blueprint huawei-fibre-channel-volume-driver
    Change-Id: Iee20d9746004b57777a7161827b4a23cb10f0859

commit 1a2a692b79cefd1fc7e743e8e616292107afacdf
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Sat Aug 31 10:23:35 2013 +0800

    Refactor huawei Dorado array iSCSI driver
    
    This is the second patch, changes as follows:
    1.Add ISCSIDriver for Dorado arrays. The ISCSIDriver inherit from T.
    1.Add a common class DoradoCommon for both FC and iSCSI drivers. The common class
    inherit from T common for they have many common functions.
    2.Add unit test for Dorado drivers.
    
    Change-Id: I7ff2cc1e0d058b7a3d9e55644769ec74075f962f

commit 17c4fd71038b0603bf4f0035e46fc0ff1bc517f7
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Thu Aug 29 10:33:52 2013 +0800

    Refactor Huawei iSCSI driver
    
    We plan to refactor Huawei iSCSI drivers and add Huawei FC
    drivers. For that's a huge change, we break the codes into
    three patches:
    1.Refactor T iSCSI driver
    2.Refactor Dorado iSCSI driver
    3.Add FC drivers for both T and Dorado arrays.
    
    This is the first patch, changes as follows:
    1.Define a common class for both FC and iSCSI drivers, and
    also provide a unified class HuaweiVolumeDriver for users.
    The unified driver will call HuaweiTISCSIDriver according to
    users' configuration. The HuaweiTISCSIDriver is a subclass of
    driver.ISCSIDriver, so it could get good inheritance.
    2.Support volume type.
    3.Refactor unit test to make it more logic clear and add more
    test cases to get higher coverage rate.
    
    Change-Id: I79b7bac7f38f2dcbb22c5db6207d8b55906fdad1

commit cf6db825031cba6089ff43d3d0cfe1fd0b59c850
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Aug 27 22:43:38 2013 +0200

    Enable gating on F811
    
    Avoid name clashes of local variables with
    imported modules.
    
    Change-Id: I1c5508902f89ad5dd9d160a4d163cd91bec41333

commit c37b7db38aeb4a74546fef9ad97d068bc5bcfa13
Merge: 08cd3c0 6afa008
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 2 13:35:02 2013 +0000

    Merge "Pass db into driver as constructor's parameter"

commit 08cd3c0012f855030f2db945360093cc705ec778
Merge: 4bf4d59 1eb3bc8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 2 11:58:13 2013 +0000

    Merge "Utilizes assertIn and assertNotIn"

commit 4bf4d59c0d8dd0a9e1e332303cd0e45e26c89cf4
Merge: ed72912 2e16834
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 2 11:25:03 2013 +0000

    Merge "copy_image_to_volume for Nexenta volume driver"

commit ed72912ac59ac0f1148a50a97470ccaf67eecb5d
Merge: 3a30b8a a1fe496
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 2 07:36:34 2013 +0000

    Merge "Sync rpc fix from oslo-incubator"

commit 3a30b8ae6c48f11550b5fd9ecf8315840e7a5ac2
Merge: 71a1caf 99c7a36
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 1 14:06:39 2013 +0000

    Merge "Fixes bug to allow for encrypted volume deletion"

commit 71a1caf1d9ebad566c542159af5c2b58980d3dda
Merge: be571a9 ed69db6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 1 14:06:37 2013 +0000

    Merge "Remove _create_volume function from several tests"

commit be571a99e333842fd0ea6c34db1b0748a0cf0cca
Merge: ba3fbd9 c1afe80
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 1 14:06:35 2013 +0000

    Merge "Increase test coverage for cinder.image.image_utils"

commit ba3fbd9c0a999cb818aad41ad3518342a27ef464
Merge: fcd0baa 106bf56
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 1 14:05:40 2013 +0000

    Merge "Add support for Havana missing features in Windows driver"

commit fcd0baa3252075723890764adf940a286d35d79b
Merge: c20fe4a afd69a95
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 1 08:39:49 2013 +0000

    Merge "Fix pep8 violation in backup"

commit c20fe4aeee6c4de5cb61e8f8a5dbcaeef874e938
Merge: b67caf3 0a87ff9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 1 07:14:14 2013 +0000

    Merge "Clone volume with right size with SolidFire"

commit 106bf560e291b9b8a0690680170db575086e04b3
Author: Pedro Navarro Perez <pednape@gmail.com>
Date:   Mon Aug 26 13:09:41 2013 +0200

    Add support for Havana missing features in Windows driver
    
    The following features were added:
    
    -copy_volume_to_image (Havana)
    -copy_image_to_volume (Havana)
    -get_volume_stats (Havana)
    -extend_volume (Icehouse)
    
    The test mocking based on binary pickled files were replaced by mox.
    
    Change-Id: I92c681280d6f7b85bcba7a5e3513f2bdb6c13f1d
    Implements: blueprint windows-storage-driver-extended

commit b67caf325682dd4bc1d95f83dbe57f116634eec9
Merge: 5581cb3 91e2466
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 31 23:02:16 2013 +0000

    Merge "Add venv wrapper for check_uptodate.sh"

commit 91e2466f2dd9dcdcaf1d443be66b51c861182784
Author: Kui Shi <skuicloud@gmail.com>
Date:   Sat Aug 31 19:24:38 2013 +0800

    Add venv wrapper for check_uptodate.sh
    
    tools/conf/check_uptodate.sh is added in run_tests.sh
    
    For simple, run "run_tests.sh -p" will call it, and get following error:
    
    Failed to collect options from module
    cinder.volume.drivers.san.hp.hp_3par_common: No module named hp3parclient
    
    Actually, the hp3parclient is listed in test-requirements.txt, and it is
    installed in venv.
    
    the check_uptodate.sh should run in venv to get correct result.
    
    update the error message to update the cindier.conf.sample correctly.
    
    -----------
    Test method
    -----------
    $ pwd
    /opt/stack/cinder
    
    $ source .venv/bin/activate; tools/conf/generate_sample.sh
    
    (.venv)$ deactivate
    
    $ ./run_tests.sh  -p
    Running flake8 ...
    // no error emitted here
    
    Fixes Bug #1219197
    
    Change-Id: I9b3eaf3c1a5eb395eefed28bb907685cdef147aa

commit 0a87ff988cd21586daeb6ed886e44aedaa49c320
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Fri Aug 30 21:59:59 2013 -0400

    Clone volume with right size with SolidFire
    
    It is possible to clone a volume with a size greater than
    the source volume. When using the SolidFire driver, the volume size
    was not passed in the call made to the SolidFire API when
    cloning a volume.
    
    It resulted in a cloned volume having the same size as the source
    volume but the correct size in the Cinder database.
    
    This changes makes sure the cloned volume has the correct size
    by explicitly passing the requested size when calling
    the SolidFire API and cloning the volume.
    
    Fixes: bug #1219105
    Change-Id: I5628c7fa922780d6b0601e2daa79310a61085edc

commit 99c7a3679f2bf49de0417c381826c32d8778dad6
Author: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>
Date:   Fri Aug 30 15:38:38 2013 -0400

    Fixes bug to allow for encrypted volume deletion
    
    delete_key in cinder/volume/api.py was called with incorrect parameters.
    The error prevented encrypted volumes from being deleted, but the fix
    has been applied and unittests written to prove the functionality.
    
    Change-Id: I3b93da84f97efe2a3afa057907bbfa10336eb9de
    Implements: blueprint encrypt-cinder-volumes

commit a1fe496e1113737d0b133a64078bc45c485dd3b2
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Aug 30 15:36:36 2013 -0400

    Sync rpc fix from oslo-incubator
    
    Sync the following fix from oslo-incubator:
    
    76972e2 Support a new qpid topology
    
    This includes one other commit, so that the above fix could be brought
    over cleanly:
    
    5ff534d Add config for amqp durable/auto_delete queues
    
    Change-Id: I1fd5aaf87ec87836df3e44e83247bf82301475f5
    Closes-bug: #1178375

commit 3e69b7ce2edcd81f0f0dec47e3dea68985080065
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Sat Aug 31 02:59:47 2013 +0800

    Move comment back to right place
    
    The comment about skipping schedule for create volume from snapshot
    in cast_create_volume() was mis-placed when this code was ported to
    taskflow.  This patch moves the comment back to where it belongs.
    
    Change-Id: I329c78a05143bf8589d9665dc4ff03fa80da6ec9

commit 2e168341dac6a21a6e421ee9b111d3b27e944f47
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Sat Aug 24 01:59:27 2013 +0400

    copy_image_to_volume for Nexenta volume driver
    
    This patch implements copy_image_to_volume in Nexenta volume
    driver, because volume must be exported before copying image
    to it.
    
    Change-Id: I9dc725095944d166fee415f3f605268c7fcbbd3a

commit afd69a95bbebdb2cb5ff1e6df69c51cb90cc95f6
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Wed Aug 28 01:50:55 2013 +0400

    Fix pep8 violation in backup
    
    Change-Id: I0bbc7923c3bea9b918c243d2c7b59510fd26deb5

commit 1eb3bc803e87119a808e123a2edc7a0341e70480
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Aug 30 13:33:22 2013 +0800

    Utilizes assertIn and assertNotIn
    
    Using assertTrue and the 'in' operator to test if an element is in a sequence
    is too python2.4. Our unit testing framework 'testtools' support assertIn and
    assertNotIn, included from python 2.7, which were created for these types of
    tests. Let's use assertIn or assertNotIn for these tests.
    
    Change-Id: I8b43f7ff5f306e1ce57296d89679333ce24e4b64

commit 432f819b467236ab41d6c9ac30f669f18ae55dd3
Merge: d65b327 09bc926
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 12:39:35 2013 +0000

    Merge "Implements APIs for VMDK driver"

commit d65b327b889527ff6f4fdebdf9779869a46ab072
Merge: 9afb771 953c9e8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 10:58:05 2013 +0000

    Merge "Add missing LH SAN driver features for Havana"

commit 09bc92646003f6ead7758ea582acd4a563067f83
Author: Kartik Bommepally <kbommepally@vmware.com>
Date:   Mon Aug 12 21:42:59 2013 -0700

    Implements APIs for VMDK driver
    
    - Implemented APIs: create_volume, delete_volume, initialize_connection,
      create_snapthot, delete_snapshot, create_volume_from_snapshot,
      create_cloned_volume
    - Modified etc/cinder/cinder.conf.sample adding details for the driver
    - Added suds dependency in requirements.txt
    - create_volume: does no work. Volume's backing is created lazily
    - delete_volume: delete backing if present
    - initialize_connection: if backing, not present, create backing, else
      provide backing details to nova to perform attach
      Nova BP/vmware-nova-cinder-support
    - create_snapshot: Creates the snapshot of the backing
    - delete_snapshot: Deletes the snapshot of the backing
    - create_volume_from_snapshot: Creates a full/linked clone from the snapshot
      point in VC. In ESX, copies the VM backing files, registers and reverts to
      the appropriate snapshot point.
    - create_cloned_volume: Creates a full/linked clone in VC. In ESX, copies the
      VM backing files and registers as a new backing.
    - Written appropriate unit tests
    - Work item in BP/vmware-vmdk-cinder-driver
    
    Implements: blueprint vmware-vmdk-cinder-driver
    Change-Id: Ib11f2878f8f656209d1ba5e2cbfadae1ac1999b4

commit ed69db62249811661392570d15c3ca093d2777e4
Author: Julia Varlamova <jvarlamova@mirantis.com>
Date:   Thu Aug 29 11:56:17 2013 +0400

    Remove _create_volume function from several tests
    
    Remove _create_volume function from
    - db/test_transfers.py
    - api/contrib/test_backups.py
    - test_gpfs.py
    - test_volume_transfer.py
    - test_volume.py
    And use create_volume from tests/utils.py instead
    
    Change-Id: I446220d0cfaa2850a5262a968ed35b7827b90a03

commit 059bc7a08cea2704853beb4543a2df1f9b3080f0
Author: Kui Shi <skuicloud@gmail.com>
Date:   Fri Aug 30 15:18:10 2013 +0800

    Don't need to init testr explicitly
    
    In run_tests.sh, function init_testr will initialize testr if the
    directory .testrepository is not existed. Actually, testr will do
    the check before run the test:
    
    In Python package testrepository, setuptools_command.py:Testr.run
    
    68 def run(self):
    69     """Set up testr repo, then run testr"""
    70     if not os.path.isdir(".testrepository"):
    71         self._run_testr("init")
    
    So, init_testr can be removed safely.
    
    Fixes Bug #1216820
    Change-Id: Id9815033c0cb0e1aa6693a4c14bf9a5d490c8883

commit 9afb7718c31104edc854eec2ff56940070397ccd
Merge: 2f2a7c6 0a201c6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 02:19:45 2013 +0000

    Merge "Fix typo in bin/cinder-volume-usage-audit"

commit 2f2a7c6ee07c447124c1f2926e7e256bb12568df
Merge: 3819064 881f037
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 01:18:35 2013 +0000

    Merge "Update the version for the FC and iSCSI driver"

commit 3819064bf2c28277fe77d89d0023815e77f4b515
Merge: 0fe91e7 091a350
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 00:51:30 2013 +0000

    Merge "Add kwargs to create_volume in tests/utils.py"

commit 0fe91e789cfa7f544d56d7a86115f72185520f0c
Merge: 42f12c5 7523489
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 00:51:23 2013 +0000

    Merge "Add NFS/GlusterFS support to brick library"

commit 42f12c5457974352a32a607794fa3ad71de8af3a
Merge: 67dc4ee e120c73
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 00:42:50 2013 +0000

    Merge "Remove unused methods from cinder.utils"

commit 67dc4ee4f1fffb79bbf950e1565d0aeb7c1b42a9
Merge: dcdf523 5274c00
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 30 00:40:59 2013 +0000

    Merge "Multi storage backend support for Nexenta driver"

commit 953c9e8a1ce52b181d4489bc50c3e0f7c9b17603
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Aug 28 14:08:49 2013 -0700

    Add missing LH SAN driver features for Havana
    
    The LeftHand driver did not support snapshot or extend volume.
    The following features are part of the minimum driver features
    that should be implemented in every cinder driver. This patch
    adds the following missing features;
    create snapshot
    delete snapshot
    create volume from snapshot
    extend volume
    It also fixes the DocStrings in the unit test so they pass the
    checks.
    
    Change-Id: Icda790fcddf4ea11782a8d6ec57b1e8f871eb167
    Fixes: bug 1217118

commit 5274c00d4f60e08f535275f3a136f011dfaa40e6
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Fri Aug 23 22:25:36 2013 +0400

    Multi storage backend support for Nexenta driver
    
    Recover nexenta prefix for host, user, password and iscsi_port
    config options.
    
    Change-Id: I8bdc54f391145193b7813e0e411afa39d07d9aad

commit 0a201c68bf5c2b04bf1f1bc0d030bb451f5a7330
Author: scott-dangelo <scott.dangelo@hp.com>
Date:   Thu Aug 29 15:36:55 2013 +0000

    Fix typo in bin/cinder-volume-usage-audit
    
    Fixes bug #1218383
    
    Change-Id: Ie1545736aee43805e8e3f8c3b9b7d5b3a7f36a67

commit e120c7301942e3c4f352ae250a1b4f6bf89aabde
Author: Vladislav Kuzmin <vkuzmin@mirantis.com>
Date:   Thu Aug 29 16:15:29 2013 +0400

    Remove unused methods from cinder.utils
    
    These methods and class  were left over from the split from Nova and are unused still.
    
    Remove methods:
    	debug()
    	utf8()
    	map_dict_keys()
    	check_isinstance()
    	timefunc()
    	logging_error()
    	temporary_mutation()
    	generate_mac_address()
    
    Remove class:
    	UndoManager
    
    Change-Id: Id3a94ff9066627b5c0efef068f8c569423f1e9d8

commit dcdf523fa2c54725af8b76ec43870f35fe0b9c63
Merge: f61dd3d 900851f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 29 12:36:55 2013 +0000

    Merge "Adding Read-Only volume attaching support to Cinder"

commit c1afe8001c90a17463a62f0c5c454767a7d88d86
Author: Vladislav Kuzmin <vkuzmin@mirantis.com>
Date:   Fri Aug 23 16:30:36 2013 +0400

    Increase test coverage for cinder.image.image_utils
    
    Add new tests for:
    	convert_image()
    	qemu_img_info()
    	fetch_to_raw()
    	fetch_verify_image()
    	upload_volume()
    
    Change-Id: Ie69af94433b4c61a493d6c38b4c9439a367f7af8

commit f61dd3dc9f36b415dcdf5e8baab4d7c709fe564d
Merge: 034db09 473b429
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 29 10:17:15 2013 +0000

    Merge "Pass MB size on copy_volume_data call copy_volume"

commit 091a35080fe63fc7b83de883e8e07e406007f257
Author: Julia Varlamova <jvarlamova@mirantis.com>
Date:   Thu Aug 29 11:41:34 2013 +0400

    Add kwargs to create_volume in tests/utils.py
    
    Add availability_zone parameter and kwargs to make create_volume
    function more flexible in order to use this function in
    unit tests.
    The goal is to remove inner _create_volume function in:
    - db/test_transfers.py
    - api/contrib/test_backups.py
    - test_gpfs.py
    - test_volume_transfer.py
    - test_volume.py
    and to use create_volume from tests/utils instead.
    
    Change-Id: I2d9456ff3ff1cd945042f19c47e40f9f0ec0fe8a

commit 034db09b9c7a29ce351896c75a332087fd2e7ec3
Merge: fdd9b62 762cc55
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 29 01:44:51 2013 +0000

    Merge "Move create_volume flow to a subfolder"

commit 881f037d2923874a83f48afa79ed7287a5af6e9f
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Aug 28 16:05:46 2013 -0700

    Update the version for the FC and iSCSI driver
    
    We also now have a version for the common class,
    and report that version at startup time.
    
    Change-Id: Ia1b6698450d151d6b4a8bc13bf3b92c72e8c0ab0

commit 473b429c861d26b927772b2efb828839821250e3
Author: Bill Owen <billowen@us.ibm.com>
Date:   Wed Aug 28 15:54:54 2013 -0700

    Pass MB size on copy_volume_data call copy_volume
    
    Modify cinder/volume/driver.py method copy_volume_data
    to pass size in MB when calling cinder/volume/utils/copy_volume.py
    
    Closes-Bug #1218054
    
    Change-Id: I5430f015ef0f0077b4794f1ff458e3f54cc4dc06

commit fdd9b62a9eb71345e701dc506871c22dec31d219
Merge: 71fa213 f0ce71c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 28 20:59:22 2013 +0000

    Merge "Modified 3PAR drives to support 3parclient 2.0.0"

commit 71fa2133a30e9e02793c1128775aebc603791a8d
Merge: 4daffc6 9c26377
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 28 19:18:45 2013 +0000

    Merge "Migrate manage script needs import of db session module"

commit 900851ffe36e3f4143ec9126c5bf69dea0853114
Author: Zhi Yan Liu <zhiyanl@cn.ibm.com>
Date:   Sat Jul 20 06:18:24 2013 +0800

    Adding Read-Only volume attaching support to Cinder
    
    1. Adding an API extension to allow clients set volume Read-Only flag on
    demand.
    2. Require client to provide and be aware of volume attaching mode when
    they call 'os-attach' API.
    3. Adding a 'access_mode' field to connection info which
    'os-initialize_connection' API returned. This field should be used by
    client such as Nova to use correct mode accessing attached volume.
    Currently access mode can be 'rw' or 'ro'.
    4. In future, the driver within Cinder need to ensure the volume be
    exposed under the correct access mode which connection info described,
    for example backend should set volume to readonly mode when connection
    info ask client using 'ro' access mode consume attached volume. That
    means Read-Only is not only a attaching mode but also a status for a
    volume.
    
    blueprint read-only-volumes
    
    Change-Id: I4c84614d6541d5f7c358abadb957da7b8c3d9c48
    Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>

commit 7523489e856e637dc6af23638568f4700980360f
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Tue Aug 27 21:43:20 2013 -0700

    Add NFS/GlusterFS support to brick library
    
    Refactor NFS driver to use the brick library to perform mounts
    rather than duplicating the mount code. Some of the NFS unit
    test code was rewritten to test the brick implementation because
    the old mount code was moved.
    
    The Gluster driver was slightly affected in the refactoring, but
    does not yet use brick to perform attaches.
    
    bug 1214748
    
    Change-Id: Ib29f83fabe407f9591191e9fd19e6306ca9960cf

commit 6afa0088c4ac91820ffddb409b4605be33f1537d
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Mon Aug 26 17:13:06 2013 +0400

    Pass db into driver as constructor's parameter
    
    This will be required when code specific for target admin moves to
    brick.
    
    Change-Id: Ia48ea927f2efb2c551c359f7e7f98bf586919ab3

commit 4daffc63e757508873a9dbf955970f3d7de0f6dc
Merge: ccb461b 1cbf6c3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 28 07:10:28 2013 +0000

    Merge "Add optimized volume migration to Storwize/SVC"

commit ccb461b10afcb7a1f3ca4df64cff8d119b8abffd
Merge: e7af3ae f58bd6c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 28 07:09:58 2013 +0000

    Merge "Fix cinder error for deprecated Netapp drivers"

commit e7af3aea1a81e0130172c29a85e73e8d8079fa74
Merge: eeabe33 72cdb38
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Aug 28 05:39:45 2013 +0000

    Merge "Imported Translations from Transifex"

commit eeabe3363841c49d1142d07b50c520be0e400fb0
Merge: 3269947 57141d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 28 05:11:59 2013 +0000

    Merge "Migration for attached volumes"

commit 32699472456082f81f8db0495533c9605aae3403
Merge: b07b6b9 60a2bf9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 27 22:10:14 2013 +0000

    Merge "Fix quota update validation for non-int types"

commit f0ce71c23c786baf7c828d1fd147d70342593a10
Author: Jim Branen <james.branen@hp.com>
Date:   Mon Aug 19 16:36:16 2013 -0700

    Modified 3PAR drives to support 3parclient 2.0.0
    
    Replaced ssh calls to remove host, show host,
    show port, show vlun and create vlun with the
    new hp3parclient calls.
    
    Change-Id: I917b4263389331597103d2fe6c9a73994165051b
    Fixes: bug #1211994

commit 762cc5532ba68a09299f48aa7ea43b9ce3315f11
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Tue Aug 20 18:06:32 2013 -0700

    Move create_volume flow to a subfolder
    
    In order to start splitting up the create_volume flow into
    smaller files we will start by moving the create_volume.py
    file to a folder with just __init__.py and this will then
    act as the base for create_volume task modules.
    
    Also add in a utils file that contains to start the commonly
    used debug listener attachment mechanism.
    
    Change-Id: Ie2fd0c77bb04f8153afecdce75588614b48fed8a

commit b07b6b9471c38fbf9fd8201ce502c95703a21b96
Merge: d92dc82 ef50bb4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 27 17:00:38 2013 +0000

    Merge "Import order cleanup"

commit ef50bb47e21b1b70928f79cc7e160d8c78a83071
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Tue Aug 27 10:04:47 2013 +0800

    Import order cleanup
    
    According to
    https://github.com/openstack-dev/hacking/blob/master/HACKING.rst#imports
    imports must be ordered by the full module path by the below template
    
    {{stdlib imports in human alphabetical order}}
    \n
    {{third-party lib imports in human alphabetical order}}
    \n
    {{project imports in human alphabetical order}}
    \n
    \n
    {{begin your code}}
    
    Change-Id: Ia517e629d557133fca1a4927020a93e9e2abf3f9

commit d92dc82b8dc61a0b1b9edd20afb14b35ae894c89
Merge: f48d689 ccfc7e9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 27 12:39:25 2013 +0000

    Merge "Fix except in lvm.py"

commit f48d6895df90a7fd18334713caec1d83b6655833
Merge: ef4d108 3f54b6c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 27 12:11:48 2013 +0000

    Merge "Removes exception instance creation on execute()"

commit 9c26377f7b92b5972b284ff75fe69ab11c3c18df
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Tue Aug 27 10:48:45 2013 +0000

    Migrate manage script needs import of db session module
    
    This import looks like it is not used but importing this module as
    the side effect of defining the olso configuration. Without it the
    script will not work.
    
    Change-Id: Id65f726f34aa2fb86fda13fd65e2e512b3a899ac

commit 57141d6817809b5848d412ea5a2bf3dbb5da0064
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Aug 19 13:45:38 2013 +0300

    Migration for attached volumes
    
    Enable migration for attached volumes by calling Nova to have the
    hypervisor copy the data (Nova's swap_volume feature). A new API
    function is added for Nova to call once it is done copying to finish
    the Cinder side of the migration.
    
    The overall 'generic' migration flow (i.e., not performed by a driver)
    is as follows:
    1. Creates a new volume
    2a. If the source volume's state is 'available', attach both volumes
        and run 'dd' to copy, then detach both. When finished, call the
        migrate_volume_completion function.
    2b. If the source volume's state is 'in-use', call Nova to perform the
        copy. Nova will attach the new volume, copy the data from the
        original volume to the new one, and detach the original volume.
        When the copy completes, Nova will call Cinder's new
        migrate_volume_completion function.
    3. The migrate_volume_completion function deletes the original volume,
       and calls the database API's finish_volume_migration function. This
       copies all of the new volume's information to the original, and
       deletes the new volume's row, and thus we can keep using the
       original volume_id (the user sees no change).
    
    We also don't change the original volume's status, and instead add a
    migration_status column which only selected users can see (e.g., admin).
    The migration status is None when no migration is in progress, whether
    it succeeded or failed. The admin should check the volume's current
    host to determine success or failure. This is meant to simplify
    operations. The user will only be aware of a migration if they try to
    change the volume's state during the course of a migration.
    
    As mentioned, we change the volume while keeping the original volume
    ID. Because a volume's name depends on its ID, the new volume will have
    a different name than the original. This is the purpose of the name_id
    field in the database - the name is now based on name_id. So although
    we keep the original volume's ID, we use the new volume's ID as the
    name_id. Thus we can remove the rename_volume function - it is no
    longer necessary because the name_id field in the database already
    allows for the volume's name on the backend to not rely on its ID.
    The user than can see the migration_status can also see the
    name_id, in case they need to find it on the backend.
    
    There were a few other places throughout the code that relied on
    constructing a volume's name from its ID, and those were fixed.
    
    DocImpact
    
    Implements: bp online-volume-migration
    
    Change-Id: I8daaee174e426fbd450fa75f04f9c8e6fa09f01a

commit 1cbf6c3c00c03c5acd86bcc6dddfc9822b19120f
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jul 10 13:59:51 2013 +0300

    Add optimized volume migration to Storwize/SVC
    
    Add an optimized migration path for when the source and destination are
    managed by the same storage. If the source and destination pools have
    the same extent_size, it will use the optimal migratevdisk command.
    Otherwise, it will use addvdiskcopy and rmvdiskcopy, which must be
    watched until the copies are sync'ed.
    
    Change-Id: Ic6069422f5ac7f963f4b1268c0d632a038a8474f

commit 60a2bf977733f2570a22b58cf650e97dabddc7fd
Author: Rohan Kanade <rohan.kanade@nttdata.com>
Date:   Fri Aug 23 03:15:12 2013 -0700

    Fix quota update validation for non-int types
    
    Fixes lp bug #1215301
    
    Change-Id: I4bf813579c128844884138ba49f074f81f96790a

commit 72cdb389b9a833a48db931456ac76f87c3baaa29
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Aug 27 06:10:11 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I1831ed17f316a71ada1606555bf73c10eae62d71

commit ef4d1084f44cd90e366256086fbd55b55a21326c
Merge: 6b09a0b 044f10d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 27 04:14:55 2013 +0000

    Merge "Remove deprecated code from Nexenta Exception class"

commit 6b09a0bb052bd25631e9385bd4b07452fffbc94a
Merge: dab2122 38b48dd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 27 04:14:53 2013 +0000

    Merge "Extend volume for GlusterFS"

commit dab2122192c6f559e5c4e72464550b11b0fb79d4
Merge: eafb7c4 72983a4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 27 02:56:32 2013 +0000

    Merge "Sync up with global requirements"

commit 3f54b6c053cfa464ad6d9e8883563d29dd6dfa1f
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Mon Aug 19 15:39:00 2013 +0800

    Removes exception instance creation on execute()
    
    For every excption raised in utils.execute(), a new instance is created.
    This patch removes this redundant step and directly uses exceptions
    defined in Oslo.
    
    Change-Id: I1425d7f1d69a8fde8fde29444fae4d12d045b730

commit ccfc7e96ff6c2e56c5f94a8634c9d4270a5b07ce
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Aug 27 00:52:02 2013 +0000

    Fix except in lvm.py
    
    Consolidation of brick exceptions into a single
    brick exception.py file neglected to updated files
    that were using it:
        (see change I577d403f02c2fd0d727d2694776008e1e9791453)
    
    The result is the lvm driver was doing an except on lvm.VolumeGroupNotFound
    which didn't exist anymore as it's in brick/exception now.
    
    We still need to clean up exceptions all through here, and this still
    isn't handled by service init anyway, but at least with this we are
    raising a valid exception.
    
    Change-Id: I588e9ac6548823b291d284f68f6133879bf3dfbf
    Fixes: bug 1216122

commit eafb7c4a2c8b030fb621d54ae34b8a32e93c05bf
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Aug 26 12:23:49 2013 -0600

    Add automated check of conf sample
    
    This adds check_uptodate to run_tests and
    tox.ini checks.
    
    This also requires that we add novaclient to the
    test-requires, since we try and poke at cinder/compute/nova.
    
    There is another implementation in use to do this that
    pulls in openstack.common.config.generator,
    (see ceilometer project for a pretty slick impl), however
    adding that also pulls in a rather large list of
    updates and dependencies that quite frankly Cinder
    doesn't need and the ones that we do use break
    a number of things in Cinder.
    
    There's also a number of additional options added
    to generate_sample that I don't think we need right now.
    
    In the future we'll probably want to go this route
    but for now I'd just like to get automated checking
    in place.
    
    Change-Id: I91aa4d98f472ad5a3ece7773c75ee76d66adafc0

commit edea6f62184e178f7fbe24565dcada140e6dfa44
Merge: 8d2c7a1 d1fa401
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 26 22:54:45 2013 +0000

    Merge "Sync execute() related exceptions with oslo"

commit 8d2c7a16a5418689bfa3841780116368fdbbaf36
Merge: fe0644f 4576ea4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 26 22:26:52 2013 +0000

    Merge "Ensure that qpid connection is closed (from oslo)"

commit fe0644f6aff2a9b677f104dcc6b4ca463df973e3
Merge: 71f8c7d 162aa28
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 26 21:45:04 2013 +0000

    Merge "Set bootable flag for volume cloned from image"

commit 044f10d8e7cf3321730ec299513e6d7150e85818
Author: keystone <keystone@ubuntu.(none)>
Date:   Mon Aug 26 12:38:32 2013 -0700

    Remove deprecated code from Nexenta Exception class
    
    Change-Id: I4242fce8b3f10c863d38cd2f81c2aab9fea77e24

commit 71f8c7d4b797646bc70f1633998235f708db78b7
Merge: c13b2f0 c316357
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 26 21:16:44 2013 +0000

    Merge "Offline snapshots for GlusterFS volumes"

commit 72983a4a89236ec00b851b727d69c05e7e61ae51
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Aug 24 10:23:29 2013 -0600

    Sync up with global requirements
    
    This is a pull from openstack/requirements.
    
    Note that pep8, pyflakes and flake8 are now specified
    as deps in hacking, so we can remove those here.  Also
    if we don't remove them then we run into version conflicts
    when hacking tries to set things up.
    
    Quick!!!  Before it changes again!
    
    Change-Id: Ib35b58c01f8d5d066d559e8afe4ea02adf55db5d

commit c13b2f082f3170e48b32d684c802e978ae0f61dd
Merge: b275456 998bee4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 26 18:07:29 2013 +0000

    Merge "Re-enable a lot of cinder scheduler tests"

commit 38b48dd704fa648223bc98f7f5c60a1df666ae87
Author: Eric Harney <eharney@redhat.com>
Date:   Sat Aug 17 13:05:38 2013 -0400

    Extend volume for GlusterFS
    
    Add support for extend volume.
    
    Change-Id: Ie9ba67d91de2da43e6b857b4256a445c5269c5cd

commit c3163574a951420e12a92b7a64ce5e934a2c4fa1
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Jul 3 13:57:42 2013 -0400

    Offline snapshots for GlusterFS volumes
    
    Offline snapshots for the GlusterFS driver, based
    on QCOW2 snapshotting.
    
    This introduces the option to have volumes stored as
    qcow2 files rather than raw files. (glusterfs_qcow2_volumes)
    
    Bump driver version to 1.1.0.
    
    This patch requires Nova to support loading qcow2 disks:
    https://review.openstack.org/#/c/38321/
    
    Online snapshot support (via Nova) is added in a
    subsequent patch submitted in this series.
    
    This patch also enables volume cloning for GlusterFS volumes.
    
    Implements blueprint qemu-assisted-snapshots
    
    Change-Id: I783a802574b835b495e343f555f7ecf9b46981dd

commit 4576ea44aa51703d7ed3b036a044dbd911d6f3e9
Author: Xavier Queralt <xqueralt@redhat.com>
Date:   Mon Aug 26 16:11:34 2013 +0200

    Ensure that qpid connection is closed (from oslo)
    
    This is commit a9bc62814d in oslo-incubator
    
    Fixes bug 1172922
    
    When reestablishing a session and a connection already exists the
    existing connection will be closed prior to opening the new one.
    
    Change-Id: I9a25800fe4b56eba89d550e3461ce095bf902f0a

commit b2754568bf6f8e44a73559e70727db281be01e92
Merge: fb20577 2b3b1d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 26 10:17:12 2013 +0000

    Merge "Ignore stmf target must be offline exception"

commit fb205778d0890c8cafd7f1c9214fec73ab688c4a
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Aug 26 06:17:09 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I2b2ca85c56e774d40437cca45b60103d6f840734

commit b41f5b1b5fff1b4f3841828e9f6cf0ea1610d004
Merge: ad1975d 72d72be
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Aug 26 05:04:14 2013 +0000

    Merge "Imported Translations from Transifex"

commit ad1975dfd11fc90858ef6394dba871ff903e2c47
Merge: 80c38c7 e15a968
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 26 04:56:01 2013 +0000

    Merge "Move the frequently injection task to the base folder."

commit 80c38c760f6d14f86455f059b4da72b78469a7de
Merge: 279eb4e f3e0ab2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 13:30:29 2013 +0000

    Merge "Clean up the sqlalchemy migrate manage.py script."

commit 279eb4e017c0f08b78cc8af55896000149476f81
Merge: 88975f1 bba098c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 10:11:52 2013 +0000

    Merge "Storwize/SVC: allow setting of I/O group"

commit 88975f197b1731cc991c9cfcd826d24c1e0d2d44
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Aug 25 10:45:14 2013 +0300

    Test WWNs with basestring
    
    Change to match Nova commit 52c0668548eb4a7e3536c241c9551cdf89f2d696
    
    Change-Id: I96844ab293003e605412410969f8f26f5e9ac075

commit e5abbbfca5572081d962de7c02b70c59565d8ce5
Merge: dcda275 8619b97
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 07:07:11 2013 +0000

    Merge "emit warning while running flake8 without virtual env"

commit dcda275f0e981e0ba7b3ad685b9f31c6bb700e26
Merge: 0933ddd 8b35b1d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 07:01:38 2013 +0000

    Merge "Fix volume_glance_metadata deletion"

commit 0933dddfb72117e51c9fed10222b9fefa6b05667
Merge: 37c3f67 f730ada
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 07:01:31 2013 +0000

    Merge "Use a new rest client for every Coraid ESM command"

commit 37c3f67a197cd73f3464581bf30a7d61eeef59d5
Merge: 7a70a83 921ce48
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 06:55:48 2013 +0000

    Merge "The DB migration shouldn't populate types table"

commit 7a70a830ae55a3424ff8f52463bafa3ab8a68bc9
Merge: a4216bb d0e63ed
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 06:24:58 2013 +0000

    Merge "Remove print statement in db api test"

commit a4216bb076bb821c36056125eed027b2f22e1240
Merge: 118e52d d028556
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 25 06:24:56 2013 +0000

    Merge "Implement QoS support for volumes"

commit 72d72be4351067eb38ad8825e929f1ec3e2553db
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Aug 25 06:11:24 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ia2f3a9a0a9b706143f122a091926d75cb37f1c2e

commit d0e63ed69a5d9bfcd10b8edfe8b87cba7592c63c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Aug 24 09:57:40 2013 -0600

    Remove print statement in db api test
    
    Remove the encryption related print statements in
    test_dp_api, this should bring us up to speed
    now for updated requirements and take care of the
    py3.3 incompat print issues.
    
    Change-Id: If7475cc43d3c0b443908f846d76071913536fdf4

commit 118e52d7224437690e54ccda346c05d1ca568637
Merge: fcd45a4 53cf8ca
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 24 00:17:29 2013 +0000

    Merge "Remove unused methods from LVM driver"

commit 2b3b1d360011f87c2a6d30a1a77bfe8974113379
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Fri Aug 16 03:07:32 2013 +0400

    Ignore stmf target must be offline exception
    
    Patch to ignore
    
    "NexentaJSONException: : Unable to add member to targetgroup:
      stmfadm: STMF target must be offline"
    
    This error happens when targetgroup is already configured and busy.
    
    fixed bug 1209305
    
    Change-Id: I2441118c0968a7a373b5990db6782129291c3051

commit d1fa401469b382fdec2af3efc1cb243d34977609
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Mon Aug 19 12:03:35 2013 +0800

    Sync execute() related exceptions with oslo
    
    Cinder has its own ProcessExecutionError exception defined which
    already exists in processutils.py. This was done to have minimal
    editing when applying processutils.execute() to Cinder. As a result,
    new instances are being created for each exception raised during
    cli processing using execute()
    
    As for the first step to remove the redundant excptions, this
    patch syncs ProcessExecutionError and UnknownArgumentError
    with that in processutils to ease the transition.
    
    Change-Id: I88d9b86a0486f5d91fdcb664c99a9a2cd1392460

commit 921ce48fb12fdeb71b10cb411ff9aca9abae03d7
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Fri Aug 23 14:42:46 2013 +0000

    The DB migration shouldn't populate types table
    
    It is up to the system adminisator to do this via an API call.
    
    Also fixes up a few cases of dict() being used rather than the prefered {}
    (https://github.com/openstack-dev/hacking/blob/master/HACKING.rst#dictionarieslists)
    
    Fixes bug: 1215962
    
    Change-Id: I6b2eea0c03467b157ec147292dbea54e7f99006c

commit f730adaeec98baea419b3b159fff1e1127d266ac
Author: Nikolay Sobolevskiy <nsobolevsky@mirantis.com>
Date:   Wed Aug 21 14:15:08 2013 +0400

    Use a new rest client for every Coraid ESM command
    
    It's workaround for the session corruption bug
    in the ESM Appliance.
    
    fix bug #1214433
    
    Change-Id: Ie844f3c95675c4d734390c23ed2d421c159ce8a7

commit 53cf8caccd36bfcf8874776c02086d2da1ca6c76
Author: Ken'ichi Ohmichi <oomichi@mxs.nes.nec.co.jp>
Date:   Fri Aug 23 14:40:04 2013 +0900

    Remove unused methods from LVM driver
    
    _set_execute() has been unused since b569df9, and _size_str() has
    been done since f4a9429. So this patch removes them for clean-up.
    
    Change-Id: If8a2703afb08623b69ec6adc105cf58b0e4a15dc

commit fcd45a4f01f70a5c985b5ce9af66f4882240ecb4
Merge: c6cfcc9 684b3cc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 11:14:19 2013 +0000

    Merge "flake8 H202 error in test_image_utils.py"

commit c6cfcc9f31aeab766cbbc2dea39a062a71c41ae3
Merge: 7ebe65d 5f5a37d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 11:14:10 2013 +0000

    Merge "GPFS use clone_image for creating volumes"

commit 7ebe65d5ff9888bb295085be602796bf18d3bf6c
Merge: 4048dfe 4b4bfed
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 11:14:08 2013 +0000

    Merge "Move root task class to base file."

commit 4048dfef9d03e0f28ba8f147f9bdf85dd2e94397
Merge: c0a44ae 3c766d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 09:39:26 2013 +0000

    Merge "Increase test coverage brick/initiator/connector"

commit c0a44ae2e88b974277656180362a94aceb75caef
Merge: f2cfd6a 33fed07
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 09:39:24 2013 +0000

    Merge "Remove unused methods from cinder.utils"

commit f2cfd6ab145902d2aecae7d1df1cd05eb60b6b0b
Merge: b5615f8 27a9ed5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 09:34:38 2013 +0000

    Merge "3PAR driver add missing domain check on QOS cmd"

commit b5615f80f48c58e8033563fbf97601faa6037fce
Merge: 344b96e e13b7d8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 09:34:35 2013 +0000

    Merge "Dont crash service if sf cluster isnt available"

commit bba098c8319fe9b3b11d04e65e7f1d0945987301
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Aug 22 23:17:57 2013 +0300

    Storwize/SVC: allow setting of I/O group
    
    Allow setting the I/O group via config option or volume type. Also
    updated comments and checks regarding iSCSI multipath, which is in Nova
    and is not controlled by the driver.
    
    Fixes: bug 1215363
    
    Change-Id: Ia67fcb9991e21990cc81830145b8fd934a23488e

commit 344b96eb8ba001b9bd27a65317a8aeb50e9f8ef2
Merge: 61db6db c60d031
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 03:34:03 2013 +0000

    Merge "Refactor cinder/tests/test_volume.py"

commit d0285562632c329f45cc1cf65eae71f9532d3613
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat May 18 22:21:28 2013 +0800

    Implement QoS support for volumes
    
    This patch is to implement generic Quality-of-Service(QoS) support for volumes.
    The goal is to add an interface so that cloud/Cinder admins can use to set
    volume QoS, which can be enforced either in hypervisor or on Cinder back-end
    or both. QoS specifications are added as a standalone (only visible to admin)
    entity.  So admin can create/update/delete and associate/disassociate QoS
    specifications to other entities, in this case volume types.
    
    Note that while it's possible for Cinder to set the granularity of QoS control
    to every single volume, this patch puts the control granularity to the level
    of volumes of the same type to minimize the impact of other Cinder parts.
    In other words, the design is to bond QoS with volume types. So Cinder admin
    can associate volume types with QoS specifications, and volumes of same volume
    type share the same QoS specifications.
    
    QoS can mean a lot different things that it's unlikely we can come up with a
    interpretation that all vendors can agree on.  So the approach this
    implementation takes is to make Quality-of-Service specs as free-from, i.e.
    expressed as key/value pairs.
    
    Changes:
     - Add a quality_of_service_specs table, using adjacency list relation to store
     a specs entry and its detailed specs in key/values. Note that to be able to
     distinguish where should the QoS specs be consumed, each QoS specs entity
     will have a 'consumer' (i.e. fixed key) with the value of where admin would
     like the QoS policy to be enforced/consumed, currently these three values are
     considered valid: 'front-end' (Nova Compute), 'back-end' (Cinder back-end),
     'both'. The default value for 'consumer' is 'back-end';
     - Add a new API extension 'qos_specs_manage' to allow list/create/update/
     delete/associate/disassociate of QoS specs;
     - Add volume/qos_specs internal API for qos specs manipulation;
     - Add 'qos_specs' info to data structure when
     initialize_connection() is called.
     - Add 'qos_specs' to request_specs and filter properties for
     a volume create request.
    
     TODO
     - Modify 'type_manage' API extension to be able to accept qos info.
     - Modify volume_types.create() to accept qos info and do the checks.
    
    DocImpact
    
    implement blueprint: pass-ratelimit-info-to-nova
    
    Change-Id: Iabc61b941aaff10395b30e2045e3421369a317e2

commit 61db6db85ed3ad90682cfea5d1aa8c3866e355b5
Merge: a06b1fd ab29496
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 01:29:39 2013 +0000

    Merge "Allow volume create from source unless in error status"

commit a06b1fd8c15fad9a79310eac63c041de7b505800
Merge: e0048c6 1bdaeb0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 23 01:24:56 2013 +0000

    Merge "Backup driver for IBM Tivoli Storage manager (TSM)"

commit e15a968886745ef3390bd3de4a573ca59f4efdb8
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Tue Aug 20 17:47:12 2013 -0700

    Move the frequently injection task to the base folder.
    
    Key/value injection is a typical way to bootstrap a
    dependency based system (as there needs to be an
    initial set of values to depend on). Since this inject
    task is frequently used to accomplish this we should
    just move it to the base file.
    
    Change-Id: Ib49e949f319bc18744fc95f8a02fab1eade0fb6a

commit 4b4bfed7a3d0977c50813a38e636636d017c3909
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Tue Aug 20 17:40:47 2013 -0700

    Move root task class to base file.
    
    Start cleaning up the large create_volume file by
    splitting up the base task and task naming helper
    into its own file.
    
    Change-Id: Ibff80dc8b10507d49374737b4760039f51d8e1ba

commit e0048c692481eb9ce4b5c0a6bef19310e7791de7
Merge: 0433d71 878ac16
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 21:23:26 2013 +0000

    Merge "Fix python 3 pep8 errors for print"

commit 1bdaeb07a5fceaffbbc10f29b549141f9dba0dfa
Author: Ronen Kat <ronenkat@il.ibm.com>
Date:   Thu Aug 8 12:12:37 2013 +0300

    Backup driver for IBM Tivoli Storage manager (TSM)
    
    An implementation of Cinder backup driver using TSM as a backend for
    Cinder backups. The driver is a wrapper for the TSM command line
    utility dsmc, and uses TSM image backup and restore.
    
    Re-added make_dev_path from cinder/utils.py which was removed by commit
    d65425453d215ad64e2bf31b66a3b613c6e7f879
    
    Change-Id: Id105c91ffd3ca953a9fc67dc13f31c3b885bccd7

commit e13b7d8a46cd54e61bdc20500ad597c2545ffaed
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Aug 21 13:05:30 2013 -0600

    Dont crash service if sf cluster isnt available
    
    Currently if the SolidFire driver is configured but the cluster
    isn't available for some reason the ensure_export call will raise
    an unhandled exception and crash the volume-service.
    
    We should be able to handle things like loosing connectivity to
    a single back-end without impacting the other volume-service
    backends.
    
    We'll wrap the ensure_export call in a try block here and
    return None in the case that the connection can't be made.
    This will keep the service from crashing and log an error
    message that the connection timed out.
    
    Additional work would include adding a periodic retry task
    to the manager to try and start the backend service for us
    on some regular interval incase the device comes back.
    
    Fixes: bug 1215064
    
    Change-Id: Ice3f517d220c40113074bb77adbb10d5e32abd0b

commit 27a9ed5ace86e8d6aabc564f4a364d9b45b5124f
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Thu Aug 22 09:28:37 2013 -0700

    3PAR driver add missing domain check on QOS cmd
    
    The 3PAR drivers need to support CPGs that are not part of a
    virtual domain on the 3PAR backend. This patch now checks
    if the domain is set before calling the createvvset command.
    This instance was overlooked in the following patch that has
    already been merged: https://review.openstack.org/#/c/42697/
    
    Also fixes: bug 1212328
    
    Change-Id: I0375dfc89104775582b9258f18f97c683e6148b1

commit 0433d71bdef7fd0e14bf35b57215bc1dda7cedda
Merge: abbeaf7 77bdcf5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 14:39:59 2013 +0000

    Merge "Unified Volume Driver for IBM XIV and IBM DS8K"

commit 33fed07edeb95f77827002ef74ccb878a221cd6b
Author: Vladislav Kuzmin <vkuzmin@mirantis.com>
Date:   Thu Aug 22 16:15:45 2013 +0400

    Remove unused methods from cinder.utils
    
    These methods were left over from the split from Nova and are unused still.
    
    Remove methods:
    	fetchfile()
    	trycmd()
    	generate_uid()
    	last_octet()
    	get_my_linklocal()
    	parse_mailmap()
    	str_dict_replace()
    	flatten_dict()
    
    Change-Id: I5d41dec66246814bb1edb6f4993d5307587a00f9

commit abbeaf7cb73f4e53178c2772b3e2625c42fb14ad
Merge: 4e889e9 5a49640
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 12:15:22 2013 +0000

    Merge "3PAR driver terminate connection host validation"

commit 4e889e999884c12c7e5469e180dd8b05695d4b33
Merge: 73290f5 51fc2bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 10:49:48 2013 +0000

    Merge "Relax policy so owner can access encryption info"

commit 73290f50a768f46f5bc40fe52727040aaff72633
Merge: 6c6d5d4 a78e3f7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 10:43:38 2013 +0000

    Merge "Fix incorrect msgstr's to avoid translation errors"

commit 6c6d5d465ece583c940ebfd82baeee62cf655857
Merge: 6fd74e4 e95a64d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 08:01:51 2013 +0000

    Merge "Allow to delete a volume in error_extending status"

commit 6fd74e4dcf01837f96be58f81751e587074b8a64
Merge: a9cbbdf 2bec15e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 08:01:44 2013 +0000

    Merge "Avoid serializing CinderExceptions before they are translated"

commit a9cbbdf24cf4920bb8378c9e94d61df7194fbe76
Merge: c8c91c5 2672a1e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 07:51:43 2013 +0000

    Merge "Use system locale when Accept-Language header is not provided"

commit c60d031cd818b3fe30021937dff5fa9156907b21
Author: Julia Varlamova <jvarlamova@mirantis.com>
Date:   Mon Aug 12 12:49:25 2013 +0400

    Refactor cinder/tests/test_volume.py
    
    Refactor test_volume.py to remove code duplication.
    - remove iterant definition of the 'expected' dict from
    'test_create_delete_volume' and 'test_create_delete_snapshot'
    method;
    - move 'test_copy_volume_to_image_status_available',
    'test_copy_volume_to_image_status_use' and
    'test_copy_volume_to_image_exception' methods to new class
     CopyVolumeToImageTestCase;
    - move 'test_volume_get_active_by_window' and
    'test_snapshot_get_active_by_window' to new class
    GetActiveByWindowTestCase;
    - create base class BaseVolumeTestCase for TestCase classes.
    bp cinder-tests-improvement
    
    Change-Id: I5d3644375d321e613418ea8e544557d33401ff77

commit c8c91c59f665b33f0ec66c9d38aa1da6bfe19a58
Merge: d6051ac d581c86
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 06:41:50 2013 +0000

    Merge "Adds brick helpers to cinder utils"

commit 77bdcf525eb762d3fb48289c2e35d89363b59cbf
Author: Erik Zaadi <erikz@il.ibm.com>
Date:   Mon Aug 12 13:27:19 2013 +0300

    Unified Volume Driver for IBM XIV and IBM DS8K
    
        * Refactored xiv.py to xiv_ds8k.py
        * Updated tests
        * Updated flags
        * Updated compatibility checks
        * DocImpact
        * Added extend_volume and migrate_volume
    
    implements blueprint ibm-unify-xiv-ds8k
    
    Change-Id: Ifd64fc1dab91ada6fd42a7e92a41361cf220042f

commit d6051ac1c79349aa926d47f4de09c2c83b3010ec
Merge: 289f2cc ced1deb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 06:34:31 2013 +0000

    Merge "Removes ssh_execute in utils.py"

commit 289f2ccba9c3d0847840af6a26dcbae9e839b504
Merge: aaad83d 39fc6c6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 05:22:21 2013 +0000

    Merge "Generic backup_volume and restore_backup functions"

commit aaad83dba50fecc65d0d22a7909e81552da93928
Merge: d230dd2 99e42e4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 02:36:43 2013 +0000

    Merge "Storwize/SVC: More error logging"

commit d230dd2870b2b43f9601af1499191b9e5c784785
Merge: 6d30eae dbc0fda
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 22 02:31:51 2013 +0000

    Merge "Fix some pylint error in Coraid Driver"

commit d581c8655e876e86cbd7357eb3ba686017949e97
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Aug 21 14:00:13 2013 -0700

    Adds brick helpers to cinder utils
    
    This patch adds some cinder utils functions
    that wrap calls into brick to automatically
    populate cinder's root wrap helper.  This
    prevents propogating the recreation of the
    sudo cinder-rootwrap string.
    
    Change-Id: I3ae2add4f38a40c57ca197b231e09a9856d7e809

commit 878ac164a391e761c72c5fdcd12f0caf48c7d359
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Aug 12 21:50:53 2013 +0000

    Fix python 3 pep8 errors for print
    
    The new auto-pulled requirements files exposed
    python 3 compat issues in a number of modules.
    We added these to tox.ini ignore temporarily,
    this change updates the print routines in bin/cinder
    and removes the debug cruft that was in the unit tests.
    
    Will update requirements and test-requirements
    appropriately in a follow up patch.
    
    Change-Id: I76ea24f4dc1f61c4f8a1d202b0554c90daf2c9cc

commit a78e3f7b0ed82fc8d4233e0fbfab849b73b69cee
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Wed Aug 21 16:39:04 2013 -0500

    Fix incorrect msgstr's to avoid translation errors
    
    There are numerous msgstr's in the cinder.po files for en_US,
    en_AU and en_GB that are incorrect translations of the associated
    msgid.  It appears that there are a number that are the result of
    problems with past fuzzy translations gone wrong and some may also be the
    result of copy/paste mistakes.  Regardless of the origin it makes debug and
    development very difficult if the string that is coming out in the
    logs doesn't match what is expected.  This patch fixes the numerous
    bad msgstr's.
    
    Once this commit is merged, Transifex will catch the change to
    the Cinder po files and then spin a new Transifex Translations import.
    
    Fixes bug #1209317
    
    Change-Id: Ia78f5ebb4bec996798798bb25ea1b97c47b5e50b

commit 5f5a37d31a4466e32fad39000ecf71156cc09b2d
Author: Bill Owen <billowen@us.ibm.com>
Date:   Fri Aug 16 15:49:06 2013 -0700

    GPFS use clone_image for creating volumes
    
    If both source and target of gpfs create volume from image operation
    are backed by gpfs storage use clone_image method for implementing
    the move of image data to the new volume.
    
    The copy_image_to_volume method is used only if this is not true,
    and uses image_utils.fetch_to_raw to move image data to the new
    volume.
    
    Fixes bug #1213248
    
    Change-Id: I3958febe67cc86bc3cb608288f7d064f74d3a731

commit 6d30eae197433402c402cbcee71f598957465cd0
Merge: af62239 d5793e0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 19:11:13 2013 +0000

    Merge "Add accept_transfer to solidfire driver"

commit af62239873bbe8e7ae68f382ca87e527c2031f65
Merge: 30473cc 8fa1fa8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 19:09:13 2013 +0000

    Merge "Added need info to accept_transfer"

commit 30473cc10e02afdad7646d4a8215db63e47b4275
Merge: 6a1d48e d654254
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 19:07:12 2013 +0000

    Merge "Remove unused methods from cinder.utils"

commit 6a1d48eaf5d27ec121407113a492a8ca1bb00cbb
Merge: 3686f9c 8bd2607
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 16:43:32 2013 +0000

    Merge "Fix Fibre Channel attach for single WWN"

commit 3686f9c8a28fec1315345fb01ebbfdec63108a3f
Merge: d2b48cd b569df9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 16:43:30 2013 +0000

    Merge "Update Brick to use executor"

commit 5a49640ba85adceb9fe91f745e5e374c3ee5a112
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Aug 21 09:38:54 2013 -0700

    3PAR driver terminate connection host validation
    
    The 3PAR backend does not allow FQDN host names (i.e. foo.rose.hp.com),
    instead it requires just foo without the rose.hp.com. This patch will
    now validate the host name in terminate connection by calling
    _safe_host just as it was doing in initialize connection when creating
    the host on the 3PAR backend.
    
    Change-Id: I52e90938c782473edc93f30672a0530ab5934edc
    Fixes: bug 1214994

commit 998bee4a5da75a9eb39b6d3bdc6a96791fb6d8aa
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Wed Aug 14 10:16:42 2013 +0000

    Re-enable a lot of cinder scheduler tests
    
    This highlight and fixes a NoneType exception in the schedulers
    _get_weighted_candidates method
    
    This was originally added to get around the fact that the filter tests
    required that cinder was correctly installed on the system. But the
    is_cinder_installed condition always returning False and this hid
    problems of old packages been installed in our system. Also
    930f5891b0815e1b49b9b2cc840e0c24b2796e84 added the setup.py automatically
    to run_tests.sh so we can remove this.
    
    See https://review.openstack.org/#/c/20213/ for history.
    
    Fixes bug: 1213226
    
    Change-Id: I86fee802c0543355471ddbd712e52ccec750cea0

commit 8619b974d17a186dc1013bfdc9d95f6a2e823335
Author: Kui Shi <skuicloud@gmail.com>
Date:   Wed Aug 21 19:07:43 2013 +0800

    emit warning while running flake8 without virtual env
    
    run_tests.sh -N -p
    it will call the flake8 installed on your host to detect PEP8, and
    the flake8 plugin "OpenStack hacking" may not installed on your
    host, so this command may not detect the OpenStack Style Commandment
    supplied by hacking(e.g H202).
    
    run_tests.sh -p
    it will call the flake8 from virtual env, flake8 plugin "OpenStack
    hacking" installed in virtual env will be triggered.
    
    The result from "run_tests.sh -p" should be trusted, and jenkins uses
    virtual env to run flake8 too.
    
    When "-N" is enabled, emit warning to remind user.
    
    Bug #1208584
    
    Change-Id: Ie08e5fa2b44088dad135e11583c046650d65df1e

commit 162aa28824fb6caa6e3adaf7ed268e9fae178a73
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Mon Aug 12 19:25:59 2013 +0800

    Set bootable flag for volume cloned from image
    
    In previous code we don't set the bootable flag for volume
    cloned from image. This does not appear to break booting
    from volume at present but the status displayed by the cinder
    client is broken.
    
    The bug is reported and fixed several months ago(bug #1185533)
    but the author doesn't provide unit test with the patch. Now it
    has been broken again by somebody else.The patch re-fixed this
    bug together with unit tests.
    
    Also add a function named _handle_bootable_volume_glance_meta,
    it is a combination of enable_bootable_flag and glance_metadata
    handling. There are 3 kinds of volume creation tasks may required
    to copy/fetch the glance metadata. In previous code every kind of
    task have its own handling code, this patch consolidate them together
    to share some common code.
    
    fixed bug #1211272
    fixed bug #1185533
    
    Change-Id: I86007e26efbebe58dc0c5995b6f14f68258144b5

commit d65425453d215ad64e2bf31b66a3b613c6e7f879
Author: Vladislav Kuzmin <vkuzmin@mirantis.com>
Date:   Mon Aug 19 15:37:56 2013 +0400

    Remove unused methods from cinder.utils
    
    These methods were left over from the split from Nova and are unused still.
    
    Remove methods:
    	is_valid_ipv4()
    	make_dev_path()
    	convert_to_list_dict()
    	partition_dict()
    	subset_dict()
    
    Change-Id: Icb36aa6a2d1f607c440a2d524d3480de23d1cb7a

commit d2b48cd96db32668876c0d3e9518653f09d7cacb
Merge: 27df5c5 299d06f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 09:24:35 2013 +0000

    Merge "Make the SolidFire driver api port configurable."

commit f3e0ab26988ee1ecd6fea6348e2954f97df6dd01
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Fri Aug 16 16:39:59 2013 +0000

    Clean up the sqlalchemy migrate manage.py script.
    
    This way we can run it without figuring out passing in
    the correct url and repository information.
    
    Change-Id: Ib0f2c9d5c3888a1c094c8b636d735832a6242b7e

commit e95a64d17d67ac8e9e5cc01e145deef8b465c5a5
Author: Ken'ichi Ohmichi <oomichi@mxs.nes.nec.co.jp>
Date:   Tue Aug 20 12:26:36 2013 +0900

    Allow to delete a volume in error_extending status
    
    We must be able to remove "error_extending" volume, because we
    cannot retrieve it without changing database status.
    If trying to remove the volume, now it fails like the following:
    
    $ cinder delete vol-test01
    ERROR: Invalid volume: Volume status must be available or error,
    but current status is: error_extending
    $
    
    "error_extending" also would be error status, so it is good to
    remove the volume.
    
    Fixes bug #1214228
    
    Change-Id: I861e7af75f2c50d4e03ef3680dccde73078b4888

commit 27df5c5db7ab0992f179ed8cc87490a7177c5e49
Merge: 4bad48e 932c3b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 06:11:52 2013 +0000

    Merge "GPFS support for various volume attributes"

commit b569df9951b36b279438f5881beb813cd3eb39b3
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Aug 15 10:41:08 2013 -0700

    Update Brick to use executor
    
    modify existing modules in Brick
    to make use of the Executor object,
    so we don't replicated the same
    set_execute() method everywhere.
    
    Change-Id: Ib0363029557253ad86bae90e1db4fefd24a42df7

commit 4bad48e70982332d38f91a07aad6d067ada391ef
Merge: fc705de 0787030
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 21 05:56:25 2013 +0000

    Merge "Removed need for domain in 3PAR drivers"

commit 684b3ccf77b5051d9bc15b931ea756f4639492c2
Author: Kui Shi <skuicloud@gmail.com>
Date:   Wed Aug 21 10:48:55 2013 +0800

    flake8 H202 error in test_image_utils.py
    
    H202 will detect following case:
    self.assertRaises(Exception, foo)
    
    Replace Exception with test.TestingException to pass the H202 checking.
    
    Bug #1214365
    
    Change-Id: Idbd13d11995e6a22e99bb9d63c344a5b1a75f987

commit ced1deb310cea2734563a7f20915c759078a3388
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Mon Aug 19 09:58:26 2013 +0800

    Removes ssh_execute in utils.py
    
    The ssh_execute function is already defined in oslo.processutils
    Removes the version in utils.py
    
    Change-Id: Ie0bd73d1f4e6df290270f6d712584431e965be78

commit 8b35b1d714444a385a200e3e006ce3af84dae3c9
Author: Adalberto Medeiros <adalbas@linux.vnet.ibm.com>
Date:   Tue Aug 13 14:50:24 2013 -0400

    Fix volume_glance_metadata deletion
    
    If volume_glance_metadata does not exist for a certain volume,
    it returns an exception and does not delete volume from db.
    Avoid deleting it if it does not exist.
    
    Bug: 1209367
    Change-Id: Ia607ec5ecfc115c1a593f14236ee93158938a8da

commit 2672a1e24ed0ad0c189110eb04ddcba78cd48be5
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Aug 20 16:47:38 2013 +0000

    Use system locale when Accept-Language header is not provided
    
    Remove en_US as the default language when no header is provided, and use
    None instead. Upon translation None will be defaulted to system as it
    was before the translation changes.
    
    Fixes bug: #1214476
    
    Change-Id: I0fe22c526710e69ae0731e7d0b42170e6f3a8523

commit fc705de5e4058efcd9b4f268f1428bc8e673193c
Merge: 64cad73 ecddac5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 20 19:00:59 2013 +0000

    Merge "Use FakeLoopingCall instead of the real one"

commit 39fc6c6aea6192ae005194e282cfe4749e0db07d
Author: Ronen Kat <ronenkat@il.ibm.com>
Date:   Wed Aug 7 15:37:07 2013 +0300

    Generic backup_volume and restore_backup functions
    
    Add implementation for backup_volume and restore_backup to the
    VolumeDriver class, which uses brick for attach and detach.
    Add default NotImplmeneted implmentation for non block drivers:
    remotefs, coraid, gpfs, scality, sheepdog and sm.
    
    Change-Id: I291390a58608b14f0deea703fc5cec3e34b965cd

commit 51fc2bd41e236404a8db8e4beefd0ec265fb1a5a
Author: Joel Coffman <joel.coffman@jhuapl.edu>
Date:   Tue Aug 20 13:02:24 2013 -0400

    Relax policy so owner can access encryption info
    
    The admin only policy is too restrictive to allow Nova to access a
    volume's encryption metadata using the owner's request context. Hence,
    this commit relaxes the policy for the volume encryption metadata
    API extension so the metadata is accessible to the volume's owner.
    
    Implements: blueprint encrypt-cinder-volumes
    Change-Id: Ia946850b79f7f717ab7528caf7cac2905e650917
    SecurityImpact

commit 64cad73835568b650de241610d9f94e8c6560b4b
Merge: a75901c 2584b30
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 20 16:16:03 2013 +0000

    Merge "Add root_helper param to get_connector_properties"

commit 8bd26071418c26ccaa40423b75750fa3bab1fa22
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Aug 20 18:53:47 2013 +0300

    Fix Fibre Channel attach for single WWN
    
    The code allowed for only a string of the WWN or a list of them.
    Unfortunately unicode is also returned, for which the attach fails.
    This patch allows for unicode as well.
    
    Change-Id: I4d2809b41b24b2240e447a5c09f14e6438304cd6
    Fixes: bug 1214413

commit 299d06fc06fb63080ac5aa55353d06601f8ad7e4
Author: Paul McMillan <paul.mcmillan@nebula.com>
Date:   Tue Aug 20 01:58:02 2013 +0100

    Make the SolidFire driver api port configurable.
    
    Making the SolidFire driver api port configurable allows it to be
    placed behind a transparent proxy.
    
    Change-Id: I976ecfd5df11797722776faf65777ca1ffa5b0c4

commit d5793e0c6289f011c67e6b18551066eb2cac38b5
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Aug 16 17:21:21 2013 -0600

    Add accept_transfer to solidfire driver
    
    The SolidFire cluster is tenant aware and as such
    needs to change account association on volume transfer.
    
    We use the project_id to build this account, so read that
    in here and create a new account if necessary and re-assign
    the existing volume to the new tenant account.
    
    Change-Id: I29879714c2d32a982918cd1305c8eb00718795fd

commit 8fa1fa806b36bd9a06c13b0d1255e87c6307b179
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Aug 16 17:12:11 2013 -0600

    Added need info to accept_transfer
    
    Drivers that implement accept_transfer will need
    things like the new user_id and project_id.  We were
    not including this in the original add, in order for
    drivers that are tenant aware this information will be
    necessary.
    
    Also the get_volume call in the transfer was using
    the new user context, so the volume would never be
    found.  We fix this here by providing an elevated
    context to the get_volume call when accepting the
    transfer.
    
    Change-Id: I7b60c19950f85c4309a97bb842ff238bcf8e746a
    Fixes: bug 1213275

commit a75901c65d16126da09bcfc94e8d5512c6a92b17
Merge: 7bc3c08 b318bd3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 20 09:58:28 2013 +0000

    Merge "Standardize on ID for log messages"

commit 7bc3c0899ada591bde32cb89f967d3cdd01ec203
Merge: 34f532c 3aaf906
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 20 09:43:46 2013 +0000

    Merge "Reduce hidden effects of sqlalchemy objects"

commit ab29496714296161ce60b3cd59b85289c3f8889e
Author: Alan Jiang <ajiang@us.ibm.com>
Date:   Tue Aug 20 00:22:44 2013 -0500

    Allow volume create from source unless in error status
    
    This patch restores the source volume status checking behavior
    to allow create_volume function to proceed unless it is in
    error status. In FibreChannel attached environment, it is typical
    to have a volume attached before the volume clone starts. The
    operating system owns the volume will ensure the consistency.
    
    Fixes: bug #1214235
    Change-Id: Ie639f2f36e2939399303ca0658c169124801e86b

commit 34f532cc4c94e1ebb796e60ff5e3a7cc2eda9231
Merge: 5d6c11f dee13e6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 20 05:12:09 2013 +0000

    Merge "Allow Cinder to call Nova client"

commit 2bec15e185e844dff757e09fa72a3b61d91e5f96
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Mon Aug 19 20:19:57 2013 +0000

    Avoid serializing CinderExceptions before they are translated
    
    CinderExceptions were being unicode()'d when being wrapped in an
    HTTPException, and this was causing the delayed translation to fail for
    those errors.
    
    Also, CinderExceptions have a 'message' class attribute that holds the
    generic error message template, e.g. "Backup  %(backup_id)s is not
    found", unfortunately, because the names are the same, it was
    overshadowing the actual exception instance 'message', e.g. "Backup 1 is
    not found", when translating. This patch puts the exception's actual
    message in a new field called 'msg'.
    
    Fixes Bug: #1214102
    
    Change-Id: Ied9abcc3d05454852c0a5891432eb181220a744e

commit 2584b3038239b6f48f540c17b36e5c891e303c58
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri Aug 16 08:18:09 2013 -0700

    Add root_helper param to get_connector_properties
    
    This patch adds the ability to pass in a custom
    root_helper for executing commands.  This is needed
    for other projects that need a custom root-wrapper,
    such as nova.
    
    fixes Bug #1213135
    
    Change-Id: Ie18276ae2e736bb2276d4e9c57385d2588441428

commit b318bd3b1cf7b6497af27ccf8d6982427240a642
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Aug 19 15:04:15 2013 -0600

    Standardize on ID for log messages
    
    We have some places where logs use name to identify
    a volume and others where we use ID.  Let's standardize
    on the UUID here as that's typically the unique identifier
    we use in most places anyway.  Even though name is a
    derviative it seems better to be consistent with this
    and use the UUID by itself.
    
    Change-Id: Iaee3d146042780e4a526834db1e0be84a705f24b
    Fixes: bug 1214140

commit 3aaf9068eafa16b94d9437cd374da88231f62927
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Mon Aug 19 11:31:56 2013 -0700

    Reduce hidden effects of sqlalchemy objects
    
    The flows are currently holding onto sqlalchemy
    due to bug #1214083 and this is causing a problem
    with gettextutils which appears to be deepcopying
    the raw objects, of which one of those is sqlalchemy
    objects, which can't seem to be deepcopied.
    
    Change-Id: Ie831738799a75e2a4a652c73900cad353a71e327

commit 0787030220762b59d94a368f6e0bbf20f606cb48
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Mon Aug 19 11:14:42 2013 -0700

    Removed need for domain in 3PAR drivers
    
    The 3PAR drivers need to support CPGs that are not part of a
    virtual domain on the 3PAR backend. This patch removes the need
    for the CPG to be part of a domain and changes a few of the commands
    that took the domain as an option.
    
    DocImpact
    
    Change-Id: I7e472e19e484e837c9216ea01455a4b8a85b19e5
    Fixes: bug #1212328

commit 5d6c11facc330fc320474d76e137fbdf899097b4
Merge: 7c9817b 96a8a16
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 19 15:41:37 2013 +0000

    Merge "Remove strcmp_const_time"

commit 7c9817b9bb95c700bbe7fa051d792328a9ea83b0
Merge: 08b6480 bf044e7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 19 15:39:45 2013 +0000

    Merge "Update Nexenta ISCSI volume driver authors"

commit dee13e6a3660f94cbbc143151e9d4046882f2032
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Aug 11 19:40:10 2013 +0300

    Allow Cinder to call Nova client
    
    This code allows Cinder to call Nova client functions. This will be used
    for online migration and guest-assisted snapshots, which are both in
    progress.
    
    Change-Id: I9c94917bddcf250b880ca730df463a8402fe6b1d

commit ecddac571c28c7fb3c2cffbe3da1441e993472a3
Author: Nikolay Sobolevskiy <nsobolevsky@mirantis.com>
Date:   Mon Aug 19 11:48:03 2013 +0400

    Use FakeLoopingCall instead of the real one
    
    Decrease the execution time in brick's tests.
    
    Change-Id: Idef19e91f593c2c276015d5bf9f9cc85cd6094ad

commit dbc0fda1505bb1bedd418a4fa7f3e038c223eff9
Author: Nikolay Sobolevskiy <nsobolevsky@mirantis.com>
Date:   Mon Aug 19 11:22:37 2013 +0400

    Fix some pylint error in Coraid Driver
    
    Chage usage of rpc method in tests, for fixing
    3 pylint error.
    
    Change-Id: Ib30d3f1a26b718d2fca588668683253c03df01ba

commit 99e42e436798b64bad3a2a327cd5e82eb861d2e8
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Aug 15 14:31:03 2013 +0300

    Storwize/SVC: More error logging
    
    Some cases had exception raised without logging the error, and one
    case where FC was not configured properly raised an IndexError rather
    than presenting a clear message.
    
    Fixes: bug 1212652
    
    Change-Id: I7c39977f8e168e5e6afcdeb0f772fec854732140

commit 08b6480ca8f9ff9c8bd1a20e2660ac8cfecb4c53
Merge: d23e6ef 854db60
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 17 23:06:44 2013 +0000

    Merge "Added missing import"

commit 96a8a1643b90219b15aa3aa83f075044e7b85c40
Author: Eric Harney <eharney@redhat.com>
Date:   Sat Aug 17 18:33:16 2013 -0400

    Remove strcmp_const_time
    
    This was carried over from Nova and isn't used in Cinder.  Removed
    in Nova via commit 08a5066d with message:
    
    "This function was used with deprecated auth and is no longer used
    anywhere in the code, so just remove it."
    
    Change-Id: I2b90a1a723265d9d23f89ec03246de8508d591e5

commit d23e6efc73a61e98966ee73e6d51890817d469bb
Merge: b699906 6577ec0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 23:38:59 2013 +0000

    Merge "Add more asserts to the limiter unit tests to test the RateLimit"

commit b69990682b4aaa4eefd1e806e9ca85745acdc98d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jul 22 10:39:54 2013 -0600

    Refactor LVM driver to use Brick VG utility
    
    Refactor the LVM driver to utilize bricks LVM
    module.  This includes significant modification to
    tests and fake objects related to testing.
    
    implements blueprint: refactor-lvm-and-iscsi-driver
    
    Change-Id: I94e41abf90d0c5b77e732d40ed8b81b0a2f5d7dd

commit f88732fdd5b172a3762cebc84eec6ccf56fd16c3
Merge: 8e4cbb4 0ab8c56
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 22:35:26 2013 +0000

    Merge "Fixes SSH injection threat in 3PAR driver"

commit 8e4cbb4fee6aa0ca8339678f8d0109327d5f47e0
Merge: eac4558 a2d6471
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 22:32:08 2013 +0000

    Merge "Implement missing Coraid Driver functionality for Havana"

commit 854db60879294e02b7493a16826e463f9d68b330
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri Aug 16 15:18:05 2013 -0700

    Added missing import
    
    pep8 tests didn't find this one.
    This patch adds the missing _ import
    
    Fixes Bug #1213268
    
    Change-Id: Ia0e688fc15ccc4d8b3f83516c517e9f9c83767a0

commit eac4558bb501a49ed792e1fcb9955168ca3b975f
Merge: 5f28be5 122d4e0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 18:40:59 2013 +0000

    Merge "Add support for encrypted volumes"

commit 0ab8c56a456082a8f25fe879a68b032111558536
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Fri Aug 16 08:48:03 2013 -0700

    Fixes SSH injection threat in 3PAR driver
    
    The setqos ssh command was not built up correctly when the following
    patch https://review.openstack.org/#/c/37697/ landed for cleaning up
    the SSH calls from injection attacks in the 3PAR driver.
    
    The command was in the following format causing the injection threat
    due to the spaces in the second item in the list:
    ['setqos', '-io 5000 -bw 500M vvset:vvs-JOHB2Oj0QJ2UaWatwbe7Bg']
    When it should actually be in the following format:
    ['setqos', '-io', '5000', '-bw', '500M', 'vvset:vvs-JOHB2Oj0QJ2UaWatwbe7Bg']
    
    This patch fixes an append vs. extend that was introduced in patch
    https://review.openstack.org/#/c/42241
    
    Also fixes: bug 1212884
    
    Change-Id: I28f84acd02397ee0d433a666375737145904d67e

commit a2d647126c21b2233e5d574143052070281062cc
Author: Nikolay Sobolevskiy <nsobolevsky@mirantis.com>
Date:   Thu Aug 1 16:57:54 2013 +0400

    Implement missing Coraid Driver functionality for Havana
    
    Intorduce a brick connector for AoE protocol.
    Refactoring Coraid Driver. Implement missing functionality for Havana:
    - Copy Volume To Image
    - Copy Image To Volume
    - Clone Volume
    
    Fix a bug with resize volume command.
    
    Change-Id: I2af6a41dc44cb8bc4b74da752e0be9ed54a83cb1
    Implements: blueprint coraid-driver-refactoring-for-havana

commit 5f28be5cc60ec92cee2733a7f91659a4d2830292
Merge: 5718080 e8acc50
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 13:38:35 2013 +0000

    Merge "Fix SSH injection threat in 3PAR driver"

commit 3c766d65402c3d81934c302b3cfbfb573c04aefd
Author: Yuzlikeev Eduard <eyuzlikeev@mirantis.com>
Date:   Thu Aug 15 15:14:28 2013 +0400

    Increase test coverage brick/initiator/connector
    
    Covered next methods:
    	disconnect_volume_multipath_iscsi;
    	get_multipath_iqn;
    	get_iscsi_devices;
    	get_multipath_device_name;
    
    Change-Id: I0eaffa6d1408446f1f13e56016642df5337015a2

commit 5718080adb882ca5378bbb8e39686e5b60d4e5bc
Merge: c4b6f7b 3541036
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 04:54:21 2013 +0000

    Merge "Refactor Nexenta driver"

commit c4b6f7b99a5ae3f3250106620509ce8e10ad1f1a
Merge: 6730c9c abac1a6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 04:52:29 2013 +0000

    Merge "refactor/unify driver version strings"

commit 6730c9c66df64be4874ebc61fb827f2d6970db81
Merge: b001824 681a898
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 16 03:59:26 2013 +0000

    Merge "Externalize error messages in the v2 API"

commit e8acc504faccbf815b53d2c39cdc6d858ba03da3
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Thu Aug 15 16:22:31 2013 -0700

    Fix SSH injection threat in 3PAR driver
    
    The setqos ssh command was not built up correctly when the following
    patch https://review.openstack.org/#/c/37697/ landed for cleaning up
    the SSH calls from injection attacks in the 3PAR driver.
    
    The command was in the following format causing the injection threat
    due to the spaces in the second item in the list:
    ['setqos', '-io 5000 -bw 500M vvset:vvs-JOHB2Oj0QJ2UaWatwbe7Bg']
    When it should actually be in the following format:
    ['setqos', '-io', '5000', '-bw', '500M', 'vvset:vvs-JOHB2Oj0QJ2UaWatwbe7Bg']
    
    Change-Id: I69ed8dbca3af3ba56220891411b63331c1935373
    Fixes: bug 1212884

commit abac1a6c1c55c673603d4943711c02a09ed4c34d
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Aug 15 15:54:30 2013 -0700

    refactor/unify driver version strings
    
    This patch updates each driver to provide
    the same mechanism for reporting the version
    of the driver.  It also includes fixing the
    reported driver version at get_volume_stats()
    time to be the version set in the driver.
    
    When the manager starts the driver it now
    logs the driver's name and version in the log file.
    
    fixes Bug #1212878
    
    Change-Id: Icefd065f885ad417735490e6ac90e2b21557d2dc

commit 3541036514ce14ea2ac2c52c6ea8c5f97da74815
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Fri Aug 9 09:40:02 2013 +0400

    Refactor Nexenta driver
    
    Moving NEXENTA_OPTIONS out of nexenta/volume.py and splitting the
    options. This change is to avoid duplication as the iSCSI and NFS driver
    will use the same configuration options.
    
    Change-Id: I3596fec9e852f07aea2ef7f2cd26023de07e7d0b

commit b0018248b07a6d72b985fb480b5304e7761e977f
Merge: ea67c4c dea37cd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 15 18:58:50 2013 +0000

    Merge "Extract ISCSI tries option into connector module"

commit bf044e71ed42994096c160ca1bf4e9accf6219b3
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Thu Aug 15 22:53:14 2013 +0400

    Update Nexenta ISCSI volume driver authors
    
    Change-Id: Ib2981c336d479fb506a4db4a9d91e00c1cc6d4e8

commit dea37cd21c4b17eae8217c7b2ed19b05063f1dc1
Author: Nikolay Sobolevskiy <nsobolevsky@mirantis.com>
Date:   Thu Aug 15 19:23:27 2013 +0400

    Extract ISCSI tries option into connector module
    
    The usage of this option occurred only in that module.
    Rename this options to num_volume_device_scan_tries,
    according to discussion on IRC.
    The old one marked as depricated option.
    
    DocImpact
    Change-Id: Ib4a37237c2d95ca2dd6c05ce0a41f930b29ffd1c

commit ea67c4c0e990a3192f365fa0bf88a839136efcf9
Merge: c26066b df9c405
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 15 14:36:14 2013 +0000

    Merge "No need to declare the exception conf"

commit 681a898101f81dbe2317a84e4496bd1e000cf527
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Wed Jul 10 00:50:12 2013 +0000

    Externalize error messages in the v2 API
    
    This patch does more internationalization for the REST API error
    messages that don't currently have it to take advantage of the new
    support added by bp user-locale-api to show error messages in the locale
    requested by the user through the Accept-Language HTTP header.
    
    We only do v2 because consumers have used the response error message in
    the past for error checks, so changing it in v1 too would break them.
    
    Partially implements bp user-locale-api
    
    Change-Id: I92780b42c125a91ab4916b7a31e4b71d306a89a1

commit c26066b96805aedbe5592060501e581da56709ae
Merge: 6a346e1 6dc2193
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 15 13:34:17 2013 +0000

    Merge "Replace os.unlink with delete_if_exists"

commit 6a346e19e3e229274beb6593b3bdf12343c64cbf
Merge: e269a57 c55589b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 15 13:34:15 2013 +0000

    Merge "Tidy up the SSH call to avoid injection attacks for HP's driver"

commit e269a573582e95aa1899cd5a7d9a49ecd8f17bcd
Merge: 774a177 3e68c6b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 15 06:26:58 2013 +0000

    Merge "Raise exception when Glance metadata not found."

commit 6577ec0b00c9fbae5931a1ed036763588e010019
Author: Seif Lotfy <s.lotfy@telekom.de>
Date:   Thu Aug 15 03:06:20 2013 +0000

    Add more asserts to the limiter unit tests to test the RateLimit
    
    Added new asserts to test the per user set limits instead of using
    the defaults only
    
    Change-Id: Ib6651a82c9d7bb4b79d5c68be6372dc1100b816a

commit 6dc2193813d1e8ee951288c5386296b0a2a5e7b9
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Aug 14 20:06:05 2013 -0600

    Replace os.unlink with delete_if_exists
    
    Shouldn't care when doing unlink on our temp files
    if they exist or not.  In fact this causes problems
    when you do things like with tempfile/dir and happen
    to try and unlink after it's already been removed.
    
    This replaces these calls with the safer
    common.fileutils.delete_if_exists which will
    ignore the os exception of the object DNE.
    
    Fixes bug: 1212502
    
    Change-Id: Ica86c95f736411da486335aec5512e59247bfbc0

commit df9c4058f2674968a2f56d04597f5cb2bcc728cd
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Aug 14 13:56:09 2013 -0700

    No need to declare the exception conf
    
    Brick can just assume that the conf entry exists
    in each project that will use brick.
    Cinder and Nova already declare the same exact
    conf entry.
    
    Change-Id: I4e0e11ce6f99a663a75e582ead92ac9d61300032

commit 774a1775e977b01dc039476f4b61d560e5fc1822
Merge: bdb2aa3 7c899c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 14:49:16 2013 +0000

    Merge "Fixes some unseen flake8 violations."

commit bdb2aa304b200872067b0e4af0a9e9c4951d5e9a
Merge: c458e8a ea865a7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 14:49:06 2013 +0000

    Merge "Add tests for cinder/brick/initiator/connector"

commit 122d4e0865c8d3b3ae73f051e8e246706e59f7b9
Author: Joel Coffman <joel.coffman@jhuapl.edu>
Date:   Wed Aug 14 10:00:15 2013 -0400

    Add support for encrypted volumes
    
    This modification adds an encryption key UUID field to the volume
    table, which is sufficient to make Cinder "aware" of encrypted volumes
    as designated by predefined volume types. Integration with a key
    manager is necessary to obtain an actual encryption key UUID (the
    current implementation generates a random UUID when an encrypted
    volumes is created). Cinder should *not* presume that it necessarily
    will have access to the key itself -- this decision depends upon the
    design, implementation, and policy for encrypted volumes. The key's
    UUID is stored in Cinder because it is metadata about the volume.
    
    Implements: blueprint encrypt-cinder-volumes
    Change-Id: I164290e761a9922919a70f22f99af70dac213b61
    SecurityImpact

commit c458e8a780619edde09d23c93bfcf33259647806
Merge: 113ba77 b5826c2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 10:06:43 2013 +0000

    Merge "Fixes docstring formats in connector.py."

commit ea865a7744592ea2b97e4bb7454b9b563097b39d
Author: Yuzlikeev Eduard <eyuzlikeev@mirantis.com>
Date:   Wed Aug 14 12:40:33 2013 +0400

    Add tests for cinder/brick/initiator/connector
    
    Add additional tests for ISCSIConnector.connect_volume
    Fixed and added tests for InitiatorConnector.
    
    Change-Id: Ice1b89637476609532f97d0802b7bd6647299909

commit 113ba77fb4277a8951136223ed5e36e96d9e3924
Merge: 3ce057c 77b23d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 06:32:45 2013 +0000

    Merge "Add unit tests for cinder/api/contrib/quotas"

commit 3ce057c3a4dc01d568ed3b95d45ce35db0741676
Merge: c4702d8 e5a4c75
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 06:32:42 2013 +0000

    Merge "Added glance_request_timeout config option."

commit c55589b131828f3a595903f6796cb2d0babb772f
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Thu Jul 18 23:05:43 2013 +0800

    Tidy up the SSH call to avoid injection attacks for HP's driver
    
    Let the command and arguments form up a list and avoid the extra arguments
    attackers inserted to the command string.
    
    And modify the interface of _cli_run, there is no need for a extra argument.
    
    fix bug 1192971
    Change-Id: Iff6a3ecb64feccae1b29164117576cab9943200a

commit c4702d8b7365ec58c5353075f571e2b3d89ec9e3
Merge: a6bf9e8 de31210
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 05:37:09 2013 +0000

    Merge "Adding the -online option to the 3PAR clone"

commit a6bf9e8337917299697a9f47c0e79feccbb665b9
Merge: 3ac812a cd9d406
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 04:46:25 2013 +0000

    Merge "tox.ini: Change sitepackages to False"

commit 3ac812a414416f4bc95152d7f7df4ef37396eaf9
Merge: afd45fe 70d1ec6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 04:27:23 2013 +0000

    Merge "Interprete scoped key as nested tags"

commit 3e68c6be7405bb239ad7d2c82117344bdddcfa99
Author: Zhiteng Huang <zhithuang@ebaysf.com>
Date:   Tue Aug 13 12:57:17 2013 +0800

    Raise exception when Glance metadata not found.
    
    It'd be better to raise exception when trying to copy Glance metadata
    from source (volume/snapshot) to destination (volume/snapshot) rather
    than silent failure, which is exactly the reason there's unspotted error
    inside glance_meta unittest but it was able to pass.
    With this fix, one should _not_ directly call glance_metadata_copy()
    without looking at source's bootable flags.  This patch also refactors
    _create_volume_from_snapshot() and _create_from_source_volume() to only
    do Glance metadata copy when needed (bootable is True).
    
    Fix bug: 1211632
    
    Change-Id: I28f065e21cf24c81f98b00e171fcbe4f64ec76b6

commit afd45fe6fd8e17cdfee2a31cbd15e4f7438a76cb
Merge: 6bbd8a8 baddafc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 03:49:08 2013 +0000

    Merge "Fixes volume clone from volume"

commit 6bbd8a8bae2477a62438cd3797150c58a5487c04
Merge: 59c719c 0f70282
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 03:43:52 2013 +0000

    Merge "Ignore purge_props for v2 Glance api and fix upload"

commit 59c719c3a42362839c5ae182e27862725b762570
Merge: 402f3e2 2086a91
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 03:43:46 2013 +0000

    Merge "Add support for API message localization"

commit 70d1ec67c19b1e7639c8bf658cb40a65878875a1
Author: XueChendi <chendi.xue@intel.com>
Date:   Tue Aug 13 00:25:43 2013 +0800

    Interprete scoped key as nested tags
    
    Current codes in xml_util.py does not support REST xml
    so well when one tagname contains delimiter, it fails
    to be interpreted. So this patch is to interprete one
    tagname like "<a:b>1</a:b>" as a nested tag like
    "<a><b>1</a></b>".
    
    Fix bug:1205983
    
    Change-Id: Ia3e1f4d6b6a739898b51bf052a784fa36ab7695e

commit de31210c05f464c4a79255de68b1a515d9b84ed3
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Tue Aug 13 13:51:15 2013 -0700

    Adding the -online option to the 3PAR clone
    
    The 3PAR drivers had to wait while the clone was being performed
    and this would take a considerable amount of time for large volumes.
    This patch takes advantage of the 3PAR backend by using the -online
    option in the command that we were calling to perform the copy. This
    allows us to remove the sleep in the driver. Using the -online
    option forced us to change some of the delete_volume code because
    the 3PAR backend will not allow a volume that was copied to be added
    to a virtual volume set.
    
    DocImpact
    
    Change-Id: I47d72063c858e2eee10756be4f74febdd1603179
    Fixes: bug 1208586

commit 402f3e230a3ef993c198cbce974f7f4c6d52f3ef
Merge: 457ded6 7323d87
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 13 19:18:44 2013 +0000

    Merge "Fix signature of _create_volume() in ThinLVMVolumeDriver"

commit 7c899c9b7750fe822a47496243ae075f9d3dc51b
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Aug 13 11:53:06 2013 -0700

    Fixes some unseen flake8 violations.
    
    The failures aren't visible when run from
    cinder.  Nova has different settings for
    flake8.  This patch fixes the violations
    that nova's flake8 tests.
    
    fixes Bug #1211935
    
    Change-Id: I80209130de23842a0a35cacb7d59f166e7dba89f

commit 457ded62ae7e72b0a30118315dcc2400f1d0eadd
Merge: 4bb3e48 9d8ba3a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 13 17:42:57 2013 +0000

    Merge "Merge from oslo-incubator for notifier"

commit baddafc5e5413feeddc20b73d30bb7c169342673
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Tue Aug 13 18:09:45 2013 +0100

    Fixes volume clone from volume
    
    Cloning a volume from another volume appeared
    to have been broken by new create_volume
    taskflow. Clone from snapshot was not affected.
    
    Also added a unit test this scenario.
    
    Change-Id: I4f174e1616f6944cce64f8d522fa42a9f00f55eb
    Fixes: bug #1211709

commit b5826c21beb446c1f01ef4bff806feb88bd9235b
Author: Dietmar Noll <dnoll@de.ibm.com>
Date:   Tue Aug 13 10:02:36 2013 -0700

    Fixes docstring formats in connector.py.
    
    Docstrings should now comply with HACKING.rst
    
    Change-Id: Ia75ee0e4ceb32f312a2dc7e3c89379b5f2708767
    Fixes: bug #1211861

commit 4bb3e480654a0fb0836c911550edb900c4e446bb
Merge: eb597bf 6b85f92
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 13 16:37:43 2013 +0000

    Merge "Clone_image method added image_id as parameter."

commit eb597bf8cdb4e72f9f51ad9c128a359dc3696dca
Merge: fc663b8 3acbb7c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 13 15:25:23 2013 +0000

    Merge "Fixes files with wrong bitmode"

commit fc663b81dc613403fb2c77c716da2c57f896ef04
Merge: 9b3fa64 9404eb1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 13 14:11:19 2013 +0000

    Merge "Fix handling ImageUnacceptable in create_volume"

commit 3acbb7cc48d9a527a27d4edaead42a1bc5b86fef
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Tue Aug 13 20:11:49 2013 +0800

    Fixes files with wrong bitmode
    
    Some modules have bitmode 755. Changed to 644
    
    Change-Id: I6a968f465b3767cfd9cbf0d425cb7b5738b138bb

commit 77b23d6355d76a90610698ba06f4980c50ea84a0
Author: Elena Ezhova <eezhova@mirantis.com>
Date:   Mon Aug 12 16:59:06 2013 +0400

    Add unit tests for cinder/api/contrib/quotas
    
    Add tests for serializator in QuotaTemplate class
    
    Add tests for the following functions in QuotaSetsController class:
        -show
        -update
        -defaults
    
    Change-Id: I615440277a54140eb245651d87a225231151083a

commit 9b3fa64f0796534fb0bf460ae2cf52fef036ff66
Merge: efa93c2 51ec938
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 12 21:09:51 2013 +0000

    Merge "remove Brick deps on cinder.exception"

commit efa93c24e88b275c588627bcd50aca2b668e1381
Merge: e6a23eb d1d6b80
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 12 21:07:35 2013 +0000

    Merge "Remove Brick iser dependency on cinder"

commit e6a23eb62db60fe9ae7f8ad0b015083325518b43
Merge: 053a165 4d4627f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 12 19:08:21 2013 +0000

    Merge "Move resource usage sync functions to db backend"

commit 51ec9380383ce6a7d94ccc6963bed26ca9065fce
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Aug 8 15:50:22 2013 -0700

    remove Brick deps on cinder.exception
    
    This patch removes more cinder.exception
    dependencies from brick.  This involves
    moving some exceptions into brick's
    exception module.
    
    Change-Id: I577d403f02c2fd0d727d2694776008e1e9791453

commit d1d6b808afec4a4d74d004dc48832eaaf1b415b1
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Aug 8 15:29:54 2013 -0700

    Remove Brick iser dependency on cinder
    
    This patch removes the brick iser.py's dependency
    on cinder exceptions and volume_utils.
    This required moving some exceptions out of cinder's
    exception.py that the iser.py raises.  Also had
    to create a BrickException and refactor existing
    brick exceptions to use the new BrickException model.
    
    Fixes Bug #1210312
    
    Change-Id: I672375807fed4952e5321fbcd9b57b9ef369f68f

commit 053a1655d3708a5d0fd79d72e7e34536bd72fb2c
Merge: df0b6c5 af9d546
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 12 17:12:59 2013 +0000

    Merge "Upgrade Scality driver to match minimum features"

commit 9404eb1591cd5133d8ed9d1675f809b221ff2cde
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon Aug 12 11:46:06 2013 -0500

    Fix handling ImageUnacceptable in create_volume
    
    In the create_volume flow ImageUnacceptable exceptions are
    not properly handled.  _copy_image_to_volume can receive an
    ImageUnacceptable exception from copy_image_to_volume if fetch_to_raw
    is used.  Currently the ImageUnacceptable exception is changed to
    a generic ImageCopyFailure exception which does not make the cause
    of the excpetion clear.
    
    This change adds handling and raising ImageUnacceptable exceptions
    in _copy_image_to_volume.  It also adds the exception to
    no_reschedule_types as it doesn't make sense to keep retrying the
    copy if the image was found to be unacceptable.
    
    fixes bug 1209021
    
    Change-Id: I9aacf23dfaaa1a4df0a869d1c9544c376488f01b

commit df0b6c54189758ed1570770bdc555d799438489d
Merge: 6db3560 2acb6f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 12 12:35:40 2013 +0000

    Merge "Fix ratelimiting"

commit 9d8ba3af477ebce0c159fecc1eb3dfceb066df23
Author: Andreas Jaeger <aj@suse.de>
Date:   Mon Aug 12 11:29:11 2013 +0200

    Merge from oslo-incubator for notifier
    
    Goal: merge oslo-incubator change
    I282d4ae3311bc3fcda6be8e5a1fceecfc8ddb115
    
    Done via:
    python update.py --nodeps --base cinder --dest-dir ../cinder \
     --modules notifier
    
    Change-Id: I0cb982b3b45eb63941f9bfe5407c93af280c452a

commit 6db3560f8b04a188e8d33e28dbd0b7206ae04c07
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Mon Aug 12 10:41:59 2013 +0800

    Use native methods for list manipulation
    
    It's better to append a item to a list rather than creating a list instance
    and extending it. Also the list class has its native method for extension.
    
    Change-Id: If492c35822cd7d83b509692c2226612e565204d3

commit 8f469a4480e4bc3ce588669b55704ac34ecc139a
Merge: 55371d9 9440e2e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 11 17:54:56 2013 +0000

    Merge "Add support for volume cloning to Nexenta driver"

commit 55371d9eb51ab4f652d66ce8ff0eb512cc69c645
Merge: 1325fdd 48f2c1c
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Aug 11 05:57:23 2013 +0000

    Merge "Imported Translations from Transifex"

commit 7323d8751538e06bb2dba106ba394bc6e29b8b84
Author: Eric Harney <eharney@redhat.com>
Date:   Sat Aug 10 16:12:59 2013 -0400

    Fix signature of _create_volume() in ThinLVMVolumeDriver
    
    create_volume_from_snapshot will call _create_volume() with the
    wrong parameters when using ThinLVMVolumeDriver.  It should be
    compatible with LVMVolumeDriver's _create_volume() method.
    
    Fixes bug: 1210853
    
    Change-Id: I18f7baf60601b3bcf01425b505a0579a826f072e

commit 1325fdde1118b23e5a65d688ee73aa3cddad33b9
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Aug 10 12:24:56 2013 -0600

    Add H233 to ignores in tox.ini
    
    The auto-pull of updated libs added to devstack
    will result in the python 3.3 print checks being
    added which we're not ready for.
    
    Temporarily add this to our tox.ini ignore list
    until we have a chance to go through and fix these.
    
    Change-Id: Ie6e0e28433e9b1240b94ed4a323a97a85e475a17

commit 48f2c1c975837481ef6c6a0de8a8865235371054
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Aug 10 18:10:31 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I309dc017cb888a77a531dd7e01b6574fb0a345e5

commit 9440e2eb6cc78645f0a09d005b477c20e7624993
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Thu Aug 1 18:43:37 2013 +0400

    Add support for volume cloning to Nexenta driver
    
    This patch implements missing functionality for Havana.
    
    Change-Id: I39d838e955f25b8438a24f6aff5ec97fb3c14e4b

commit b28e706a805cdad2e40f4328a87e2e2f68b08ec7
Merge: 94c720c a4f6ab0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 10 05:42:55 2013 +0000

    Merge "Fix the multi-backend storge issue for ZMQ."

commit 2acb6f329bb404e224e525b946c0aa6cdc74040c
Author: Seif Lotfy <s.lotfy@telekom.de>
Date:   Fri Aug 9 13:37:38 2013 +0000

    Fix ratelimiting
    
    Current master does now respect ratelimiting, since parsing of the
    api-paste.ini was faulty. api-paste.ini limited user limiting by
    setting a line as follows:
    user:<user-id>:(GET, *, ".*", 4, minute) which was passed to the
    Limiter as kwargs with "user" as a key. Thus multiple user limiting
    was not possible as well as extracting the id of the user was bound
    to fail, since we checked on the key with startswith("user:")
    
    An example config in the api-paste.ini has to look as follows:
    limits = (POST, "*", .*, 10, MINUTE)
    limits.<user-id1>:(GET, "*", .*, 4, minute)
    limits.<user-id2>:(GET, "*", .*, 2, minute)
    
    Fixes bug: 1206976
    
    Change-Id: I4adbe3dbe3a0bd607d6e675f230b0442b08ec791

commit 932c3b6f0686bdca97faba4d71aa1c1246587623
Author: Dinesh Subhraveti <dineshs@us.ibm.com>
Date:   Thu Aug 8 14:24:40 2013 -0700

    GPFS support for various volume attributes
    
    Specify the following attributes when creating a new volume:
    
    * The storage pool on which the volume is placed
    * Number of block-level replicas
    * Whether the physical blocks should be allocated locally on the node issuing
      the IO or striped across the cluster
    * Whether writes to the volume should use direct IO
    * Number of file system blocks to be laid out sequentially on disk to behave
      like a single large block
    * Local storage attached to specific node(s) where the replicas of the
      volume should be allocated
    
    Change-Id: I77bb7de32bbde5a125f8c6f9a727b538ea99bc18
    Implements: blueprint gpfs-volume-attributes

commit af9d5460e41d3e274f4a5c8e087251dd4251cba6
Author: Jean-Marc Saffroy <jean.marc.saffroy@scality.com>
Date:   Thu Aug 8 20:49:28 2013 +0200

    Upgrade Scality driver to match minimum features
    
    The Scality driver needs an upgrade to match minimum features:
    - Havana: Clone Volume
    - Icehouse: Extend Volume
    
    Also, some features (Copy Image to Volume, Copy Volume to Image) already work but need automated tests.
    
    Change-Id: Iac5ac2c58fd5ce62823f829a0a014decb4ad4958
    Fixes: bug 1210240

commit 0f70282b78ece51e2e18c51c15aca7c89b7ebc23
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Fri Aug 9 13:06:46 2013 +0100

    Ignore purge_props for v2 Glance api and fix upload
    
    The V2 Glance API image schema does not contain
    purge_props. While this may be a bug in Glance,
    we will ignore this property in cinder when
    glance_api_version=2. This will not change behaviour
    since Glance defaults this property to True, Cinder
    never sets it to False and the v2 client appears to
    ignore it anyway.
    
    Also fixed image upload which is a seperate client
    call to update in v2 (v1 update does both).
    
    Change-Id: I0ba1d7d920984cface57795ace160ec300ff75e2
    Fixes: bug #1210467

commit 94c720c71d70e2c428abc597268ffd053307694d
Merge: f2d6c1d 7d57146
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 9 06:47:38 2013 +0000

    Merge "3PAR drivers creating incorrect comment data"

commit f2d6c1dd4b76917784f12b1854de9c20f226fd86
Merge: 881c732 7a244a4
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Aug 9 06:04:05 2013 +0000

    Merge "Imported Translations from Transifex"

commit 2086a91059f022344f74143ffb2ce9d0c2d6691c
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Mon Jul 8 23:11:05 2013 +0000

    Add support for API message localization
    
    Add support for doing language resolution for a request, based on the
    Accept-Language HTTP header.
    
    Using the lazy gettext functionality from oslo gettextutils, it is now
    possible to use the resolved language to translate an exception message
    to the user requested language and return that translation from the API.
    
    Partially implements bp user-locale-api
    
    Change-Id: Ib2c8360372996d53b50542df54a52d92b07295ca

commit 881c73263c0fea4fd76aa88fe25284b60e3ec35f
Merge: 61f116d 0627980
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 9 04:12:17 2013 +0000

    Merge "Ignore stmf target must be offline exception"

commit 61f116d62e327bbae9824571433a12f9f36930e1
Merge: ce7e70c 758a4be
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 8 21:56:34 2013 +0000

    Merge "Add minimum features in HDS driver (for Havana & Icehouse)"

commit 7d57146bc4201c9d26de7f7f5a4a834ca0dafa7b
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Thu Aug 8 14:14:56 2013 -0700

    3PAR drivers creating incorrect comment data
    
    The 3PAR volumes created from a shapshot had incorrect comment data
    that gets added in the comment section of the volumes on the backend.
    This patch fixes the display name and description by getting the correct
    data when the volume is created. This patch also fixes the inconsistency
    in how the keys (name vs. display_name) were used in the comments.
    
    Change-Id: I61af8ceb08d862f2b9dea2d9bb44c803e0b75a10
    Fixes: bug 1210245

commit ce7e70cce926f5510e188dcc6ef23b2d4fa9c3e6
Merge: 32d43af e78ba96
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 8 18:54:08 2013 +0000

    Merge "Refactoring of create_volume to use taskflow."

commit 32d43af41770ffc08aaa3723b8320d60fbf765d3
Merge: 957685e 7d9e0de
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 8 18:45:43 2013 +0000

    Merge "Set lock_path in tests"

commit 7a244a4de5a2fa144ccfcce8039b12f73ed48ca3
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Aug 8 18:10:40 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ib68f2c11e8eac9002407b5bfc2f07547620acd98

commit 957685e1563e0d45ac8a43f3a8bab93781171057
Merge: 370c700 4ad95db
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 8 16:07:54 2013 +0000

    Merge "Use utils.safe_minidom_parse_string in extensions"

commit 4ad95dba4fccbbc0df923dea0dc9e5c3ac9f4cc2
Author: Thierry Carrez <thierry@openstack.org>
Date:   Thu Aug 8 12:13:52 2013 +0200

    Use utils.safe_minidom_parse_string in extensions
    
    Use utils.safe_minidom_parse_string in extensions that were still
    using potentially-unsafe minidom.
    
    Fixes bug 1190229
    
    Change-Id: I43afb2e188bbea99ea30fe6cb2eb1aeedc4ddfd4

commit 4d4627f9c213ca5d473b88bb21e611b93975074e
Author: Sergey Skripnick <sskripnick@mirantis.com>
Date:   Wed Jul 10 11:55:24 2013 +0300

    Move resource usage sync functions to db backend
    
    Resource usage sync functions was declared in cinder/quota.py, and
    using db.api public methods. This functions was moved to database
    backend implementation, so now sync functions can use private
    methods of database backend, and session attribute can be removed
    from this public methods.
    
    Blueprint: db-session-cleanup
    
    Change-Id: If5386e3dc1e0d6e3127732aeb5b35bbd96bc93f0

commit 370c700286ac42d32abe08c37134a221134c8494
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Aug 8 06:11:09 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I857c5d49cf1dc44f902952a15a3b2abeff70dd99

commit e78ba969494560f99b75524304ed8ffea59db560
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Thu Aug 1 12:08:04 2013 -0700

    Refactoring of create_volume to use taskflow.
    
    Move the create_volume workflow to using taskflow and
    split that workflow into three major pieces (each with
    there own workflow) and create tasks that perform the
    individual required actions to accomplish the pieces
    desired outcome.
    
    1. An api workflow composed of the following tasks:
      - Extracting volume request (which checks types, values) and creates a
        standard output for other tasks to work on (allowing further tasks to be
        plugged in the chain without having to worry about other tasks output
        formats).
      - Quota reservation (rolled back on failure).
      - Database entry creation.
      - Quota committing.
      - Volume RPC casting to volume scheduler or to targeted volume manager.
    2. A scheduler workflow composed of the following tasks:
      - Extracting scheduler request specification for further tasks to use.
      - Change status & notify (activated only on failure).
      - Create volume scheduler driver call (which will itself RPC cast to a
        targeted volume manager).
    3. A manager workflow composed of the following tasks:
      - Extract volume request specification from incoming request for
        further tasks to use. This also breaks up the incoming request into the 4
        volume types that can be created later.
      - Change status & notify on failure or reschedule on failure, this is
        dependent on if rescheduling is enabled *and* which exception types are
        thrown from the volume creation code.
      - Create volume from specification
        - This contains the code to create from image, create raw volume, create
          from source volume, create from snapshot using the extracted volume
          specification.
      - Change status & notify success.
    
    Key benefits:
      - Handled exceptions in a easier to understand, easier to review and more
        reliable way than they are currently being handled.
      - Rescheduling is now easier to understand.
      - Easier to understand structure with tasks that consume inputs, take some
        action on them and produce outputs and revert on subsequent failure using
        whatever they produced to know how to revert.
      - Ability to add new unit tests that can test individual task actions by
        providing mock task inputs and validating expected task outputs.
    
    Future additions:
      - Eventual addition of resumption logic to recover from operations stopped
        halfway through.
      - Ability to centrally orchestrate the tasks and pick and choice how
        reconciliation of failures based on code or policies.
    
    Part of bp: cinder-state-machine
    
    Change-Id: I96b688511b35014a8c006e4d30b875dcaf409d93

commit 758a4be3b06e4b635f0ac62675ca75f43cab08f8
Author: Lakhinder Walia <lakhinder.walia@hds.com>
Date:   Thu Aug 1 16:43:45 2013 -0700

    Add minimum features in HDS driver (for Havana & Icehouse)
    
    * Add create_cloned_volume() api.
    * Add extend_volume() api.
    * Reorganized some connection state keeping into _loc_info() function.
      Earlier this logic was spread out in various calls.
    * New self tests for #1 and #2 above.
    
    Change-Id: I6a88164ee0a427519c7fab6f6a852d46ec46176c
    Fixes: bug #1207560

commit 568e75c511c4ca831d49b1b1294b2d8ba5bcac8e
Merge: 4f622b2 945a48e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 20:26:50 2013 +0000

    Merge "Add test for brick.local_dev.lvm"

commit 0627980f12b74d06b636627b78e432d72aab86ec
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Fri Aug 2 00:41:24 2013 +0400

    Ignore stmf target must be offline exception
    
    Patch to ignore
    
    "NexentaJSONException: : Unable to add member to targetgroup:
        stmfadm: STMF target must be offline"
    
    This error happens when targetgroup is already configured and busy.
    
    fixed bug 1209305
    
    Change-Id: I275dcf465934c99d30f85932fe72e8b1818ef870

commit e5a4c752290fb35572dc5990c1688e5f9d49051f
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Wed Jul 31 17:26:32 2013 +0100

    Added glance_request_timeout config option.
    
    The glanceclient supports a timeout for http/https
    connections but this is not configurable in cinder.
    This patch adds a glance_request_timeout
    option to cinder.conf. If unset, None is applied thus
    allowing glanceclient to use its default value (600).
    
    Change-Id: Ic689ecb5d5ee8257964b341b5a7980d5733343dc
    Fixes: bug #1206992
    Co-authored-by:  Takahiro Shida <shida@intellilink.co.jp>

commit 7d9e0dead3f668f5ad3e663cd342f3c2c3af9a5d
Author: Ben Nemec <openstack@nemebean.com>
Date:   Wed Aug 7 10:54:34 2013 -0500

    Set lock_path in tests
    
    This is required to sync a locking fix from Oslo.
    
    Change-Id: I1f71d7137eab2509a24c5e1397da653142561f10
    Related-Bug: 1065531

commit 4f622b2a88e1bcb5808540226608095db079ba9e
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Tue Aug 6 13:25:36 2013 -0700

    3PAR volumes created from snaps failed to attach
    
    An error would occur if you attempted to attach a volume that
    was created from a snapshot. The 3PAR backends does not have a
    'userCPG' entry in the volume data on the backend, it instead
    has a 'snapCPG' field. This patch will now look for the 'snapCPG'
    entry and use that CPG when attaching the volume created from a
    snapshot.
    
    Change-Id: Ic7dab730a68339edb4273e4fbb6f8e45e37808b3
    Fixes: bug 1207913

commit f2c91c9a3c7efd9799400c2baa91d544803d5233
Merge: 2500d5d 0619385
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 11:44:32 2013 +0000

    Merge "Remove usage of obsolete oslo.exception"

commit 2500d5dfceac6351dd0adf54dfdac02dcd71d262
Merge: 03eeb66 249bfde
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Aug 7 09:06:12 2013 +0000

    Merge "Imported Translations from Transifex"

commit 03eeb66e8aa91fc964bb0a093feaf3892a372550
Merge: 641e730 9ca3fc0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 07:15:40 2013 +0000

    Merge "Remove locals() from iser"

commit 641e730ac50196e68f8a6184720789ba2a22abf9
Merge: 61d4540 9cb2af6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 07:12:04 2013 +0000

    Merge "Remove Brick's iscsi dependency on cinder"

commit 945a48e3b62192ce72440f0bb382c5dccab954a5
Author: Alexander Gorodnev <agorodnev@mirantis.com>
Date:   Tue Aug 6 08:31:51 2013 -0400

    Add test for brick.local_dev.lvm
    
    Add positive and negative tests for LVM.lv_has_snapshot() method
    
    Change-Id: Ibb261365eae97d8e3843ff48f7389f759226d2af

commit 61d4540ee8be52e8c6166bc9c4745cd84ca3827e
Merge: 3c1f476 955f0eb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 07:02:10 2013 +0000

    Merge "Add support for volume extension to Nexenta Systems volume driver"

commit 3c1f476d36bc61654f31f2921822afd352364e34
Merge: ea734c5 eeb70ea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 06:41:50 2013 +0000

    Merge "Create key manager interface"

commit ea734c5db9654bb560e70bfa6ab775ec11c56dc2
Merge: 25d37f9 4696390
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 06:41:49 2013 +0000

    Merge "GPFS Verify min release level for mmclone command"

commit 249bfde34e6ab6cc7310489e16cacde8c96989b6
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Aug 7 06:10:54 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I084e9bcbbd956bc2d7c7e5d6aca8ea5ca7fb535e

commit 25d37f961a4eea14e6ec7f667b9b7f7de89ec42f
Merge: 8aac388 0f11f01
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 05:48:07 2013 +0000

    Merge "Fixes create rbd volume from image v1 glance api"

commit 9cb2af6bc96c795fbe0929d68a802012a8267cf8
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Aug 6 16:22:24 2013 -0700

    Remove Brick's iscsi dependency on cinder
    
    This patch removes Brick's iscsi/iscsi.py's
    dependence on cinder.  Brick can't contain
    cinder dependencies as it will be used in nova.
    
    Fixes Bug #1209012
    
    Change-Id: I046b5a53baecce81ba184cb7f30ec450f4738dae

commit 9ca3fc0c0906c2c04425c50ac848e5e04aa723f9
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Aug 6 14:43:35 2013 -0700

    Remove locals() from iser
    
    This patch removes the locals() call
    to fix a flake8 violation.
    
    Fixes Bug #1209006
    
    Change-Id: Ida4b498544a2c28ffb4912d402579f8bb7372309

commit 8aac388cc091b6c79c2d0650810acf72a1097446
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Aug 6 14:58:02 2013 -0600

    Move volume_clear and clear_size opts up to driver
    
    The block_device driver pulled in the clear and clear_size
    options for it's own use and broke the inheritance model needed
    for multiple backend configs.
    
    This change moves the two configs up higher in the heirarchy to
    driver.py so that it can be shared/used by all drivers if they desire.
    
    This means that they are now set properly in volume_opts.  At some
    point we shoudl restructure this a bit to allow multi-backends to
    specify independent settings for these configs.
    
    Fixes bug: 1208964
    
    Change-Id: I6afbdecea637f7e7d3417be537ab71fe97bffda3

commit 580c993f1e9e07e6a190235a6c0368c6352951fd
Merge: 21b7fbd 32b9dcf
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Aug 6 20:39:39 2013 +0000

    Merge "Imported Translations from Transifex"

commit 32b9dcf43aadb14463f573cf650e56c50590a2a9
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Aug 6 18:10:32 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ica6a1b2c73bd1827ec77ef7f8e070e3281c5b93f

commit 21b7fbdc657966b8e7085a00afafa39052dfc203
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Mon Aug 5 14:23:52 2013 -0700

    Set the concurrent connections on the 3PAR array
    
    Currently, the 3PAR backend has a limit to the number of concurrent
    connections that can be made to the WS API Server. This patch is
    setting this limit to 15 connections, the highest possible.
    
    Change-Id: Ibb8618c2fc896e0164a5f6a151d6a870cd662527

commit eeb70eafa36383ffa02b36decd2f205395c20ed5
Author: Joel Coffman <joel.coffman@jhuapl.edu>
Date:   Tue Jul 30 10:06:28 2013 -0400

    Create key manager interface
    
    This interface provides a thin wrapper around an underlying key
    management implementation such as Barbican or a KMIP server. The key
    manager interface is used by the volume encryption code to retrieve
    keys for volumes.
    
    This change is a copy-paste of the key manager interface accepted by
    Nova. The major modifications are to the module imports (i.e.,
    nova -> cinder).
    
    Change-Id: I8f79165d66d67ad8faaca60946959c5a61811c59
    Implements: blueprint encrypt-cinder-volumes

commit fa479f7b2669ad62d9213470df610b9812c12ae5
Merge: d3fae44 a48a0f1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 09:16:20 2013 +0000

    Merge "Sync gettextutils from oslo"

commit 061938563097241983b70fc6b85e1c196dfebfeb
Author: Julien Danjou <julien@danjou.info>
Date:   Wed Jul 31 11:36:08 2013 +0200

    Remove usage of obsolete oslo.exception
    
    Change-Id: I6f46f90bd74cc26fc01667e467e3dab38037eec3
    Closes-Bug: #1208734

commit d3fae4466675836226f94fa60248a2d3cc25feeb
Merge: 18e4ea2 a579431
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 08:37:18 2013 +0000

    Merge "Add eclipse project files to .gitignore"

commit 0f11f016c56db89188051661ad9dce8f0ef920f7
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Mon Aug 5 22:57:09 2013 +0100

    Fixes create rbd volume from image v1 glance api
    
    The RBD driver supports two methods of image cloning;
    thin copy i.e. copy-on-write (requires v2 Glance API)
    and full copy (default if v2 Glance API is not available).
    
    clone_image() was failing in the Glance V1 API case because
    it was not returning a tuple, as expected by the volume
    manager. Glance V2 support works fine.
    
    Fixes: bug #1208617
    
    Change-Id: I2e8605eaacfe8b65bdf47cb6ea40ef62d6f6b895

commit 18e4ea29ed35f9564d93de47d3774dedcdc3ebd9
Merge: a063311 e940c03
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 07:39:18 2013 +0000

    Merge "Add bin directory to flake8 when not in venv"

commit a0633112ffcb2e773eef13392bbe56ff4c21c1c1
Merge: 10dd7b3 6b27cb4
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Aug 6 07:34:03 2013 +0000

    Merge "Imported Translations from Transifex"

commit 10dd7b3eac3cf99e1c9639689421843308def0d7
Merge: 11bd48f 17df872
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 07:33:56 2013 +0000

    Merge "Remove Storage Manager from cinder-manage"

commit 11bd48fe8018727d532e233c9f90b1141be59543
Merge: ed69d6e 23b3a23
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 06:34:39 2013 +0000

    Merge "Remove cinder.exception from Brick"

commit 6b27cb40f06d94ddd3a198e29426c99ca0c92eee
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Aug 6 06:10:49 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I32f1b24bec8c4484799b008a0d24515b094c5072

commit 17df872bebe00dfabc783f7baece9f9315aa3d20
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Aug 5 22:37:06 2013 -0700

    Remove Storage Manager from cinder-manage
    
    Removing leftover sm_backend manage code that was missed in the previous
    code removal in 40cb16784f920387ef.
    
    Fixes: bug #1207189
    Change-Id: I52c44785924f489a85e4b5f947ed9b4adf679dd8

commit ed69d6e98c201ee85a6c6fb3657f1140fbbe925c
Merge: ba87053 1dd09a9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 5 21:40:53 2013 +0000

    Merge "Adding support for iSER transport protocol"

commit 23b3a2391a2f55fdd7781df2f696bbf86dda08db
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Mon Jul 29 16:21:46 2013 -0700

    Remove cinder.exception from Brick
    
    This patch fixes an issue that made
    Brick's connector module dependent on cinder's
    exception module.
    
    Adds a new brick exceptions module to store brick
    wide exceptions.
    
    fixes bug #1206288
    
    Change-Id: I070d08f07c7bc488b24b0d68531bb2e0a5461422

commit e940c0374d3f7f4e6e7c357d3822468312e53b6c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Aug 5 13:43:24 2013 -0600

    Add bin directory to flake8 when not in venv
    
    If doing run_tests.sh -N -p we only check cinder*
    This patch adds a directive to also check the files
    in bin/
    
    Change-Id: Ia68073e16067df978475db058c9c0693f35df81c

commit 955f0ebbd1f95e0b35b0ad982178ac8a847ab8d2
Author: Mikhail Khodos <hodosmb@gmail.com>
Date:   Mon Aug 5 12:27:51 2013 -0700

    Add support for volume extension to Nexenta Systems volume driver
    
    Change-Id: Ie082076292825aaac69b0c5f8aa7351ce6ab9cb9

commit 4696390be43dcac2598c99d4f0ea3d6cc2f8f75d
Author: Bill Owen <billowen@us.ibm.com>
Date:   Mon Aug 5 11:32:27 2013 -0700

    GPFS Verify min release level for mmclone command
    
    The gpfs driver makes heavy use of mmclone command.  This command
    was added fairly recently.  Verify that the GPFS cluster is operating
    at a level that supports mmclone at startup during prerequisite
    checking in check_for_setup_error.
    
    Need to verify:
    1.  That gpfs cluster is at required level
    2.  That filesystem(s) are also operating at required level.
    
    Change-Id: Ie71d0b814d77b544e1a456d110882c1a02a5b2e5
    Fixes: bug #1204266

commit a48a0f11cf1433f676744c07ccce9b322ec2186c
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Tue Jul 23 18:53:38 2013 +0000

    Sync gettextutils from oslo
    
    The oslo changes necessary for delayed translation were refactored in
    oslo. This patch set brings in the refactored changes, implemented
    under the same change-id mentioned below.
    
    Partially implements bp user-locale-api
    
    Change-Id: I27640a3c8b255be51bc6396d238098bd25af61ec

commit a579431c196fbc66a38010969ec1bd7852c98990
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Thu Jul 18 22:32:27 2013 +0000

    Add eclipse project files to .gitignore
    
    Like some of the other projects (nova, heat, oslo) git ignore eclipse
    project files. This will remove manual steps for people developing from
    eclipse.
    
    Change-Id: Ib908c8d419072b440f5ec647bea8f13b97e48f7c

commit ba87053896ef80586719565d07ec76ea846cc5a4
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Jul 31 13:56:29 2013 -0700

    Remove unnecessary metadata from the 3PAR drivers
    
    Currently, both the HP 3PAR iSCSI and FC drivers are populating
    the volume and snapshot metadata field with unnecessary data that
    should actually be stored on the backend. This data should not be
    accessible by the user which it is today and could be updated as well.
    
    This patch will remove all custom 3PAR data from the metadata fields.
    
    Change-Id: I3086be3856192a27fa1db1ada89d95c290c68df7
    Fixes: bug 1203144

commit 1dd09a955bc04388bd5f14807f883db3c5ac60b9
Author: Shlomi Sasson <shlomis@mellanox.com>
Date:   Mon Jun 17 20:41:36 2013 +0300

    Adding support for iSER transport protocol
    
    DocImpact
    
    Implements: blueprint add-iser-support-to-cinder
    Change-Id: I55fb7add68151141be571cb9004389951851226b

commit 2380feff7cf220ee03ac11605905bd581bf48b39
Merge: 851520e 6d0d9e2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 5 05:06:34 2013 +0000

    Merge "use 'exc_info=1' instead of import traceback"

commit 851520e497b4712ef215d3a396e62043fcb54f9a
Merge: 48f1ae5 84d855d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 5 04:08:04 2013 +0000

    Merge "Set bootable flag for volume serializer"

commit 48f1ae5d96c573b242e1949c9f2bd2972ba3bbf0
Merge: 04ca883 141d9a1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 16:41:54 2013 +0000

    Merge "Update driver version to 1.1"

commit 04ca883596ac2a0cec87a63022964c518fb5092d
Merge: 0cb2e3d 70b8c48
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 13:31:52 2013 +0000

    Merge "Add new persona value in the 3PAR driver"

commit 0cb2e3d43e96a5af02c3f00f3780ad46829d326a
Merge: bbe5de6 2fed65f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 11:19:48 2013 +0000

    Merge "Call get_session() only when necessary"

commit bbe5de6df530263c2ece444db07eb771caa512b2
Merge: b747c79 2488463
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 11:19:42 2013 +0000

    Merge "Fix volume_create()/snapshot_create() DB methods"

commit b747c79c2d7aa81a2cb27092226baec41c5c93af
Merge: 1136bbd 2f7d2dc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 11:19:35 2013 +0000

    Merge "Execute DB API methods in a single transaction"

commit 1136bbd6124a9416fbd84ac2cf7220ca4659d73a
Merge: 5513571 768ae7c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 11:19:28 2013 +0000

    Merge "Improve DB API test coverage"

commit 5513571ff6ca2c16907c5f93f23adf818c3386b4
Merge: 0050ea2 40cb167
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 11:19:21 2013 +0000

    Merge "Remove xen storage manager tables"

commit f47581de091cac8f32151d2faf72df2fe84fcf62
Author: Navneet Singh <singn@netapp.com>
Date:   Thu Aug 1 06:47:48 2013 +0530

    NetApp fix clone image compatibility issue with ssc
    
    It makes clone image functionality compatible
    with the ssc feature. Hence it makes clone
    image sensitive to volume type and provision
    on the right share matching volume type
    extra specs.
    
    Change-Id: If980239fedf784a1cca7abd6ee3d00f8625b9b11
    Closes-Bug:#1226752

commit 84d855d121adf7fbfc6a5b1bb4924068360d321e
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Thu Aug 1 12:15:42 2013 +0800

    Set bootable flag for volume serializer
    
    In previous code we didn't set the bootable flag in volume
    serializer, and even didn't check it in test. This is the
    root cause for bug #1207155
    
    This patch fixed this issue by set the bootable flag in serializer.
    
    Fixed bug #1207155
    
    Change-Id: I0219785aa7f30036747c230800447e99c383042c

commit 0050ea2c4fc7d5707c4178719244e93f41aff01b
Merge: 1de031a 0b0835e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Aug 4 02:20:57 2013 +0000

    Merge "Ignore "volume does not exist error""

commit 1498958299ccb807f406e9d257848cb4259e49e4
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Aug 3 18:16:44 2013 +0530

    Fix chown fail for nfs file without necessary permission
    
    chown failed in case of volumes on nfs export when the
    permission is not granted on the storage system. Upload
    volume only requires read access on the nfs file and hence
    chown is not neccessary when current user has read permission.
    Chown only executed when read is not granted to the user.
    
    Change-Id: Ifa8eff7e79c6e4f15a1feb7cabec8cae8a0b0a83
    Closes-Bug:#1221205

commit 70b8c483feb0cf42fcb8dde189ab3d002c31952c
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Fri Aug 2 15:06:31 2013 -0700

    Add new persona value in the 3PAR driver
    
    A new persona type, '12 - OpenVMS' was added to the list of valid
    personas in the 3PAR drivers. This persona was introduced in the
    3.1.2 MU2 firmware update on the 3PAR storage array.
    
    DocImpact
    
    Change-Id: Ib848938d261acfdc8a422a03668cada109e97173

commit 141d9a1db1d523eff6e3310ece0d65c9aa51ee30
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri Aug 2 14:22:27 2013 -0700

    Update driver version to 1.1
    
    This patch includes bumping the driver versions for both
    Fibre Channel and iSCSI to 1.1.  Included a history change
    that describes the changes since 1.0.
    
    This patch also changes the way we do clone volume.  We no
    longer have to check the status of the volume clone on the 3par
    as it's instantly done now since 3.1.2 MU2 firmware.
    
    Change-Id: I541ac7f97e6d1290bac6232d6c80e8ecf3a75dda

commit 1de031a78180375a722a1f9cbd2b2bbde207c9b1
Merge: 18d174e f752302
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 2 12:25:32 2013 +0000

    Merge "Tidy up the SSH call to avoid injection attacks in storwize_svc"

commit 18d174e161d7cd700f84d9a0a1c76cb8e6cae9d0
Merge: f89c95f 928e11a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 2 05:30:06 2013 +0000

    Merge "Fix pep8 and pylint violation in Nexenta volume driver"

commit f89c95fec4d5c3540dedfeff8baecb192c89460c
Merge: 5ab6674 c309aec
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Aug 2 04:33:42 2013 +0000

    Merge "Imported Translations from Transifex"

commit 5ab66745be691c190fbe09d2bcdac012e6ae228b
Merge: a942b9f c9e5b98
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 2 04:33:14 2013 +0000

    Merge "Test tools barfs on reusage of 'id' attribute."

commit 8bfe919c71383f9641bea45b8504feb18172c8a5
Author: Navneet Singh <singn@netapp.com>
Date:   Fri Aug 2 03:21:26 2013 +0530

    Fix NetApp iscsi drivers for cinder backup
    
    It fixes the iscsi drivers to query backend
    if a lun entry is not found in the cache. Due
    to the c-bak feature spawning volume drivers
    separately than c-vol it caused NetApp drivers
    to error out if volume was created after starting
    c-bak. This patch fixes it.
    
    Change-Id: I3570e58560408d3f7117bb1068cf530ae05521b3
    Closes-Bug:#1229620

commit 928e11ad5bbb6dd53946eb792165fe06b2eac402
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Thu Aug 1 17:30:54 2013 +0400

    Fix pep8 and pylint violation in Nexenta volume driver
    
    Change-Id: Iec7f37ddd0f3850cb84e1cafe223b8f503a3629c

commit c9e5b98464090e59d43c653d4f5c9dde87ea6f5c
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Thu Aug 1 12:08:04 2013 -0700

    Test tools barfs on reusage of 'id' attribute.
    
    Fixes bug #1207562
    
    Change-Id: I822d63fe909ca5d6e3f0d45ba922f4852ad97e05

commit 0b0835e4fc371be80b0b7ab61bd25bddd46e0178
Author: Victor Rodionov <vito.ordaz@gmail.com>
Date:   Fri Aug 2 00:17:32 2013 +0400

    Ignore "volume does not exist error"
    
    Patch to ignore "volume does not exist error" when driver is deleting volume.
    
    Change-Id: I31645182e5495c44e67fe1add0a2e6c8222534b0

commit a942b9f7ad0cf2ed59ea5f17bb4662039e73c9c5
Merge: ba48af1 005ff11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 1 20:20:30 2013 +0000

    Merge "Factorize code between nfs.py and glusterfs.py"

commit 2fed65f2c8d7e1109bdb322c49f44a3d14617da0
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Wed Jul 24 17:13:07 2013 +0300

    Call get_session() only when necessary
    
    A Session instance should be retrieved only when it's
    really needed, e. g. to make a few DB queries inside a
    single transaction or to pass the session to a private
    DB API method, etc. At the same time, many queries are
    simple and can be expressed by the means  of auxiliary
    model_query() function.
    
    Blueprint: db-session-cleanup
    
    Change-Id: I2ddc0cda42a84fe600c04f4624db9c2933799bfc

commit 24884636dfe7990e3918c7a55a85bba833914349
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Wed Jul 24 16:37:48 2013 +0300

    Fix volume_create()/snapshot_create() DB methods
    
    volume_create() and snapshot_create() DB API methods create
    entities and return information about them by calling
    _volume_get() and snapshot_get() methods. There is no need
    to create a new transaction to call the corresponding 'getter'.
    
    Unfortunately, fixing this breaks two existing tests, which rely
    on the current behaviour of these DB API methods: both volume_create()
    and snapshot_create() raise exceptions, nevertheless new entities are
    created.
    
    Blueprint: db-session-cleanup
    
    Change-Id: Idecac70893ec280c149f9227f86a6959d70c15fe

commit 2f7d2dce0e89ace77a23db834df4dd3f64c360c0
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Mon Jul 22 18:27:51 2013 +0300

    Execute DB API methods in a single transaction
    
    Many DB API methods do a few queries to a DB (e. g.  SELECT
    and then UPDATE, or SELECT and then DELETE, etc).  By default,
    a Session instance is used with autocommit=True, which means,
    that each query to a DB is done in a separate transaction. This
    is error-prone (as it may lead to race conditions or returning
    of unexpected results) and makes rollbacks harder (if one of
    transactions fail, the previous ones can not be rolled back).
    
    This patch ensures that all DB API methods, which do a few
    queries (or call private DB API methods), are executed inside
    a single transaction.
    
    Blueprint: db-session-cleanup
    
    Change-Id: Ie6510becffdeb78048fe4a09511ab326627d3412

commit 768ae7c626fb1adee053d20749dbf7f0081f92a3
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Thu Jul 25 17:29:09 2013 +0300

    Improve DB API test coverage
    
    This patch improves the test coverage of DB API methods a bit.
    
    Blueprint: db-session-cleanup
    
    Change-Id: Ib4b7312b6effca771a80d6b3137005cc28cb81e4

commit ba48af14a9a1e1e6142047c768049c06d727ce3c
Merge: 19e9a06 25cae8b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 1 18:55:42 2013 +0000

    Merge "LVM / Block Device Drivers: Fix duplicated flags"

commit efd82e0265efbbfa43ff7ebb7523790b81299882
Author: Navneet Singh <singn@netapp.com>
Date:   Wed Jul 31 13:59:33 2013 +0530

    Fix check for mount.nfs helper installation
    
    This fixes the issue for checking the
    existence of mount.nfs helper program
    in installation directories during
    driver set up.
    
    Closes-Bug:#1212286
    
    Change-Id: If2fa925614bd42295eae0f62ba948e14a89e1343

commit c309aec438934d8da263b24fdb0446c1e584b227
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Aug 1 18:10:35 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I0d2271905141d03ce5a4ef6f7da7fa7a5023fbb9

commit 40cb16784f920387ef511e1c60ffa0238f8f0061
Author: Mike Perez <thingee@gmail.com>
Date:   Wed Jul 31 15:26:46 2013 -0700

    Remove xen storage manager tables
    
    This removes the unused tables sm_backend_config, sm_flavors and
    sm_volume. In addition, they're removed from the database API.
    
    Change-Id: I02ff6434c2d6928f2e2b08053f6dcb6178edd773
    Fixes: bug #1206962

commit 19e9a068445a1f21ad43372302d6d872a776f307
Author: Yuriy Zveryanskyy <yzveryanskyy@mirantis.com>
Date:   Thu Jul 11 14:33:14 2013 +0300

    Remove unused migration_* methods from db api.
    
    There is migration_* group of methods in cinder
    db api. These methods not used by cinder, they
    inherited from nova code.
    
    Add migration script for drop unused 'migrations'
    table.
    
    blueprint db-cleanup
    
    Change-Id: I4a352fd9acb28bb86072884438af454c86559e71

commit 005ff1100a11c83808471ece313d0f9001f4653c
Author: Frederic Lepied <frederic.lepied@enovance.com>
Date:   Tue Jul 23 11:20:27 2013 -0700

    Factorize code between nfs.py and glusterfs.py
    
    Suppressed most duplicated code between nfs.py and glusterfs.py.
    
    Change-Id: I8a25aa6e3b8947a1d8e75dc611fac217e3009c41
    Fixes: bug #1204213

commit 204c3a30afd5c4d2f9e595a7c64b187e1a0531c2
Author: Navneet Singh <singn@netapp.com>
Date:   Tue Jul 30 11:04:20 2013 +0530

    NetApp fix create vol different size than snapshot
    
    This fixes the issue of creating vol of different
    size than snapshot and creating cloned vol of
    different size than original.
    
    This change adds a lot of additional LUN geometry
    and sub-LUN cloning code which is neccesary to
    support extreme resizes, since normal resize
    operations are limitted to be within a certain factor
    of the original LUN size.
    
    Closes-Bug:#1098581
    
    Change-Id: I8652bfaa67c12c790fa80650a051497f70279b9c

commit 25cae8b320481947698ed6a73ef9ed260436a69c
Author: Emilien Macchi <emilien.macchi@enovance.com>
Date:   Wed Jul 31 16:47:37 2013 +0200

    LVM / Block Device Drivers: Fix duplicated flags
    
    - Import in lvm driver the duplicated flags from block_device driver.
    - Register volume_opts in block_device drivers
    
    Fix bug #1206944
    
    Change-Id: Icb2c9411be060065ecf5efed293bacd6b735e299

commit cd9d4069e4f5e1eb8b8bce1a784bda744450a05b
Author: Emilien Macchi <emilien.macchi@enovance.com>
Date:   Wed Jul 31 16:56:39 2013 +0200

    tox.ini: Change sitepackages to False
    
    To avoid issues with tox, we should use packages installed in the venv
    instead of one from local system.
    
    Fix bug #1206947
    
    Change-Id: I8fb2a7c36c92882dc0427706ac7b470a3f3fcf42

commit 5166842a138d364be8f906f6ffe408e3d6e66da4
Merge: e610bf2 546ed2d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 31 14:15:58 2013 +0000

    Merge "Fix oslo.config.cfg.NoSuchOptError when running individual tests"

commit f752302d181583a95cf44354aea607ce9d9283f4
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Wed Jul 17 21:36:55 2013 +0800

    Tidy up the SSH call to avoid injection attacks in storwize_svc
    
    Let the command and arguments form up a list and avoid the extra arguments
    attackers inserted to the command string
    
    fix bug 1192971
    
    Change-Id: I57b3fe60e64d9d0dc1ea9a18442c877be2ceece3

commit e610bf25ee82ff8f4d1d639fbc777480961027ec
Merge: 9235814 6119b36
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 31 12:05:33 2013 +0000

    Merge "Storwize/SVC: Use reserved percentage from conf."

commit 92358149fc4831d2e74912c5db321f7ef4add4c2
Merge: 3437a37 542f0e4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 31 10:45:21 2013 +0000

    Merge "Update to latest oslo rootwrap"

commit 1af8f46ea1c8e2a33ca554fa6ef3262d055c54ed
Author: Navneet Singh <singn@netapp.com>
Date:   Tue Jul 30 17:37:44 2013 +0530

    NetApp check for 7 mode controller version
    
    Queries the filer api version and raises error
    if the version is unsupported.
    
    Closes-Bug:#1223474
    
    Change-Id: I430a41d63a2541891fdbdb20dacab9f69fa44291

commit 6119b361d43ba124c861cd8618968ce817fe6e92
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jul 31 12:27:21 2013 +0300

    Storwize/SVC: Use reserved percentage from conf.
    
    For reserved_percentage, use the value from the configuration file
    instead of 0.
    
    Change-Id: I549822c09449f8d9fc0c8b84d56660c381bddbd5

commit 3437a37d1ae86fa256663dc89f9d325514d09bd9
Merge: a3a65be 08af981
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 31 05:59:39 2013 +0000

    Merge "Pop out 'offset' and 'limit' before use for filter"

commit a3a65bef3f9a2188d76cdf7a32d19f9b1b59b590
Merge: 4532ebc 45bc797
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jul 31 05:59:32 2013 +0000

    Merge "Imported Translations from Transifex"

commit 4532ebc49c975f5bf9d179eb571aaeb04a218cc3
Merge: cb93100 e5d5559
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 31 01:58:57 2013 +0000

    Merge "Add more info to delete error message."

commit 45bc7978882b8594acd6c2a8cd423f445a09e8aa
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jul 30 18:10:20 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I2e31d6907e7499a8d2db6c16a69e8f71c45f7983

commit cb93100a6d67bda32c24a035d58bb4329416be62
Merge: 93c3cae 55df41c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 30 08:59:54 2013 +0000

    Merge "Allow connect by FC-only or iSCSI-only systems."

commit 93c3caed0715a46d297d006db88010132210763f
Merge: 6f762cf 475f069
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 30 06:53:47 2013 +0000

    Merge "Fix running of migrations tests by Jenkins gate"

commit 08af981ffc104d7cb836c1b674e1d73724eeaf88
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Mon Jul 29 14:21:25 2013 +0800

    Pop out 'offset' and 'limit' before use for filter
    
    In previous code of _items() from api/v{1,2}/snapshots.py,
    and also the _items)_ from api/v1/volume.py.we didn't pop
    out the 'offset' and 'limit' fields from HTTP get params
    before we use such params for filter.This is the root cause
    for bug #1205956
    
    For non-admin user, since 'offset' and 'limit' is not in the
    allowed_search_options, so the volumes.remove_invalid_options
    will help to filter them out. As a result, it walks around this
    bug.
    
    But for admin user,the volumes.remove_invalid_options will not
    try to filter the search_options.So for admin user, the 'limit'
    will appear in search_options, then obviously get no result.
    
    fixed bug #1205956
    
    Change-Id: Ib1a66c9d104ac52d6eae18be7f06d02985d4c2fd

commit 6f762cf926468cd6b47c8a49f07b2bbdd18e57d6
Merge: 9bddd39 31238c7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 29 23:15:00 2013 +0000

    Merge "Make unicode-to-utf8 conversion universal in ceph backup driver."

commit 9bddd39c74e61696ce61aa7bed6160db3f13112c
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Jul 29 18:10:19 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Idf33136691295d8ff15dae48ba3b4f6b7e002bbb

commit 475f06909388a974c9dd52b8d9d1f856f81a1155
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Fri Jul 26 18:44:19 2013 +0300

    Fix running of migrations tests by Jenkins gate
    
    DB schema migrations tests are always skipped for MySQL
    and PostgreSQL backends, when running gate jobs. This is
    due to the bug in the function, which checks, if given DB
    backend is available.
    
    Fixes bug 1205386
    
    Change-Id: I80d5da64347279b8fb5a975ff0d11f31fe35c6ce

commit d1b9a8d60bc9f9b387efb166657fd5e5b9db4560
Merge: 7df656f 19f549f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 29 15:59:57 2013 +0000

    Merge "Update references with new Mailing List location"

commit 542f0e4b123c5e735c883c1fc856f9cc21a8900e
Author: Thierry Carrez <thierry@openstack.org>
Date:   Mon Jul 29 17:47:12 2013 +0200

    Update to latest oslo rootwrap
    
    Update Cinder rootwrap to the latest from oslo-incubator. This allows
    to import the latest filters and bugfixes, in preparation for the
    havana release.
    
    All the changes are coming directly from the Oslo "rootwrap" module
    sync.
    
    Change-Id: Ie26562b9e934d48275dbd3993af1a8d0bdde77d1

commit 31238c748e1c0cffb9ba412b3bf55b87f991714a
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Mon Jul 29 09:41:35 2013 +0100

    Make unicode-to-utf8 conversion universal in ceph backup driver.
    
    librbd does not like unicode strings. A patch was
    recently applied (c98cf2d8) to make all config
    values utf8 but there are other areas of the ceph
    backup driver where this also applies. This patch
    adds a new method which converts strings to utf8
    and replaces all relevant uses of str() with this
    new conversion.
    
    Change-Id: I8c3b01d1ea00b601c599396e3a662f172ffb9757
    Fixes: bug #1206044

commit e5d55592974a2784fa57da6b1ec699b5e15e1068
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jul 29 09:11:35 2013 -0600

    Add more info to delete error message.
    
    Our cases for what we allow delete on are limited, this is
    fine, however we should log the status of a volume that we
    are unable to delete so there's some feed-back as to exactly
    why the delete call failed.
    
    Change-Id: I95a9584d4875e188024be13bb53246be63c72374

commit 7df656ff0be9fef34a4e19f7b83a0cae554db1e7
Merge: 6f81fa2 f4a9429
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 29 09:39:40 2013 +0000

    Merge "Fix unit suffix and add no_suffix option."

commit 6f81fa2ea7a19df13778ad2b75b26e1ec7a3a0a2
Merge: 9f0bb80 ccc32c5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 29 03:23:12 2013 +0000

    Merge "Removed the dep on cinder.utils"

commit 19f549f3a3e0d34c2777e8dea25bac771eef6b24
Author: Tom Fifield <tom@openstack.org>
Date:   Sun Jul 28 12:07:49 2013 -0700

    Update references with new Mailing List location
    
    Yesterday, openstack@lists.launchpad.org was migrated with
    all users to openstack@list.openstack.org.
    
    This patch updates references to the old mailing list with the
    new, to ensure that people encountering them don't accidentally
    try and join the old list!
    
    Change-Id: I7cd33f95b7baa22dbd4abb6e391ee59876998f59

commit 55df41c2c6d12f6bf6586da3a66efec6bdaa75f3
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Jul 21 16:18:15 2013 +0300

    Allow connect by FC-only or iSCSI-only systems.
    
    Currently the brick code raises exceptions if it cannot determine the
    initiator name or FC HBA information. This patch makes this information
    optional, as Nova does.
    
    Fixes: bug 1203486
    
    Change-Id: I8efc101d7ac980261a8bc5d74209cafe4b06cc15

commit 688c515b9d662486395d36c303ca599376a1dc0d
Author: Navneet Singh <singn@netapp.com>
Date:   Tue Jul 16 10:43:55 2013 +0530

    NetApp NFS efficient clone_image impl
    
    This change implements clone_image funcionality
    for NFS drivers. It implements an internal image cache
    in nfs shares which will be used to clone images in case
    the image_location supplied does not represent an nfs share
    which could be used to directly clone image. It also implements
    an internal cache cleaning mechanism at regular interval.
    
    blueprint netapp-cinder-nfs-image-cloning
    
    Change-Id: I20eaddf9febc78df33e31bd41b4698b772da3ae7

commit 9f0bb808b8b9bdbc0b63fc71702b26d57b5223e4
Merge: 9e3ca27 bec0c8c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jul 27 15:59:02 2013 +0000

    Merge "Create volume from snapshot must be in the same AZ as snapshot"

commit ccc32c545e454e071466864d2e434c6329f8c050
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Jul 25 13:45:14 2013 -0700

    Removed the dep on cinder.utils
    
    This patch ensures that we don't have any
    dependency on cinder's utils.py.
    
    bug 1205100
    
    Change-Id: Ic8b7cc532a1804e0f3b7ad89e24f8edf73cf78a5

commit 9e3ca2738c8c36fabbfaa1c67475587b06e0bdf6
Merge: 213ad6b 1047755
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Jul 26 04:31:23 2013 +0000

    Merge "Imported Translations from Transifex"

commit a4f6ab0f3d9710713cd58ed9dddf12a8d8b2160b
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Wed Jun 19 18:48:15 2013 +0800

    Fix the multi-backend storge issue for ZMQ.
    
    This issue is not caused by the naming convention as described in Bug 1166899,
    but due to the incorrect node_topic registration in ZMQ.
    
    What have been done in this patch:
    *Import the latest impl_zmq.py from oslo.
    *Change the delimiter from "." to ":" between topic and host. "." will make
    node_topic an invalid key for the registration in ZMQ.
    *The node_topic should be registered correctly via
    topic = '.'.join((topic, CONF.rpc_zmq_host)) in impl_zmq.py.
    *Move init_host() in services.py downstairs to make sure the c-vol can be
    launched successfully for ZMQ.
    
    Fixed Bug 1166899.
    
    Change-Id: Id982ab9482f08d69bdc68d389fb41a7752efa168

commit 5581cb3492688eecdd1d9a1a9568933450d2dc18
Author: Navneet Singh <singn@netapp.com>
Date:   Fri Jul 19 03:37:15 2013 +0530

    NetApp storage service feature support
    
    This change introduces storage service feature for
    NetApp drivers. It reports back supported service
    features like mirroring, deduplication, compression
    etc. to the scheduler which can be used to shortlist
    backends. It accepts extra_specs defined
    in volume type with the service features and provisions
    volumes based on the requested spec.
    
    blueprint cinder-nfs-driver-qos
    
    Change-Id: I0706af2fe39b2db111a6d98b016307fc63f74dc6

commit 213ad6b8cb7f28be78098eade08ce6f10f50ad4d
Merge: cc2b286 76fc407
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 19:16:46 2013 +0000

    Merge "Fix volumes search by metadata"

commit 1047755f644a87d9cee6de278e56aea48c2a38cb
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Jul 25 18:10:10 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ief9b93dbcfd4fad56d97442b698c0c5844332e48

commit cc2b286a88bc4c9095ae340321ae3222bc11a159
Merge: b30ff0b d09eee3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 17:53:36 2013 +0000

    Merge "Using volume name property instead of using template and id."

commit b30ff0bd432a8f0fca96e2e2d278b3155aafaeb9
Merge: 8ddd63d 5b50bd8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 17:51:41 2013 +0000

    Merge "fix name 'update_volume_status' to 'update_volume_stats'"

commit bec0c8c4a06ffc33ce7914a5f017b981d086435c
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Tue Jul 23 09:49:57 2013 +0000

    Create volume from snapshot must be in the same AZ as snapshot
    
    This issue and patch also apply to cloning volumes.
    
    When creating a volume from a snapshot we need to pick the
    availability zone of the snapshot's source volume. This patch
    goes further and enforces that the new volume must be in the same
    AZ as the snapshot. It raises an user error if the user tries
    to create a volume in a different AZ to the snapshot.
    
    This is enforced across all drivers because creating a volume from
    a snapshot is implemented in the drivers and not all drivers are
    guaranteed to support creating a volume from snapshot is a foreign
    AZ. More to point if you don't support create a volume like this,
    and we allow this then you can create volumes and instances that
    get stuck in some weird states that require a support call to fix.
    
    If you do support cross AZ functionality then you can override
    the enforcement of that cloned volumes most be in the same AZ
    as their source via the 'cloned_volume_same_az' option.
    
    Change-Id: Iafc8f35ecc6a6b51dbe6df8bf44eaa3e79c3bd01
    Fixes: bug #1202648

commit 8ddd63ddb0421585369479e38af7d2c646f89a5c
Merge: f7f206d 62105c1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 11:11:53 2013 +0000

    Merge "Migration for detached volumes with no snaps."

commit d09eee32aa0ee756ce7062d61e7e006b6346fe00
Author: Nikolay Sobolevskiy <nsobolevsky@mirantis.com>
Date:   Thu Jul 25 14:27:35 2013 +0400

    Using volume name property instead of using template and id.
    
    Change-Id: I478f875ed509fb591799a78b7fd52bc830e6fd1c

commit f7f206dd59aef63383b7f5f7dcf1f556ea26d43a
Merge: 6951b34 c98cf2d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 00:59:20 2013 +0000

    Merge "use encode('utf8') instead of str()"

commit 6951b34fa0bb9ef869b7c0b36f26fd96b057d35a
Merge: 22e5007 99a6f4f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 00:59:06 2013 +0000

    Merge "get_snapshot should populate the snapshot metadata"

commit 22e50070916d1f2eebede7116ca15f124236d3d2
Merge: 7ffafd3 01fc874
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 00:48:24 2013 +0000

    Merge "Fix further Hacking 0.6.x warnings"

commit 7ffafd320608e6135135f4504285fce13fff283b
Merge: 627d69e 72080f9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 00:19:04 2013 +0000

    Merge "GPFS stub calls to truncate and dd in unit tests"

commit 627d69e83d45a1e1d93b7e444d755235a96ca789
Merge: 601fce7 12fa24a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 25 00:06:24 2013 +0000

    Merge "Storwize/SVC: Use VolumeDriver's copy vol<->image."

commit f4a9429cd01bbcd799083c76fc8b83c1a400ebb8
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jul 18 18:30:36 2013 -0600

    Fix unit suffix and add no_suffix option.
    
    In Cinder we've been using gibibytes, however
    we have code in some places using Gigabytes, the brick
    LVM code was one of those places.
    
    This change sets the default suffix to gibibytes/mibibytes (1024 based)
    and also provides an option to omit the suffix from the response now
    that we can say that we're consistent in what is expected.
    
    Change-Id: Id6274ba732bbdf484c5544e005155aebd68eaf2f

commit 72080f9cf538d9d029f953dbe18ac30fbd9f365b
Author: Bill Owen <billowen@us.ibm.com>
Date:   Wed Jul 24 09:08:16 2013 -0700

    GPFS stub calls to truncate and dd in unit tests
    
    gpfs unit tests had calls to truncate, and allowed
    driver call to dd and df.  Modify tests to stub these
    out.
    
    Also remove references to image_path.  This was a temp file
    created using truncate that is no longer used.
    
    Change-Id: I437b56505ba025b256b051dfaf43d8124005f854
    Fixes: bug #1203075

commit 601fce72c71076f84740eeca9187bf8a4c32bd29
Merge: b06a90b 84ca4b3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 24 20:57:02 2013 +0000

    Merge "GPFS convert glance image to raw only when needed"

commit b06a90b1e3649b76944d9bdf1cb0db3fe4c734be
Merge: 2d1b341 ef75b0c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 24 20:23:04 2013 +0000

    Merge "Implements extend volume feature in HP 3PAR driver"

commit 12fa24acdb05a56bfc01aac76d9f690ba8868af7
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Jul 22 13:43:29 2013 +0300

    Storwize/SVC: Use VolumeDriver's copy vol<->image.
    
    Inherit the VolumeDriver copy volume<->image functions. This patch also
    creates a new SanDriver class which is protocol-agnostic, and leaves
    the SanISCSIDriver class for drivers that wish to use it.
    
    Change-Id: Iad5cb030545ef7f4e01d006f1e63cdeeec713bf6

commit 2d1b3418f3feeac99ef50dd67477c79fa3929c79
Merge: 6196bbe abc5692
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 24 20:09:46 2013 +0000

    Merge "Implement extend volume for Storwize/SVC."

commit ef75b0c97352f16c5e02fc28bcd34aefe079ccfc
Author: Viraj Hardikar <viraj.hardikar@hp.com>
Date:   Mon Jul 22 11:53:47 2013 -0700

    Implements extend volume feature in HP 3PAR driver
    
    This patch enables the extend volume feature to be used in cinder
    when the backend storage is a 3PAR array.
    
    Change-Id: I8c8422f0ffc6d55ebe80fa8b2962b54eca266974

commit c98cf2d8d9dacce854e3faf1181964cfe73eb48e
Author: Kun Huang <gareth@unitedstack.com>
Date:   Thu Jul 25 00:19:56 2013 +0800

    use encode('utf8') instead of str()
    
    It is not clear for converting a unicode to string by using str().
    Instead we should use var.encode('utf8') to do this.
    
    Change-Id: I8ce4c98f819c98e835a6d8298fe22f2fd0ca18b6

commit 6196bbe015a629b357a5378e88b73e8bc40a0dc1
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jul 24 18:10:04 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ia984fca524ee33c0ce76931187a5293fb80d8b26

commit 62105c150dd15a1fabd141594e367a9f16b190e2
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jun 18 21:53:15 2013 +0300

    Migration for detached volumes with no snaps.
    
    Implementation of volume migration for detached volumes with no
    snapshots. Migration is initiated by an admin API. The scheduler
    confirms that the specified destination host can accept the volume.
    The source driver is given the opportunity to migrate the volume on
    their own. Otherwise, a new volume is created on the destination, both
    volumes are attached, the data is copied over, the volumes are
    detached, the source is deleted, and the destination is renamed. In
    the database, the destination volume's attributes are copied to the
    source so that the volume-id remains unchanged, and the destination
    volume row is deleted.
    
    DocImpact
    
    Implements: bp volume-migration
    Change-Id: Ib6fcf27051f45e60aa3ba5f599e88c1421db753e

commit f58bd6c6330ae8c828cc178130bcee5c1b3d17cd
Author: Navneet Singh <singn@netapp.com>
Date:   Wed Jul 24 15:22:28 2013 +0530

    Fix cinder error for deprecated Netapp drivers
    
    We deprecated some NetApp drivers in
    this release. This change fixes c-vol
    breakdown in case of cinder configured for
    deprecated drivers and helps
    in upgrade scenarios between releases
    by printing appropriate warning and
    suggestion message for deprecated drivers.
    
    bug 1217220
    
    Change-Id: I533d42257d93f706303b475fb4f222adcc0df3ed

commit 99a6f4f9e5b13cd9a3e5c90a5ff11eab9ad92642
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Wed Jul 24 10:06:41 2013 +0000

    get_snapshot should populate the snapshot metadata
    
    Update the query in db api snapshot_get() to join with the table
    snapshot_metadata, so that snapshot metadata is returned. This makes the
    api snapshot_get() function in the same way as volume_get().
    
    Fixes: bug #1204446
    
    Change-Id: I37004140f6a11b96aaeb3af6c631028a44541d3a

commit c8355adf0c0b9a70eca0eab8f8e4e2f773654d70
Merge: 2d6a7f0 72ebea6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 24 09:49:27 2013 +0000

    Merge "Adding driver minimum features and volume stats to dev doc"

commit 72ebea66b63ed386f78049f2f9c923f44f8e0c89
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Jul 23 14:58:06 2013 -0700

    Adding driver minimum features and volume stats to dev doc
    
    This is a first pass in getting information out of the wiki and into the
    dev docs, so changes can be reviewed properly as discussed at the Havana
    summit.
    
    Change-Id: I75e71b3e5df69e6b507ee64d330a9ec2455266c5

commit 2d6a7f0718461d4a5884c286f2a358bf13652caf
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Jul 23 17:17:20 2013 -0700

    Update RBD driver to be compliant with HACKING
    
    Fixes imports, doc strings, and dict style.
    
    Change-Id: Id678d972b9bf744239460fe97155a6a7bd8a868e

commit 84ca4b3698ae8512f6ba4cd72a57f662e35b59a0
Author: Bill Owen <billowen@us.ibm.com>
Date:   Sun Jul 21 17:35:50 2013 -0700

    GPFS convert glance image to raw only when needed
    
    Modify _gpfs_fetch_to_raw to check image format.  If already in raw
    format, no need to call convert_image.  In that case, simply rename
    to destination name.
    
    Change-Id: I197d99194f93c02ce3c501de25433d89b23e6a35
    Fixes: bug #1201676

commit 8d1156383ad544dd6e9cef4b3a49548538e7d420
Merge: adae17d 5d8a457
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 23 18:24:44 2013 +0000

    Merge "Add create & attach times to SolidFire attributes."

commit 546ed2dc498e1182859ebab19a3459e49bbe48ca
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Mon Jul 22 13:35:37 2013 +0000

    Fix oslo.config.cfg.NoSuchOptError when running individual tests
    
    We need to import cinder.common.config wherever we are using an olso
    configuration option from this module. Otherwise it is not necessarily
    the case that olso knows about the option and it complains.
    
    cinder.tests imports this configuration module but it not the case that
    this module has been imported when you you are running individual tests.
    
    Change-Id: I8f2c966848f55c80213d2ecd2dbf75b777627e6b
    Fixes: bug #1203737

commit adae17dcf49878d8a9785399081651f1c3bc641c
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Mon Jul 22 23:52:06 2013 +0100

    Fixes RBD driver docstring format issues.
    
    All docstrings should now comply with HACKING.rst
    
    Change-Id: I0892af8d81415880d5e0f9aab5c7cd95ff3bf6b9
    Fixes: bug #1203697

commit fd8c67944f6471c0ea1cc1f0c178511308335dbc
Merge: 16e1f09 3e70393
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 23 03:34:50 2013 +0000

    Merge "Cleanup README.rst"

commit 16e1f09cee1b28c21a1210435a5185776c8158bd
Merge: b4f326d cccf7b9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 23 03:34:48 2013 +0000

    Merge "Refactor SSHPool.get() to use Pool.get()"

commit b4f326d6705ae7fab4f6b7e568794f9f65ef2a25
Merge: 767a018 4796efe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 22 19:16:37 2013 +0000

    Merge "Added incremental backup support to Ceph backup driver"

commit 5b50bd8d515e8a69e2f57baffc42f5d4e2bc17a2
Author: Kun Huang <gareth@unitedstack.com>
Date:   Sun Jul 21 02:00:33 2013 +0800

    fix name 'update_volume_status' to 'update_volume_stats'
    
    _update_volume_status() private method is called by
    get_volume_stats(). This is confusing as the volume's
    stats and not status gets updated.
    
    fixes bug #1199327
    
    Change-Id: I9f7971e457250798320c14d3f58bdc199c8cfceb

commit 6d0d9e288f9333d88a73f4e0f0222a0064e905e9
Author: Kun Huang <gareth@unitedstack.com>
Date:   Mon Jul 22 00:19:08 2013 +0800

    use 'exc_info=1' instead of import traceback
    
    We need store traceback message in log sometime. Python logging module
    already provide a argument to do that. For example, we could:
    
    logger.error('msg', exc_info=1)
    logger.debug(e, exc_info=(type_,value_,tb))
    logger.exception('msg') # exception add exc_info automaticly
    
    Change-Id: Iaf541e4f4ea139d9315ac1990f0e6079c8f8a20d

commit 01fc8749851d51139f095b44855045a059b4dc50
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jul 20 01:14:44 2013 +0200

    Fix further Hacking 0.6.x warnings
    
    * Add missing Apache license header
    * Avoid using locals() in string formatting
    
    Change-Id: Ib9fa878babae5c50bc77e48c62b33a8ebfe39f7f

commit 5d8a457c4e91a7cfe1ab5a09cdb2ca48ec6aa977
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jul 19 17:05:55 2013 -0600

    Add create & attach times to SolidFire attributes.
    
    This change simply adds create_time and attach_time to
    the SolidFire devices attributes.
    
    Times are taken from the volume-ref object, attach_time
    is only set/present after an attach, and is also removed
    from the attributes list on a detach.
    
    This also required that we actually set attach_time on the
    volume in the db.  We have the column, but we weren't actually
    setting it, so this change required that be fixed.
    
    In the future we should also look at changing the attach_time
    from a string to a proper date-time object.
    
    Change-Id: Ib9577ac160596a6878d1729f6022885b6cfa90e2

commit abc5692c03c17ff4c0a5debd18f30e059d64877b
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jul 10 14:10:15 2013 +0300

    Implement extend volume for Storwize/SVC.
    
    This implements the extend volume functionality for the Storwize/SVC
    driver.  Extending volumes with snapshots is not supported, as this
    will require converting the snapshots into full copies, which will eat
    up free space.
    
    Change-Id: I5fb8c6967e6f3df1adfef46e05c832a953dd7131

commit 3e703930f6c3c119946765b8db4db9090aa9ed1f
Author: Thomas Bechtold <thomasbechtold@jpberlin.de>
Date:   Mon Jul 22 11:25:38 2013 +0200

    Cleanup README.rst
    
    Change-Id: Ia7413db4d71c85cbb382f289f36c02b0f838571d

commit 767a018880e234f5355f6a9777cc22be4bb6e5d0
Merge: 6e95e1a a048cd6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 22 06:46:07 2013 +0000

    Merge "3PAR Driver modifications to support QOS"

commit 76fc407382315a97cc020e8592199609b3a6a8e9
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Wed Jun 26 16:27:43 2013 -0400

    Fix volumes search by metadata
    
    The metadata parameter is urlencoded (to string) by cinderclient
    but isn't decoded back to dict by the API.
    
    The metadata parameter needs to be converted back to dict
    to be of any use by the filters parameter of get_all().
    
    The original implementation has been done by:
    Mathieu Gagne <mgagne@iweb.com>
    
    Fixes: bug #1195015
    
    Change-Id: I19d7d386afddddc067e9f4ef86967c9b72d9e530

commit 6e95e1ab3e737d1de356b4542d9f408e5bce2324
Merge: 25b75a6 8e76231
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 19 21:59:56 2013 +0000

    Merge "Sync gettextutils from oslo"

commit 25b75a640c6979b64d4eee62e88261101916fe50
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Fri Jul 19 15:49:54 2013 -0400

    Add test for volume status check when extending
    
    Ensure exception is raised if volume status is not 'available'
    when extending volume.
    
    Change-Id: I21337d5ca78090665b2feba50c74f853d3703650

commit a048cd66d4af66f2d6095762e5293ae9d81d03a2
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Thu Jul 18 10:56:21 2013 -0700

    3PAR Driver modifications to support QOS
    
    Currently, the OpenStack HP 3PAR Fibre Channel (FC) and iSCSI Drivers
    do not support Quality of Service (QoS) extra specs. The QoS settings
    added in this patch include;
    •   maximum MB/second (maxBWS)
    •   maximum IO/second (maxIOPS)
    These new extra specs will be scoped keys, the scoping will be
    qos:maxBWS and qos:maxIOPS. A new key hp3par:vvs was also
    added to allow the admin to predefine QOS settings on a 3PAR
    virtual volume set and any volume created would be added
    to that predefined volume set.
    
    The 3PAR storage arrays set these values on virtual volume sets,
    not the actual volume. So the change includes creating a virtual
    volume set with these settings and then adding the volume to the
    volume set.
    1.  Max IO/S & Max MB/S are not QoS guarantees
    2.  These are per volume maximums which the 3PAR is guaranteed
    not to exceed.
    3.  Settings these values does not guarantee these performance
    rates will be achievable
    
    DocImpact
    
    Implements blueprint 3par-qos-support
    
    Change-Id: I69031c6d3febe11dd5f9ff17095b86f3fe72a2a4

commit 5f147dcf79b87a1971ba73ab0eb05c2ccfe7d3a6
Merge: a4e7fa4 632cdec
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 19 16:57:22 2013 +0000

    Merge "Clone_image should return dict of vol properties, clone status."

commit a4e7fa464ae1ccf7e1e780baf3abca1fb10de9fc
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jul 16 14:55:58 2013 +0300

    Make Storwize/SVC tests work without simulator.
    
    Moved to using brick to get connector info and fixed a small bug to get
    tests working on real storage again. Also fixed up simulator to handle
    the multihostmap case properly.
    
    Change-Id: I7f5804aa94eac29d8c3cec0f8e9ae9339d4e0816

commit 08d749780ec6a8b092507b345f7a89b4661d9d70
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Fri Jul 19 16:30:11 2013 +0300

    Revert hardening of Storwize/SVC SSH commands.
    
    This reverts commit 6be79a8e3b4607adbbe6a26ee565156cd0fb36b0.
    Paramiko expects string commands, not lists.
    
    Change-Id: I1b762c0311a0ac810427ea033f737fd067761b1c

commit 6b85f929742348fc4ba9b17e2181982de7ef02a8
Author: Navneet Singh <singn@netapp.com>
Date:   Mon Jul 15 10:42:00 2013 +0530

    Clone_image method added image_id as parameter.
    
    Clone_image method contains volume and image_location
    as parameters. It needs to add additional image_id
    as a parameter for driver implementations to introspect
    internal image stores or registry for efficient image cloning.
    
    blueprint clone-image-imageid
    
    Change-Id: I20ae519492d73abecb1d0efc3b8e7204d2b2a4cb

commit 4796efe60d4e0cb0d2cbdf7f2ded3302b0670b3d
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Tue Jul 2 09:40:44 2013 +0100

    Added incremental backup support to Ceph backup driver
    
    The Ceph backup driver is now capable of doing differential
    and incremental backups between or within Ceph clusters.
    
    Implements: blueprint cinder-backup-to-ceph
    
    Change-Id: Id59bf1963c6d35aae4baf6f49be17340982c205c

commit 8e76231fda7ec828856a9fca32f37ff9089611a8
Author: Luis A. Garcia <luis@linux.vnet.ibm.com>
Date:   Mon Jul 8 23:03:20 2013 +0000

    Sync gettextutils from oslo
    
    Bring in the necessary code for handling cinder translations
    
    Partially implements bp user-locale-api
    
    Change-Id: Ibcf087c0f099262b90c115a155fdef619d3c5851

commit b123edca4f91b10da5fa18a8fd2a926caf3f1842
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Jul 18 18:09:57 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I4d20bf6b7a7e6d35e1319dbc758f1ccc305b4971

commit e8246efaa782bc07a9177757e7b5fd2f7f955db4
Merge: 23f778d cff3e6e
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Jul 18 15:04:28 2013 +0000

    Merge "Imported Translations from Transifex"

commit 23f778d4926abe79d222f5e1a2f21638317de6ab
Merge: bf6ddb5 6be79a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 18 15:04:27 2013 +0000

    Merge "Tidy up the SSH call to avoid injection attacks in storwize_svc"

commit bf6ddb5d733b7dd8ff6a7d8d7d2206fe07113f8f
Merge: ca44417 e909cfd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 18 10:05:29 2013 +0000

    Merge "Fix duplicate config options"

commit e909cfd67eceea396c63acd7563bed1f5f9979f4
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Thu Jul 18 16:42:34 2013 +0900

    Fix duplicate config options
    
    This is causing an error in the config file tool generator.
    Removed them since they are registered in cinder.api.common
    
    Change-Id: I23988d5133bbb95637dd9514813009ea8b460982

commit ca444174343df508837346c3ddbcb33f88f8e750
Merge: 577c564 30397d8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 18 07:34:16 2013 +0000

    Merge "Move copy_volume function to volume/utils.py."

commit 577c56405ec3c37ad63991d58ee0a86b511b509c
Merge: 9f93663 d8c1930
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 18 07:21:24 2013 +0000

    Merge "Delete snapshot metadata when snapshot is deleted"

commit 9f9366337efd78da2bc0f44db66203038da3094d
Merge: 04e9990 0414884
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 18 07:17:19 2013 +0000

    Merge "Fix indent in cincer/volume/configuration.py"

commit 04e99908eba25d6091ddc66d6d244129be415d8f
Merge: 009c9cb 36ab241
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 18 07:17:12 2013 +0000

    Merge "Fixes Opt type of use_multipath_for_image_xfer"

commit 30397d8a0a22f3ecad0001ac50a084cc41f4a43d
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jul 17 15:35:03 2013 +0300

    Move copy_volume function to volume/utils.py.
    
    There are several copy-pastes of running dd, so moved the most
    correct one (LVM) to volume/utils.py, and also updated
    BlockDeviceDriver to use it. Other drivers (e.g., NFS, GPFS, Scality)
    should be updated as well. Volume migration for detached volumes
    is a future use case.
    
    Change-Id: I56c64c94eccf0a311e6f3d611738ad0403351971

commit 009c9cbe0f514f4671224b35b9f203937f8bef9d
Merge: b23cad1 aca3a19
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 18 04:57:21 2013 +0000

    Merge "Implement validate_connector for Storwize/SVC."

commit b23cad10780dcdaaac50497726f7de07831084a2
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Jul 17 14:19:26 2013 +0900

    Fixes default value of use_default_quota_class
    
    Changed 'True' to True
    
    Change-Id: I69d5cefd888044b5544e41b34ab4f8974efb0a14

commit 462413a047e0cb7b6284f67cb58a0d0ecff7d58b
Merge: 3ec3256 fd139fa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 23:23:36 2013 +0000

    Merge "Rename SolidFire driver for consistency"

commit 3ec3256c5da62cfb3e2beb91203b1bb1cf4a47cb
Merge: 9c06684 c8a0320
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 23:23:29 2013 +0000

    Merge "Fixes Opt types in cinder/backup/drivers/ceph.py"

commit 9c06684e9561e5ee13c886b1fd79f3ecd1ba29fb
Merge: 3118889 74960fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 22:24:01 2013 +0000

    Merge "Fix extend_volume error handling."

commit 31188899a5cce10db3a2e557647cbf41748bb625
Merge: f04600a 201890c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 18:58:54 2013 +0000

    Merge "Fixes race condition in LVMVolumeDriver create_cloned_volume method"

commit cff3e6eaf2fe4f5ddf31233a2c3f4cee757c549d
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jul 17 18:10:23 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I71bcb713fc49faea2e1e442f08087800e0ea417a

commit d8c193012adb5a4f08982324324260656752480b
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Wed Jul 17 17:44:04 2013 +0000

    Delete snapshot metadata when snapshot is deleted
    
    When a volume is deleted all rows in the volume_metadata table for that
    volume are deleted as part of the database operation. This patch updates
    the snapshot delete operation to delete corresponding rows in the
    snapshot_metadata table.
    
    Change-Id: I17543a82be370bed57d4165ad8756ccb390bc0d9

commit 6be79a8e3b4607adbbe6a26ee565156cd0fb36b0
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Wed Jul 17 21:36:55 2013 +0800

    Tidy up the SSH call to avoid injection attacks in storwize_svc
    
    Let the command and arguments form up a list and avoid the extra arguments
    attackers inserted to the command string
    
    fix bug 1192971
    
    Change-Id: I72bb7ef137223381c9daa613e61f1fde4c3bc8ae

commit 74960fb8de3a84d0f3a5a56f15143647b4182f01
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jul 17 08:17:14 2013 +0300

    Fix extend_volume error handling.
    
    If the async call to the manager/driver failed, the API still updated
    the quota and volume size in the DB. Solution is to move these tasks
    down to the manager, where we know if the extend succeeded.
    
    Change-Id: I668fd659830bd6d410be64a1f5116377b08a9e96
    Fixes: bug 1201814

commit 201890c17e0f29d1ec8e5040206ecd1be09e22f7
Author: Rongze Zhu <rongze@unitedstack.com>
Date:   Wed Jul 17 18:15:04 2013 +0800

    Fixes race condition in LVMVolumeDriver create_cloned_volume method
    
    When we create a clone volume, LVMVolumeDriver will firstly create a temp
    snapshot for copying, the temp snapshot name is
    "clone-snap-%s" % source_volume['id']. When we create multiple clone volumes
    of the same volume simultaneously, which would trigger the race issuse.
    
    I changes the temp snapshot name template to "clone-snap-%s" % volume['id'],
    so temp snapshot name will be unique.
    
    Fixes bug #1202139
    
    Change-Id: I3a4f2585ea9e6f70b6f6f9889e900f19559b8176

commit f04600a5f545baa3c947c3acadb72d14fd2ef758
Author: Rongze Zhu <rongze@unitedstack.com>
Date:   Wed Jul 17 16:34:21 2013 +0800

    Checks the volume_clear flag and just return if it is none
    
    Refactors the clear_volume method in LVMVolumeDriver, checks the
    volume_clear flag firstly and return directly if it is none.
    
    Change-Id: Id2523cfaaf61c7d6dec51c0daf6255d9de5d50f3

commit e9b5abbaf67c8109d4548753bfd87480afe4a0a7
Merge: bfa2104 e25c105
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 06:23:45 2013 +0000

    Merge "Minor reorg for (array resource usage and backend options naming)"

commit bfa2104a2793b89d7a3e74786b43710d9c550c42
Merge: e0d66c7 718a529
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 06:23:14 2013 +0000

    Merge "remove improper assert usage"

commit e0d66c718ddc11dfa671b2ecc5218ac98d3afb53
Merge: 88bf4e0 6278128
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 06:00:38 2013 +0000

    Merge "Add tests for cinder/api/urlmap.py"

commit 88bf4e008bd8cff0ee743208e2b176eac0cecf85
Merge: f828e57 9f75e54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 06:00:27 2013 +0000

    Merge "Fix error when QuotaUsage.updated_at is NULL"

commit f828e57d61878facfd610944634ff45d8075f8d8
Merge: 00c403f c562ac7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 05:49:54 2013 +0000

    Merge "Add te field user_id into the volume detailed information."

commit 36ab241f7cfc0049e1bd92835a219e72ddbf94b8
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Jul 17 14:36:27 2013 +0900

    Fixes Opt type of use_multipath_for_image_xfer
    
    Changed use_multipath_for_image_xfer from StrOpt to BoolOpt
    
    Change-Id: Id02ba23b233d348885250ccb8c14fcf04667adec

commit c8a0320d8ee043cf94c8ff44ba77a0b8a77b4038
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Jul 17 14:26:23 2013 +0900

    Fixes Opt types in cinder/backup/drivers/ceph.py
    
    Changed backup_ceph_chunk_size, backup_ceph_stripe_unit and
    backup_ceph_stripe_count from StrOpt to IntOpt.
    
    Change-Id: I30a0b4d905b41f00e6450bc5cbfbf0c4d8593ab3

commit 041488406b0bb50b7e8c868975e4f225294d68e9
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Jul 17 14:09:18 2013 +0900

    Fix indent in cincer/volume/configuration.py
    
    Change-Id: I7d6e01de7dbc542ebe8fc35c0776de7a099f91e6

commit 00c403f1b3ab214f692ce06d95d2e885349dda19
Merge: b46bff9 2fd5e00
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 03:52:29 2013 +0000

    Merge "Mark methods used in class only with prefix "_""

commit b46bff94858d903f7069d85e724ad4dfc37c15ec
Merge: 659a318 cb6faab
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 03:52:25 2013 +0000

    Merge "Add Brick Fibre Channel attach/detach support."

commit aca3a197d96db8b2a4efc94c3eeb3c5976d6703d
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jul 16 12:24:30 2013 +0300

    Implement validate_connector for Storwize/SVC.
    
    Implement the new validate_connector API for the Storwize/SVC driver.
    
    Change-Id: I637f406c2592b158a7941da3657a0517972b0996

commit 659a318f7d90286ddce621ad33e5f5f1cd9d3357
Merge: 9ce7cdb f6a8b28
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 03:32:10 2013 +0000

    Merge "Fixes ceph-backup failure if original volume deleted"

commit 9f75e546aaf2b791868a3eac424462f78dca707f
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Tue Jul 16 21:47:19 2013 +0800

    Fix error when QuotaUsage.updated_at is NULL
    
    When QuotaUsage.updated_at is None, it will raise non-expected exception.
    Just verify it.
    
    Fix bug 1197259
    
    Change-Id: I2b41d025f8cffa6c0b3f0153a5194d5e7b1a05df

commit fd139faaf3d3fc96825bbaf3397a529e5762d92c
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Tue Jul 16 21:03:52 2013 -0400

    Rename SolidFire driver for consistency
    
    Rename driver to SolidFireDriver for consistency.
    
    Fixes: bug #1136081
    Change-Id: I83aef90706474e8a079ab5247b72b33c7a2c8472

commit cb6faab4d99801e76195802659013a5ccdc6b5b5
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Jul 10 15:22:06 2013 -0700

    Add Brick Fibre Channel attach/detach support.
    
    This patch adds the required code to do
    Fibre Channel attach and detaches of volumes.
    This code has been pulled over from Nova's
    implementation of FC attach/detach.
    
    Also adds a new driver config entry to enable
    multipath support for iSCSI and FC attaches
    during volume to image and image
    to volume transfers.
    
    DocImpact
    
    blueprint cinder-refactor-attach
    
    Change-Id: I436592f958a6c14cd2a0b5d7e53362dd1a7c1a48

commit 9ce7cdbaeb73031d841cb0943ca1812b149d1c19
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jul 16 18:27:19 2013 -0600

    Increase timeout period for clone volume.
    
    Current timeout value for clone volume in the
    SolidFire driver is 20 seconds, this is fine
    in many cases however there seems to be a
    number of customers doing clones of
    volumes >= 400G.
    
    A populated 400G volume is taking upwards of
    35 seconds to clone in some cases resulting in failure.
    
    There's no reason not to bump this timeout value up
    significantly to a worst case scenario (ie multi-terrabyte volume).
    
    Fixes bug: 1202007
    
    Change-Id: I98c399f5d647e14f031018f7fc1cc43bb0d94c84

commit 4a200217a2d60e36629b9bb12785f19c4cb6061a
Merge: 68579a9 d9e2c64
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 00:13:55 2013 +0000

    Merge "Adds multiple iSCSI port support to 3PAR"

commit 68579a929a46d67ba579b1259168b96a90f8f615
Merge: c89fab4 1830880
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 21:15:44 2013 +0000

    Merge "Be sure to check deleted types on quota update."

commit c89fab494091820d90e2959b3cba1c551a5c38b7
Merge: 0de59a8 8a042e0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 19:54:25 2013 +0000

    Merge "CoraidDriver: Allow volumes in error state to be deleted"

commit 18308807de7e7090854d6fde9ae06c7ffbf9b7ac
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jul 12 17:43:27 2013 -0600

    Be sure to check deleted types on quota update.
    
    If a volume-type is deleted, and later a volume
    that's assigned that type is deleted the quota
    update will fail and result in a trace for
    VolumeTypeNotFound exception.
    
    The volume is succesfully deleted, however the
    quota information for the volume-type let alone
    the other quota items for the volume are not
    updated.
    
    Fixes bug: 1200709
    
    Change-Id: Idd687514be9d622df84aad54b1b33ddc6615851b

commit 8a042e0732fbac24e412306d337c0742b681cfc2
Author: Jean-Baptiste Ransy <jean-baptiste.ransy@alyseo.com>
Date:   Fri Jul 12 15:41:12 2013 +0200

    CoraidDriver: Allow volumes in error state to be deleted
    
    This fix will allow the delete call to be successfull if volume
    doesn't exists on the SAN.
    
    Fixes bug 1195788
    
    Change-Id: I0396f1252c8faafff3e8b4f9a4aeffb930350a8d

commit d9e2c642e229f6a7e9448e81b64a94493a89c280
Author: Jim Branen <james.branen@hp.com>
Date:   Wed Jul 10 12:34:09 2013 -0700

    Adds multiple iSCSI port support to 3PAR
    
    Added support to the 3PAR iSCSI OpenStack driver to provide the
    ability to select the best fit target iSCSI port from a list of
    candidate ports. The first time a volume is attached to a host,
    all iSCSI ports configured for driver selection, are examined for
    best fit. The port with the least active volumes attached will
    then be selected as the path to the 3PAR array. Any subsequent
    volume attach, to the same host, will use the established target
    port.
    
    DocImpact
    
    Fixes bug #1197036
    
    Change-Id: Icf8c28ea3f201e5e21c9a6ed00a2fbdda445c8b3

commit 0de59a856e554e0c8e784ed83b86534176b7716b
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Tue Jul 16 17:04:34 2013 +0800

    Implement extend volume functionality in Sheepdog
    
    This implements the extend volume functionality for Sheepdog driver.
    
    Change-Id: Id7361e9571742bea210f13ced722829f489e7cb0
    Implements: blueprint extend-sheepdog-volume

commit 2fd5e00ce51146f376f4d0aae712c650ebc6f6ed
Author: Seif Lotfy <s.lotfy@telekom.de>
Date:   Sun Jul 14 23:05:44 2013 +0000

    Mark methods used in class only with prefix "_"
    
    In the swift driver the three methods prepare_nbackup, backup_chunk
    and finalize_backup are used internally in the class only and are
    not meant to be used from outside. Thus marked with prefix "_"
    
    Change-Id: Idf3a75f2e799c16b1442a349e0724d3e5af2795a

commit 5be685218b5dc08b9cd9e024482bbb2ed2eccf7d
Merge: 646dad1 15bd189
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 08:15:57 2013 +0000

    Merge "Add flag argument to 'cinder-manage config list'"

commit 646dad1d1ab24c945be5c67fcf7ce6f45331b746
Merge: 3c93233 5edbc4e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 06:19:22 2013 +0000

    Merge "Catch additional connect fail cases."

commit 3c93233cdd996d765674cf9ca32b7feb215c9269
Merge: 73350b7 3a3a134
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 04:52:21 2013 +0000

    Merge "Implement extend volume functionality in Rbd"

commit 73350b73a624c415d5f18318f58a8bf1b2c9321e
Merge: 521ebe3 8bac874
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 04:45:23 2013 +0000

    Merge "Clean up Huawei tmp files from tests."

commit c562ac705229710068c7f57fb87d2ab0f4fe54a0
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Mon Jul 15 23:12:32 2013 -0400

    Add te field user_id into the volume detailed information.
    
    Fixed Bug 1200555.
    
    Change-Id: Ibc36453caa174432b69597b1b2a0b314a7730357

commit 521ebe38c9c8aaa0549fc16c4ad632165bedd7ca
Merge: 1fdf77d 20f730b
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jul 16 02:24:29 2013 +0000

    Merge "Imported Translations from Transifex"

commit 5edbc4eb9a6b0d50612fffb6261850c80515b483
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jul 15 15:16:25 2013 -0600

    Catch additional connect fail cases.
    
    When fixing bug/1195910, some other failure
    cases weren't considered (ie not authorized,
    unreachable dest etc).
    
    We should fix this up to handle the various
    connection error states accordingly and also
    add some hints to the log output to help
    determine where to look in case of failure.
    
    Fixes bug: 1201592
    
    Change-Id: Ib099c7af705e7c49be4d0f723c8a20262c942e7f

commit 1fdf77d14e414daed0961559afc38952af4ab659
Merge: 5c6c596 3ecc2b4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 15 21:52:53 2013 +0000

    Merge "Implement extend volume functionality in SolidFire"

commit 5c6c596c1a11f69570e523a35807306f2127057b
Merge: 9aeb6ea 6ed3990
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 15 21:46:40 2013 +0000

    Merge "Add unit tests for cinder/api/contrib/volume_actions."

commit 9aeb6ea09dbdd8a67938563129fb31d18141babc
Merge: 54a7345 cc1f16e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 15 20:40:56 2013 +0000

    Merge "Use base ISCSI driver to fulfill some driver requirements"

commit 8bac8741cde9387c132fb9f09fef2fd5461d567e
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Jul 15 22:36:14 2013 +0300

    Clean up Huawei tmp files from tests.
    
    Remove tmp files created by Huawei tests.
    
    Change-Id: Id2eb4034b7be9d76843659647387344914ce236a
    Fixes: bug 1200416

commit 15bd189235b660890e12d60627e006ea608fb56e
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Wed Jun 19 14:52:41 2013 -0500

    Add flag argument to 'cinder-manage config list'
    
    Unlike other cinder-manage 'list' commands the 'config list'
    option doesn't allow users to specify a filter to limit
    the output.  This commit adds the ability to specify
    the flag the user wishes to display.
    
    If no flag is specified the default behavior is still to
    display all the configured flags.  If the flag requested
    is not found, cinder-manage reports that the flag was not
    found.
    
    (fixes bug 1187137)
    
    Change-Id: I698f4c06d7e93217d8f307a880e0ae40711151c2

commit 20f730b579665b227a2fdd122aac4f2fd19c4bbe
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Jul 15 18:10:20 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ie950672cd1eb59c78124a84c37da620a3b4af97f

commit 54a7345f9e945e4dd5f379040b9d47a7e9b8dc6d
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Wed Apr 17 13:58:35 2013 +0400

    Add generic block device driver
    
    This driver adds an ability to create volumes on any block device on
    local host.
    
    This driver supports the following features:
    
    - Volume Create/Delete
    - Volume Attach/Detach
    - Get Volume Stats
    - Copy Image to Volume
    - Copy Volume to Image
    - Clone Volume
    
    Not implemented:
    
    - Snapshot Create/Delete
    - Create Volume from Snapshot
    
    These features are not implemented because there is no generic way
    to create snapshots for block devices.
    
    bp block-device-driver
    
    Change-Id: If5fcaf2775daf660c46d630eea0f9633ca816ee9

commit cc1f16e4c81694d33a755ea50d2630aad8e7e3a2
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Jul 14 18:48:54 2013 -0700

    Use base ISCSI driver to fulfill some driver requirements
    
    Cinder has a list of minimum features that must be implemented by each
    driver. This uses the copy_volume_to_image and copy_image_to_volume
    implementation from the base ISCSI class. Also use the base for raising
    NotImplementedError. This touches the Nexenta and Zadara driver.
    
    Change-Id: I44a347e126a783e38d3a68cba23306a571aec43b

commit 5610092fc116f7263dbf48e045061c64a0846e10
Merge: fce0179 242976b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jul 14 19:07:21 2013 +0000

    Merge "Cleanup and make HACKING.rst DRYer"

commit 242976b4b8125737c571f57e3266a1281a60e807
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Fri Jul 12 16:47:01 2013 +0100

    Cleanup and make HACKING.rst DRYer
    
    Reference the OpenStack hacking guide in HACKING.rst and remove
    duplicate entries.  Add placeholder section for cinder specific rules.
    cinder specific rules can be created using hacking's local check
    support.
    
    Change-Id: Ia74da70363e3fe602405a440c1d2ec75052e9193

commit fce017984f572a813f2fade305d21963364a3c13
Merge: d72c7b6 cfb849d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jul 13 16:10:48 2013 +0000

    Merge "Handle errors raised by extend_volume"

commit d72c7b6abd545aa498471ea53726efccac67b1de
Merge: 5127c82 17e8d9c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jul 13 16:10:41 2013 +0000

    Merge "Fix a few Sphinx warnings"

commit 5127c825d21df877c4da4be2ea1c531a57182b86
Merge: bced838 8179007
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jul 13 16:09:13 2013 +0000

    Merge "Add support to import images into sheepdog volumes."

commit 632cdeca7923b7a06c3d7537b89a21d1790f230d
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Jul 13 12:25:30 2013 +0530

    Clone_image should return dict of vol properties, clone status.
    
    The method will work fine in case of drivers not dependent
    on volume properties like provider_location. It will fail to
    restart in case of nfs drivers and also leave volume created as
    result of clone_image functionality created in the
    nfs share in dangling state after deletion as provider_location
    is None. This fix requires dict of volume properties, cloned status
    to be returned which facilitates passing back provider_location
    in case of nfs drivers and hence resolves the issue.
    
    bug 1200708
    
    Change-Id: I590571e52d1c64b6dba7d7e76cd71badd74e51d1

commit bced83868f5f8004432b0bb96f54f9a6d046d014
Merge: c3c4e4b 942ff9c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 12 18:56:05 2013 +0000

    Merge "Update requirements from openstack/requirements."

commit c3c4e4ba55ce1dab09d1fcb91331e1d4ea7025cd
Merge: 76d8d6c 0ee3107
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 12 18:33:14 2013 +0000

    Merge "Enable zero the snapshot when delete snapshot in LVMVolumeDriver"

commit 942ff9c57a3ccf2859d2a7feea026417c38f8864
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jul 11 18:02:45 2013 -0600

    Update requirements from openstack/requirements.
    
    Fixes bug: 1200214
    
    Change-Id: I31edd5283b72ac46e99a11aca196f5b9915c4465

commit cccf7b92c189bcadf6898019730d84bfd4fe70b6
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Fri Jul 12 16:51:50 2013 +0800

    Refactor SSHPool.get() to use Pool.get()
    
    In previous code of SSHPool.get(), we pasted the code
    from Pool.get() and check if a connection is active before return
    it.
    
    However, it's much simpler and cleaner to just call the Pool.get()
    and then check the connection before return. With this,we can free
    ourselves from manually keeping up with code of Pool.get() in
    upstream package eventlet
    
    As a side effect,this patch fixed bug #1194393 which caused by a
    previous bug in eventlet codes before revision 1072
    
    fixed bug #1194393
    Change-Id: Ic2bf2fa1ad82cf8669b6c491c955dcab39eb1510

commit 0ee31073c5cb432a9cdd2648e99aa802b0ed0a17
Author: Rongze Zhu <rongze@unitedstack.com>
Date:   Wed Jul 10 09:25:32 2013 -0700

    Enable zero the snapshot when delete snapshot in LVMVolumeDriver
    
    Because snapshot without 'size' field, So clear_volume method in
    LVMVolumeDriver will skip secure deleting. Get the size of snapshot from
    'volume_size' filed, So it can zero the snapshot.
    
    Remove the 'size_in_g' parameter in _delete_volume method, because it never
    used. Add a unittest for clear_volume method.
    
    Fixes  Bug #1198185
    
    Change-Id: Ie919b50ce4fb276f29ab2e0279f868a691ea7bef

commit f6a8b28dbbb86f97458b80cb5f583725fec4b62f
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Thu Jul 11 19:38:15 2013 +0100

    Fixes ceph-backup failure if original volume deleted
    
    Fixes: bug #1199661
    
    Change-Id: I21f979bf2c0ca6910a6437cb6277193f71fed664

commit 76d8d6c1480ef7b74545107252f47bad858b6ecd
Merge: 4f1fc05 2de66f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 12 06:57:18 2013 +0000

    Merge "Ignore files created by Sphinx build"

commit 3a3a134ee93c3de95b076492572715638e4cd3aa
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Wed Jul 10 17:10:09 2013 +0800

    Implement extend volume functionality in Rbd
    
    This implements the extend volume functionality for Rbd driver.
    
    Implements: blueprint extend-rbd-volume
    Change-Id: I7ddbd0dda742627e959ac672b125555225238030

commit cfb849d4a9edc08395de4bb224aae1115eaa9a55
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Tue Jul 9 13:59:43 2013 -0400

    Handle errors raised by extend_volume
    
    Errors raised by extend_volume aren't handled by the manager.
    This means the volume status will not be updated to 'error_extending'
    when an error is raised during the process.
    
    * Handle such errors and update volume status accordingly
    * Add logging for the extend volume process
    
    Fixes: bug #1199471
    Change-Id: I06a037af0344d1eaf4115f0af5a85ceeab1ffd37

commit e25c105740bb8a10ad05b188f8262af940539baa
Author: Lakhinder Walia <lakhinder.walia@hds.com>
Date:   Thu Jul 11 18:27:16 2013 -0700

    Minor reorg for (array resource usage and backend options naming)
    
    1. Use HUS target/initiator resources efficiently.
    2. Command options aligned with openStack scheme of using dashes.
    3. Self tests modified to accomodate #1 and #2.
    
    Change-Id: I7d23a980f237c973538ca08215f77a1f69cc2517
    Fixes: bug 1200441

commit 4f1fc05f31c73125b6d8ef771f21024ad06922b3
Merge: fb4c238 dbb8546
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 12 01:25:04 2013 +0000

    Merge "Check enabled backup service before rpc request"

commit fb4c238c13a99316a6a8f493ae451cd2ca4185b9
Merge: 7ecc45a e830c8d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 12 01:25:01 2013 +0000

    Merge "Fixed Ceph backup librbd segfault"

commit dbb854635fdb988e28acf87d221fa278e6cb8c0c
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Thu Jul 11 15:22:04 2013 +0800

    Check enabled backup service before rpc request
    
    In previous code we didn't check whether we have an enabled
    backup service there before we send out the rpc request,
    results that if no enabled backup service there,the volume will
    stays in "backing-up" state and the backup will stays in "creating".
    
    This patch fixed this issue, we exam whether at least an appropriate
    (same host,az as the volume and is_alive) backup service available
    before we do the rpc request.
    
    Fixes: bug #1200040
    Change-Id: I77154528f489ed20f7b784e6fcefccf15dc81d1d

commit 7ecc45ace86181d749886688aedb6d373c5f2c7b
Merge: bc4af72 67078ab
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 21:58:43 2013 +0000

    Merge "Enable setting blocksize on volumes."

commit e830c8d3fa0abc64e5ff75dfd0729d053f26971a
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Thu Jul 11 18:26:22 2013 +0100

    Fixed Ceph backup librbd segfault
    
    Change-Id: I1a6b9935eb7da9fca5b572ea4823bae3def99ea0
    Fixes: bug #1198271

commit bc4af720e21f334c8d536031efcde12026e56cfc
Merge: 94d358b 8c1cf3d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 17:41:44 2013 +0000

    Merge "    cinder.api: Replace 'locals()' with explicit values"

commit 94d358b80f0f63ebc411c2952c4a056c86ac10cd
Merge: a9e0311 488fe5e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 17:38:06 2013 +0000

    Merge "Fix missing volume_name_template flag."

commit a9e03112ef6cca7da362b77719438b04b6640a1d
Merge: d4be2c5 f76d1ee
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 16:20:15 2013 +0000

    Merge "Consist terminate_connection function signature"

commit d4be2c5bb0a452970c1506c2842f8df238824b35
Merge: e65df99 b58911a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 13:31:58 2013 +0000

    Merge "Add support for storing volumes on GPFS"

commit e65df997f643417b8de62b6ee7bf0fa9db2704b3
Merge: d46322e b3e3c8e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 11:34:34 2013 +0000

    Merge "Add unit tests for cinder/api/versions"

commit d46322eb165fe95ffca719f47036bfb013c26289
Merge: cfe8dc4 4ba9ded
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 11:20:01 2013 +0000

    Merge "Update upper bound of keystoneclient version."

commit 8179007c804d88595a346ad993791fd21a2a9c01
Author: Wenhao Xu <wenhao@zelin.io>
Date:   Wed Mar 6 16:51:33 2013 +0800

    Add support to import images into sheepdog volumes.
    
    Supporting import images from glance to sheepdog volumes.
    Unit test framework for sheepdog is added too.
    
    Fix Bug #1148784
    
    Change-Id: I8ffd1bc1b2d719aed27ce0d98eaa41fef8027ca2

commit 627812890a3e7c5f8789a7deaa14d5daefde166a
Author: Julia Varlamova <jvarlamova@mirantis.com>
Date:   Fri Jul 5 15:33:56 2013 +0400

    Add tests for cinder/api/urlmap.py
    
    Add tests for unquoting and parsing functions in
    TestParseFunction class
    Add tests for Accept class methods:
     - TestAccept class - test cases for processing content types
     - TestUrlMapFactory - test cases for urlmap factory
    Add tests for URLMap class methods except __call__ method in TestURLMap
    
    Change-Id: I3f1aa527f49175d9fac6fbe7309383709c30c237

commit 718a5293bc9ac36f5cbccb35296322fd7446f36d
Author: Kun Huang <gareth@unitedstack.com>
Date:   Thu Jul 11 12:04:52 2013 +0800

    remove improper assert usage
    
    There're many talks about it. An assert should be used for `never
    happen` cases, not common paramaters validating.
    
    With grep, we could many all assert statement used in none-test codes:
    
    cinder/volume/drivers/san/solaris.py:110:
    cinder/volume/drivers/san/solaris.py:116:
    cinder/volume/drivers/san/solaris.py:161:
    cinder/volume/drivers/san/solaris.py:162:
    cinder/volume/drivers/san/solaris.py:163:
    cinder/volume/drivers/san/solaris.py:164:
    cinder/volume/drivers/san/solaris.py:170:
        checking cmd output which should never changed, so leave it
    cinder/db/sqlalchemy/migration.py:113:
        ensure file existence from impossible cases, so leave it
    cinder/utils.py:
        used for functional flow, so use ValueError instead
    
    fixes bug #1199354
    Change-Id: I2b1701269bdf7c8737548e57bd940921a6256372

commit 67078ab9329b8f3d844b033b4d64cf2bdcf6bab7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jul 10 15:34:26 2013 -0600

    Enable setting blocksize on volumes.
    
    Some back-ends support blocksizes other than the default 512 (like 4096),
    this change adds a provider_geometry column to the volumes table,
    format is "physical_block_size logical_block_size".
    
    This can then be used by libvirt to determine if it should pass in
    non-default block_size info, and there's a method for future
    geometry/disk info that might be needed.
    
    Fixes bug: 1196248
    
    Change-Id: I8d40bc56403154fbe955cd4ccf8f0c55fc9eb7c5

commit 8c1cf3db3dd38767b2f78123a235fbf47460bf43
Author: Scott DAngelo <scott.dangelo@hp.com>
Date:   Wed Jul 10 22:00:02 2013 +0000

        cinder.api: Replace 'locals()' with explicit values
    
        Help bring source code into compliance with the
        Cinder Style Commandments:
        https://github.com/openstack/cinder/blob/master/HACKING.rst
    
        This change covers all affected source in the
        cinder api module, specifically:
        cinder/api/contrib/volume_actions.py
    
        Partially fixes: bug #1190758
    
    Change-Id: I2134e69b70a5a5132847168f60b4d192bdf0b536

commit 4ba9ded4821f9e7b938d1540cc60698c0f9a7784
Author: Lin Hua Cheng <lin-hua.cheng@hp.com>
Date:   Wed Jul 10 14:31:00 2013 -0700

    Update upper bound of keystoneclient version.
    
    This is the intermediate step so that we can update the the lower
    bound of keystoneclient in openstack-requirements.
    
    Change-Id: Ie6d973ccd1263243ebf0779ae59ef32416bf7087

commit 488fe5e8605dabf22914a99d3c57bb249ef9c36a
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jul 10 13:41:10 2013 -0600

    Fix missing volume_name_template flag.
    
    volume_template_name was converted to a self.configuration option,
    however we don't import that opt in the self.configuration changes.
    
    This patch switches the specifier back to the global CONF
    
    Fixes bug: 1199909
    
    Change-Id: I1431ba8a46b3a86ed77c02646a1c5fd1f62ae010

commit cfe8dc42254e6f808bec61f89ea4a43504704000
Author: Duncan Thomas <duncan.thomas@hp.com>
Date:   Wed Jul 10 19:28:39 2013 +0100

    Change check-detach to reject more states
    
    Change check_detach is reject anything other than 'in-use', rather than
    just rejecting 'available'.
    
    Fixes bug #1199922
    
    Change-Id: I3180540ca7bb699a3494ca4eea1389ae8a117df0

commit 3ecc2b4a0f1fcdea7160264e95e699cf55c55050
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Tue Jul 9 14:11:18 2013 -0400

    Implement extend volume functionality in SolidFire
    
    This implements the extend volume functionality for SolidFire driver.
    
    Implements: blueprint solidfire-extend-size-support
    
    Change-Id: I00dc15f722c70b8835ae5a060ca8f0c4a80a1acb

commit b3e3c8e6bd6b4184eee331e3133b39bc8103f27d
Author: Jasakov Artem <ayasakov@mirantis.com>
Date:   Wed Jul 10 17:15:24 2013 +0400

    Add unit tests for cinder/api/versions
    
    Added to the following unit tests:
      Test action args;
      Test get most recent update;
      Test create version entry;
      Test create feed.
    
    Change-Id: I760e8f419be529cda969e848f151a8cab1053dce

commit 2f5e26a247665f890cdf26773b5e7070890594d8
Merge: ee5514f e2a58aa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 10 11:05:49 2013 +0000

    Merge "Add interface class for backup drivers"

commit ee5514f240ee1c43428b39e089ca676f46fa50f1
Merge: 8c957f9 f2dbeaf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 10 06:46:17 2013 +0000

    Merge "Make String column creation compatible with SQLAlchemy 0.8"

commit 8c957f9bd14745db86b44202e5c69c5ac15fb035
Merge: d3c7b57 7266ad7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 10 06:35:52 2013 +0000

    Merge "Remove suds requirement"

commit d3c7b57ca141c8eb167a1467c054ba906c89c679
Merge: d50bf8a 785d49e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 10 05:28:25 2013 +0000

    Merge "Move brick initiator tests to brick subdirectory."

commit d50bf8a759136d12bb60dfb6f568509e082cb891
Merge: 3dc700c b3c0ec6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 10 05:27:21 2013 +0000

    Merge "Don't pass 'session' arg to public DB API methods"

commit 3dc700cd60847fbbd3302e423c03309efbd72a0b
Merge: 811d514 102c6ea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 10 05:27:14 2013 +0000

    Merge "Sync install_venv_common from oslo"

commit f2dbeafb4746c89734d70e15601f24aeb22b0d8f
Author: David Ripton <dripton@redhat.com>
Date:   Tue Jul 9 13:32:08 2013 -0400

    Make String column creation compatible with SQLAlchemy 0.8
    
    3 migration scripts used the convert_unicode, unicode_error, and
    _warn_on_bytestring arguments when creating String columns.  These
    seem to cause problems with SQLAlchemy 0.8.  Nova excised all use
    of such arguments in commit 93dec58156e when squashing migrations
    for Grizzly, and seems to have no problems with SQLAlchemy 0.8.
    
    Fixes bug 1199453
    
    Change-Id: Ie4b46339423e6a1ad3d8ca699a2412b825206c0e

commit 7266ad78f2e447a6e40c8bff5017fe63863bd3e4
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Thu Jul 4 16:16:15 2013 +0200

    Remove suds requirement
    
    Last usage of suds was removed in
    https://review.openstack.org/#/c/33168/. suds is
    meanwhile unmaintained and has pending security issues,
    so better remove references to it.
    
    Change-Id: I7e66a1b6e3a3189b07b30564f7b02f5e195944ff

commit b58911a95c4399bf54ece6ecc88d3e4417f08fe1
Author: Dinesh Subhraveti <dineshs@us.ibm.com>
Date:   Wed Jul 3 15:56:42 2013 -0700

    Add support for storing volumes on GPFS
    
    Key functions include efficient creation of snapshots and clones using
    file system level copy-on-write mechanism. Copying of image blocks is
    also avoided in case Glance backend repository happens to be on GPFS.
    
    Change-Id: I0a532fe06798d07f21d79ee45444bb9c0a025430
    Implements: blueprint gpfs-volume-driver

commit 811d5145cdc4117eb072b355c5022fea4a735aa8
Merge: 5e7dd12 7429cc4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 9 14:08:56 2013 +0000

    Merge "Fix extent size issue when creating thin pool."

commit 5e7dd12be6ff3d6a017665bbfa30ee8e0964d22d
Merge: da99a22 7497e40
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 9 13:01:52 2013 +0000

    Merge "Add ability to specify SolidFire API version"

commit da99a22e3aef2a6d099691f8dee489b900be6923
Merge: 723486b 40aef76
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 9 13:01:50 2013 +0000

    Merge "Refactor reschedule in exception handling of volume manager"

commit f76d1ee4dd812f56988f4886f183fa7a837cc254
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Tue Jul 9 10:18:30 2013 +0800

    Consist terminate_connection function signature
    
    Clean up the "force=False" in function signature for terminate_connection
    since it already accept **kwargs.
    
    Thus make all function signature for terminate_connection consist to
        def terminate_connection(self, volume, connector, **kwargs)
    
    Fixes: bug #1190419
    Change-Id: I8765cb8f2aa3cfbb49ff57ae034b148aee35a8c4

commit 723486b120f3b2cc106c94191e8de9dc0b4c185f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jul 8 19:22:34 2013 -0600

    SolidFire API RequestID is useless.
    
    The SolidFire API can take an int or a string for a request-id,
    when using an int however it needs to actually be a valid int.
    
    The driver currently was doing an int(uuid) which is too large and
    as a result get's truncated making it difficult or impossible to track
    request-ids.
    
    This patch chanes the generate request-id to form a hash of the uuid so
    that it can be tracked.
    
    Fixed bug: 1199198
    
    Change-Id: I38d5e3d189e679678898c329a9fa173a47853d47

commit 7497e40dce59cfc66e2d1ce7468843bc7949c770
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Mon Jul 8 21:11:59 2013 -0400

    Add ability to specify SolidFire API version
    
    This change is required for future works in the SolidFire driver.
    New SolidFire features (such as extend) are only available in
    the latest version of the SolidFire API.
    
    Default to '1.0' for backward compatibility. SolidFire still supports
    the '1.0' version in its latest release.
    
    Change-Id: I93590ab297d746d65a58f9166d160d0c1d833014

commit 40aef764bb24330221b03bafc0e6d85fa493e383
Author: Zhiteng Huang <zhithuang@ebay.com>
Date:   Fri Jul 5 01:46:34 2013 -0700

    Refactor reschedule in exception handling of volume manager
    
    Previous exception handling has a pitfall that may potentially clear
    the sys.exc_info() (by calling SQLalchmey to update db). This patch
    refactors some part of exception handling in create_volume() to make
    sure sys.exc_info() is retrieved so that we can log and reraise it;
    also we make sure exception be reraised at the end of exception handling
    no matter the request is rescheduled or not.
    
    As a side effect, we fixed a bug in unittest which didn't provide
    correct argument to db API but previously this exception has been wrongly
    consumed by volume manager's exception handling (not reraise exception
    when request is rescheduled).
    
    fix bug: 1197648
    
    Change-Id: Idce5d06f8be1fb6018012503ec7f844898a21b25

commit e95839466898e5606263721887633b2f66a360c0
Merge: ca0e729 8b1ae18
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 8 21:09:20 2013 +0000

    Merge "Use oslo.sphinx and remove local copy of doc theme"

commit b3c0ec6defe98adfe24c2f40ae62f9c9acd959ae
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Thu Jun 27 18:34:21 2013 +0300

    Don't pass 'session' arg to public DB API methods
    
    DB API is an abstraction layer, which is used to make it
    possible to switch DB backends easily (though we've got only
    SQLAlchemy backend at the moment).
    
    Public methods of DB API should not accept any backend-specific
    arguments (i. e. a Session instance, that is an SQLAlchemy entity
    to work with DB transactions).
    
    This patch removes 'session' argument from all DB API public methods
    (except volume_data_get_for_project() and snapshot_data_get_fro_project(),
    which are a bit tricky and will be fixed by another patch).
    
    If a DB API method must be called by another one in the context of a started
    transaction, a private method is used. It accepts the same arguments as the
    corresponding public method plus one additional argument to pass the transactional
    context (in case of SQLAlchemy backend it's a Session instance).
    
    Blueprint: db-session-cleanup
    
    Change-Id: Iabe7ea834ec07f6520614de2461b9ad1ab7a7ac2

commit e2a58aa47dc94fecf314d7b7c786d8feccfc0946
Author: Marc Koderer <m.koderer@telekom.de>
Date:   Thu Jun 27 12:05:56 2013 +0200

    Add interface class for backup drivers
    
    This fix introduces an interface class to define the structure of all backup
    drivers. It also renames backup/service to backup/driver.
    To be backward compatible a mapping functionality is introduced to map old
    backup services to backup drivers.
    
    Implements: blueprint refactor-backup-service
    
    Change-Id: Ic3fca567111f4bd1b221689c73cd5c3bab4a777b

commit ca0e7295f44235c7d64954a225a172718a074dd8
Author: XueChendi <chendi.xue@intel.com>
Date:   Wed Jul 3 22:20:32 2013 +0800

    Prevent wrongly privilege escalation of a context
    
    Current codes in create_volume() may exists a scenario that
    a context which is not elevated but after it fails in volume
    creation, it becomes elevated. This patch saves original
    context, so that if it fails in volume creation simply use the
    original context for further scheduling.
    
    Fix bug:1187076
    
    Change-Id: I2822b1612ec741209b278fc65f18d0f8f3243e0a

commit 785d49ea5e20ae034510f5eeaa464f809b0b4857
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Jul 7 12:23:19 2013 +0300

    Move brick initiator tests to brick subdirectory.
    
    Move brick initiator test file to brick subdirectory.
    
    Change-Id: If08281ce067a3e462072bd7d9ab4db555e6930c5

commit 7429cc45dc6b90ee0b4b90eff7b231e074ba9e9d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jun 25 16:52:21 2013 -0600

    Fix extent size issue when creating thin pool.
    
    The LVM create thin pool rounds up extents, this
    change rounds the free space down to an int to avoid
    this issue and also cleans up some comments and
    code around how PV's are set up and used.
    
    Change-Id: I725aa819c21c38f464595d0146d6640ecd1e6440

commit faffe83d88276633fb701996b0e44f34b7a2daa0
Merge: 15dab5c 1244106
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jul 6 04:38:54 2013 +0000

    Merge "Add check for snapshot to Brick LVM."

commit 102c6ea2f0c78661d47d55b9a1f96aef02361f49
Author: Monty Taylor <mordred@inaugust.com>
Date:   Fri Jul 5 22:27:13 2013 -0400

    Sync install_venv_common from oslo
    
    Also grab a related doc reference while we're at it.
    
    Change-Id: I2590970767f043f35a62a4dfa94be4ee86fbf138

commit 17e8d9cf8ab87c6c9b19eb510aeb7085979c50f8
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Fri Jun 28 19:22:58 2013 -0400

    Fix a few Sphinx warnings
    
    Corrects some rst formatting to eliminate warnings in
    the documenation build.
    
    Change-Id: I4026a1c8e7fae1928ca50d80aa1b5440faf754da
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 2de66f438185bf53c4e44ad06bdf1a6a69b851bc
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Fri Jun 28 19:06:51 2013 -0400

    Ignore files created by Sphinx build
    
    Change-Id: I5eafa7aefc8da18527ec14b9b116f7132787f667
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 8b1ae18ba95f04fedc04592b419401d75d448543
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Fri Jun 28 19:06:10 2013 -0400

    Use oslo.sphinx and remove local copy of doc theme
    
    Use the new oslo.sphinx version of the OpenStack doc
    theme instead of copying it into this repo.
    
    blueprint oslo.sphinx
    
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
    Change-Id: I0bd91f7bb43f97b99051fed65b75fc05d5149cc8

commit 15dab5cf6169de4f5e5599fe2ff39410412cddc6
Merge: 121bff9 62fb1ac
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 5 16:36:56 2013 +0000

    Merge "Add execute wrapper to brick LVM code."

commit 121bff9fc3bd72df5b05240fc14b5bef7916b754
Merge: cf69b54 45a1a56
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 5 10:10:07 2013 +0000

    Merge "Rename cinder.flags to cinder.common.config"

commit 6ed3990d6aa8450e9b246d0e02724cf133b9059c
Author: Jasakov Artem <ayasakov@mirantis.com>
Date:   Fri Jul 5 11:59:56 2013 +0400

    Add unit tests for cinder/api/contrib/volume_actions.
    
    Added to the following unit tests:
      Test begin detaching;
      Test roll detaching;
      Test volume upload to image with TypeError;
      Test extend volume with ValueError;
      Test copy volume to image, when body without Image's name.
    
    Change-Id: I2382e043b7968a2c285c505ec02ff65fd81ea605

commit cf69b54a9107d77abfd1cd06937d2cd00312ea4f
Merge: 786d2ba 3283ce5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 4 22:00:24 2013 +0000

    Merge "Scheduler should not select down volume managers"

commit 786d2ba800f8684517bdb6dba591dbe7995be795
Merge: 58b48ad 0e5cb31
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 4 18:49:24 2013 +0000

    Merge "xenapi: implement xenserver image to volume"

commit 58b48ad5095ce3d28141f12326f9b0c93acdc131
Merge: 86a2d9e 424058f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 4 18:49:16 2013 +0000

    Merge "Fix typo 'Flase' -> 'False'"

commit 86a2d9ef0f503e66cb8f4e2738d6f664e915326e
Merge: dcfdd85 251687d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 4 17:56:28 2013 +0000

    Merge "Make os-services API extension consistent"

commit dcfdd85e865112ce1bde8c20a2c8c2f32518b716
Merge: 3b0921f afa2790
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 4 17:13:21 2013 +0000

    Merge "Quotas by Volume Type"

commit 3283ce500493d4908e91e002dc82b81e4468b26e
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Thu Jul 4 13:58:08 2013 +0000

    Scheduler should not select down volume managers
    
    Currently volume managers that are not disabled, but are not running
    may be selected by the scheduler for volume creation operations.
    
    Change-Id: Ia06a3da8b31eef918d55aaaf71f863683c721026
    Fixes: bug #1197741

commit 12441061fa4a378d78eb4f172a153bf135d450cc
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jul 4 09:25:03 2013 -0600

    Add check for snapshot to Brick LVM.
    
    Adds a check to the LVM code in brick to see if
    a snapshot exists.  This implements the incorrectly
    named "is_busy" method that exists in the cinder LVM driver.
    
    Change-Id: Ia0f6cbd3d5b4561c5368545448abaafa67caf05d

commit 424058fd2c50bbdac5e445e66ab795281640cff3
Author: Sascha Peilicke <saschpe@gmx.de>
Date:   Thu Jul 4 15:47:11 2013 +0200

    Fix typo 'Flase' -> 'False'
    
    Change-Id: I986a943d06d715ac7bc284d5ebdf1d8963f5dc3e

commit 45a1a564c05b04330a7a58110508bc824bebd50d
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Wed Jul 3 11:28:05 2013 +0400

    Rename cinder.flags to cinder.common.config
    
    Replace FLAGS with cfg.CONF
    Rename modules fake_flags to conf_fixture, test_flags to test_conf, declare_flags to declare_conf, runtime_flags to runtime_conf
    Renamed cinder.flags, because exactly the same was done in the glance and nova
    
    Fixes: bug #1182037
    Change-Id: I3424d0a401b3ef7a3254d3e913263554361a52ff

commit 3b0921fbdc9e2fdf2b35801143fddbf09a9b84e2
Merge: 5fa8ba4 dec8fb7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 3 06:46:46 2013 +0000

    Merge "Skip brick_initiator test in virtual environments"

commit 5fa8ba4040610be059829ece1c3e72fd72de9ae2
Merge: 5e3b00e 8f6fde5
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jul 3 06:46:42 2013 +0000

    Merge "Imported Translations from Transifex"

commit 62fb1ac44a384016e81223de179f79cede6f8fad
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jul 2 13:16:28 2013 -0600

    Add execute wrapper to brick LVM code.
    
    Add an execute wrapper to the brick lvm code and
    enable the ability to pass in a desired executor other
    than just using the default common/processutils executor
    if there's some reason to do so.
    
    This will enable the switch of the cinder/volume/drivers/lvm.py
    driver to continue using cinder/utils execute until we switch over
    to common/processutils and also helps immensely with the tests.
    
    Change-Id: Iaecba475debb2100d0c40b5e54ece6d4420271c5

commit 5e3b00e6d37b1944225aed7c3600e18abc713536
Merge: 1410af4 728f983
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 2 20:48:19 2013 +0000

    Merge "Adding host attaching support to Cinder"

commit 8f6fde5b0d395c0c753f19f6b00e737c90ec1abe
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jul 2 18:11:01 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I488133a2ae2c0f04dfd91bc85107df58c701ab41

commit 1410af4214379da13b10baec3ddb37cbce7e5eb6
Author: Jean-Baptiste Ransy <jean-baptiste.ransy@alyseo.com>
Date:   Thu Jun 20 17:39:45 2013 +0200

    CoraidDriver: Create_volume_from_snapshot of a different size
    
    When you create a Volume from a Snapshot, the 'size' argument for the
    new volume isn't used at all.
    So, the new volume created will be created (successfully but) with the
    same size as the snapshot size.
    
    Cinder think the volume has been created with the right size.
    
    We just need to call Coraid ESM LV Resize with the REST API after
    the volume has been created.
    
    Fixes bug 1158959
    
    Change-Id: I760fe1ba4052bb2d5b1a1a5c55c9a976522af107

commit 251687de151813e57428300d443ba5510cbb61d1
Author: Qiu Yu <unicell@gmail.com>
Date:   Tue Jul 2 15:14:36 2013 +0800

    Make os-services API extension consistent
    
    Updates the os-services API extension so that it is consistent
    internally (index and update return similar formats), and so
    that it works with the following cinderclient code changes which sends
    the the following request body format:
    
      {"binary": "cinder-volume", "host": "host1"}
    
    It addresses a similar issue which happens in nova os-services extention
    before. https://bugs.launchpad.net/nova/+bug/1147746
    
    This change added 'binary' key in request and 'status' key in response
    while still keeping 'service' ane 'disabled' key for API compatibility
    sake.
    
    Implements blueprint os-services-extension
    
    Change-Id: I7f3fa889294ca6caebdf46b8689345bcac1cdf54

commit e3abee82df2f21e2bd68118813e687dc1b82ff78
Merge: 83dd8e4 d596bfe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 2 06:36:23 2013 +0000

    Merge "Handle ECONNREFUSED exception in SolidFire driver."

commit 83dd8e42c2053a67428f806abbea7b94e5efa024
Merge: 328cdb6 d863510
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 2 05:03:17 2013 +0000

    Merge "Removes 3PAR domain option from cinder config file"

commit 328cdb6de6287266289886bc1faa9dabfb9de7ea
Merge: 572e345 b4dc0ae
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jul 2 04:50:41 2013 +0000

    Merge "Imported Translations from Transifex"

commit 572e34592c6f2afb4b48c8cc84f4514458281d2d
Merge: e102c28 e96b3e5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 2 00:13:31 2013 +0000

    Merge "Added Cinder volume backup to Ceph support"

commit b4dc0ae0c2f8f9b785fcfe855d4979bc83c2a84a
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Jul 1 18:11:00 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ifa128b8d4e3cbd8655ea1d9ffe756d1ffc41e817

commit d863510ca97a2ea1ff8e0a81a5f41c0cd1fe3670
Author: Viraj Hardikar <viraj.hardikar@hp.com>
Date:   Tue Jun 25 15:37:09 2013 -0700

    Removes 3PAR domain option from cinder config file
    
    The HP 3PAR domain is no longer required to be specified in the
    cinder configuration file. This patch automatically looks up the
    domain using the Common Provisioning Group (CPG) specified.
    hp3par_domain will remain in the config for now and will be
    logged as deprecated. It will be removed in the I release.
    
    DocImpact
    Change-Id: I3ed01eed26209caa1904bec1f585059860294f38
    Fixes: bug 1194599

commit e102c28b6407914ccb5d9d1837ecd43e494a0bd2
Merge: ed504ac 411a85d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 1 16:13:44 2013 +0000

    Merge "Calculate count for customized dd blocksize"

commit dec8fb779253b62bd86b1d198ee89b22f19ab3e1
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 29 19:28:27 2013 +0200

    Skip brick_initiator test in virtual environments
    
    /dev/disk/by-path does not exist in certain virtual
    environments. Skip the test.
    
    Fixes LP Bug #1196464
    
    Change-Id: Ifc5bb061db59aaa6b7c089eda5e4eb1c9eff2dbf

commit e96b3e5ffcd8d01c461bc915e3eaebecab1516b9
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Tue Jun 25 10:11:11 2013 +0100

    Added Cinder volume backup to Ceph support
    
    Added new Ceph backup service to allow backup
    of Cinder volumes to a Ceph object store. This
    driver is compatible with the existing backup
    interface provided by the Swift backup service.
    
    Implements: blueprint cinder-backup-to-ceph
    
    Change-Id: I299f033347cb263e7169c4a4efb758d19e753f46

commit ed504ac5ebe62be543f8688b709aff4300103bf2
Merge: 066a676 993afc4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 1 03:27:51 2013 +0000

    Merge "Add os-availability-zone extension"

commit d596bfe6562307343858f419062756640000b0c8
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jun 28 15:56:46 2013 -0600

    Handle ECONNREFUSED exception in SolidFire driver.
    
    The SolidFire driver wasn't handling connection exceptions
    during init (capacity updates from scheduler).
    
    This patch add a try/except wrap around the two places
    that this is called and logs and error rather than crashing
    cinder-volume service.
    
    Fixes bug: 1195910
    
    Change-Id: I30347cc0973bbf9dbc30ea02e204560095fc75b4

commit 993afc46c0fb674a89a620671a0d82f0c2daf0aa
Author: Brian Waldon <bcwaldon@gmail.com>
Date:   Wed Jun 26 09:43:48 2013 -0700

    Add os-availability-zone extension
    
    * Query /os-availability-zone to get an object representing the configured
      availability zones and their state
    * This implements a subset of Nova's os-availability-zone extension
    
    Fixes bug 1195461
    
    Change-Id: Ic0a8eb5a82ca0a4eed3b1e1cd6cf3a4665589307

commit 066a6760f9c7c64411b40918fe7f5c218b391218
Merge: 862a6e6 276ccf1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 28 14:00:10 2013 +0000

    Merge "Fix service alive information in os-services extension"

commit 862a6e664eeb845a0e75e53164c362463dae46d1
Merge: 423590d c127cda
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Jun 28 14:00:07 2013 +0000

    Merge "Imported Translations from Transifex"

commit 423590d7c6d45058a82f5dc7505bd298d3a43aa9
Merge: b792d19 c1da47d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 28 05:46:03 2013 +0000

    Merge "Run flake8 also on cinder/*/openstack"

commit b792d1914d904423e380046305b002820b6f72d3
Merge: 4c50624 0a155be
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 27 22:51:02 2013 +0000

    Merge "Add Brick iSCSI attach/detach."

commit c1da47d7ce3efea1b3055f1d4a6c2b84799e8ef0
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Fri Jun 14 23:37:11 2013 +0200

    Run flake8 also on cinder/*/openstack
    
    exclude=openstack also matches cinder/api/openstack,
    which is however not merged from oslo-incubator.
    Exclude=common instead, and explicitely include
    cinder/common
    
    Change-Id: I331d8c0d17e519386ae72caeca8a336eecde3ad3

commit c127cda7fc5351e4669e1f7d368fc33c7a6f5094
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Jun 27 18:10:56 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I1f87c3138e95a1da654a22425e07cd1b0ad1cdb7

commit 4c506246223b1ace10101a65521600233f45b430
Merge: 4ef5eab 039dce7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 27 17:56:45 2013 +0000

    Merge "Fix check_for_setup_error for sheepdog driver"

commit afa27908c5ef558ae8822c89a6f95d8150fc6b47
Author: Cory Stone <corystone@gmail.com>
Date:   Wed May 22 10:31:13 2013 -0500

    Quotas by Volume Type
    
    The VolumeTypeQuotaEngine creates a volume, snapshot, and gigabyte
    quota for each volume type that exists, in addition to the existing
    global quotas for each. These are queried every time a quota operation
    happens.
    
    The resources for creating quotas are named: volumes_<vtype>,
    gigabytes_<vtype>, and snapshots_<vtype>.
    
    Another patch will have changes to cinderclient for setting project
    quotas by volume type.
    
    blueprint quotas-limits-by-voltype
    DocImpact
    
    Change-Id: I88261676edcd6eb5b7cea40654a931f32c00815c

commit 0e5cb31afd4d05e2ab9f63cc27f0389ceafc67ae
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Jun 24 14:37:08 2013 +0100

    xenapi: implement xenserver image to volume
    
    Amend image_utils, so that it could handle xenserver type images (vhd
    chains inside a tgz archive). This requires the vhd-util binary, if the
    image contains a vhd chain (e.g.: snapshot)
    
    DocImpact
    - Copy a XenServer type OpenStack image (tgz -ed vhd chain) is now
      supported.
    - To use the above functionality, the cinder box must have access to the
      vhd-util binary. In ubuntu, this is done by apt-get installing
      blktap-utils.
    
    Change-Id: I99b58868439c4d5187c2fe3666110bfda0924181

commit 4ef5eabaeeb70d5090079819f4c2442742f43373
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Thu Jun 27 15:43:00 2013 +0800

    Save some more image attributes to volume_glance_metadata.
    
    Current issue: When copying an image to a volume, attributes like size, disk_format, container_format,
    checksum, min_disk and min_ram have not been copied so far. When booting a VM from a volume, we are
    not able to check these atrributes without giving the image id. Furthermore, if the original
    image is deleted, we will lose all the information.
    
    This patch saves these attributes into volume_glance_metadata. We can still check these attributes
    without giving the image id when booting a VM from a volume.
    
    Fixed Bug 1159824.
    
    Change-Id: I42ce676026d32be6e3f4bec6fd269908e2df0a8c

commit 35c8643d49d51561387fdd7fb56af03234d61d9b
Merge: 5b7ff48 756a8d7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 27 08:56:41 2013 +0000

    Merge "Added volume backup and restore to Ceph RBD driver"

commit 039dce71d43bd69181b2502cda17f941c95f9497
Author: Kai Zhang <kyle@zelin.io>
Date:   Thu Jun 27 00:31:36 2013 -0700

    Fix check_for_setup_error for sheepdog driver
    
    Current implementation of check_for_setup_error() of sheepdog driver
    cannot work correctly with the latest version of sheepdog cluster.
    This patch fixes it and adds tests for both old and new version.
    
    Fixes: bug #1195098
    Change-Id: Ia710789e4bedd7c83cd47eff6b2fc532af39d94a

commit 5b7ff48903058028d4c0b65d463c3283ac3fcfe3
Merge: 5e8ab1c cd0c32e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 27 05:47:54 2013 +0000

    Merge "Raise an error if iSCSI is not supported"

commit 0a155bea36aee44c5e7ecd026efe9537eee25eda
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Jun 11 15:27:56 2013 -0700

    Add Brick iSCSI attach/detach.
    
    This patch adds the new brick initiator connector object
    which contains the code to do volume attach and detach to a host
    machine.  It includes hooks to work in both cinder and nova.
    Nova has different exec wrapper and it also needs to talk to a
    hypervisor at certain points during detach.
    
    This patch also pulls the copy/pasted code from nova in the base
    ISCSIDriver's _attach_volume method to use this new brick library.
    
    This patch also includes a fix in the ISCSIDriver's
    copy_volume_to_image code that didn't actually detach a volume
    when it was done with the operation.
    Bug 1194962
    
    This patch also includes a fix for iSCSI detaches where the
    iSCSI LUN wasn't being removed from the system until the very
    last detach issues an iscsiadm logout.
    Bug 1112483
    
    This patch includes a fix for iSCSI multipath detaches where
    the multipath device and the iSCSI LUNs for the multipath device
    were never removed from the kernel.
    Bug 1112483
    
    Blueprint cinder-refactor-attach
    
    Change-Id: Ieb181f896adb9230bbb6a2e5c42f261d61a0f140

commit 756a8d75f1d8696f0796e4730877298be00d2b5f
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Wed Jun 26 10:25:11 2013 +0100

    Added volume backup and restore to Ceph RBD driver
    
    It is now possible to backup and restore volumes
    when using volume.drivers.rbd.RBDDriver
    
    Implements: blueprint cinder-backup-to-ceph
    
    Change-Id: Ic1b8db8f0acd7974423414171b8fb45197d05dc6

commit 276ccf1e81cf8f10f6ea27cb2af4d566a9479df0
Author: Qiu Yu <unicell@gmail.com>
Date:   Wed Jun 26 15:52:09 2013 +0800

    Fix service alive information in os-services extension
    
    Service alive information need to be compared with service_down_time
    value and updated accordingly.
    
    Change-Id: I9b9798c108a2da07ab78d5d05cbb51a73b14363e

commit 411a85d0958a574ff6e3b27569b7ce248675c731
Author: Zhiteng Huang <zhithuang@ebay.com>
Date:   Wed Jun 19 04:43:26 2013 +0800

    Calculate count for customized dd blocksize
    
    In previous commit we introduce a configurable blocksize option for
    'dd' command, however the 'count' value wasn't updated accordingly.
    As a result, count could be too small which is bug.  This patch
    introduce a private method to 1) validate custom dd blocksize; 2)
    calculate correct count value.
    
    Fix bug: 1192258
    
    Change-Id: Icfd2d80e8f615ed585bd1d40c741a97cf55299d3

commit 5e8ab1cd857eb5cedfd367251f3d6fa34fb6c861
Author: Marc Koderer <m.koderer@telekom.de>
Date:   Wed Jun 19 16:07:44 2013 +0200

    Content-length missing in put_object
    
    Radosgw returns a "411 Length Required" in case the content-length is not
    specified. The parameter content_type is not set which leads to the problem
    that content_length cannot be determined. Since the content length is already
    computed in backup/services/swift it shouldn't be a problem to set this
    parameter.
    
    Conflicts:
    	cinder/backup/services/swift.py
    
    Change-Id: I4c56823d70fcd1a801a75bfd14f474a2780dc1ac

commit 6f3b40c59dc46765677930016edf0ba1f7dbd1f9
Merge: cdb8d79 e85450f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 26 04:39:51 2013 +0000

    Merge "Update kombu requirement"

commit cdb8d79d3d37463f36364784f58195b852c840ac
Merge: e164a59 aac4b85
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 21:42:14 2013 +0000

    Merge "Register used CONF entries in cinder.api.common.py"

commit e164a59e5a9e13a2b14c9154477ce094f9a212fc
Merge: 9d88179 c8f8145
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 20:50:35 2013 +0000

    Merge "Replace glance_metadata check with bootable column."

commit 9d881790df49f8e602571a20b0b9a98fb2056ece
Merge: 2ac3aa7 0716d9d
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jun 25 19:45:33 2013 +0000

    Merge "Imported Translations from Transifex"

commit c8f814569d07544734f10f134e146ce981639e07
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jun 18 23:22:48 2013 -0600

    Replace glance_metadata check with bootable column.
    
    This patch adds a column to indicate if a volume is bootable or not.
    
    Cinder API V1 was using get.volume_glance_metadata to determine
    if a volume was bootable for translate_view.
    
    This is fine until you put a heavy load on the system and things
    can fall apart, particularly the backref of the glance meta is no longer
    available and the call blows up.  Also this results in a bit of extra
    unnecessary data being passed around with every create and get call.
    This is especially an issue when creating hundreds or thousands of volumes.
    Even better we can now reliably create thousands of volumes.
    
    Fixes bug: 1192390
    
    Change-Id: Idd47a0a8069ee905b81c7aae562b82767ad91930

commit 2ac3aa70224aa191910c3ccdccb4a06ed4695263
Merge: 894b50f bbc4b9a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 18:50:48 2013 +0000

    Merge "Added extra-spec key scoping to the 3PAR drivers"

commit 0716d9d229e58790755a02827aab92b4378e6537
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jun 25 18:10:58 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ib1f73f11952a60695f49cf8c6cd8fbca9946bd6f

commit 894b50f0694aa770b5bb5099ec67612b59248158
Merge: c0c1f17 33f6d78
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 17:58:48 2013 +0000

    Merge "Do not raise NEW exceptions"

commit c0c1f175f989a01b304f15aeda9e92951fca3e89
Merge: 6ef2f7e ce1fb98
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 17:23:10 2013 +0000

    Merge "        cinder.[brick,db,image] Replace 'locals()'"

commit 6ef2f7e0711ba57549a5cd9fb9a500260717e6cb
Merge: 5db7726 7c0e21a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 17:23:07 2013 +0000

    Merge "Avoid winning the useless use of cat award"

commit 5db7726c743fbcd79ecf9e1bf7c331687c62c5f5
Merge: a4817b3 ef05cac
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 16:29:01 2013 +0000

    Merge "Fix up trivial H103 license check mismatches"

commit 7c0e21ad3f9241f7c7550971d33bcf858b5f17dc
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sun Jun 23 14:06:55 2013 +0200

    Avoid winning the useless use of cat award
    
    We can use file operations directly, no need
    to run cat(1)
    
    Change-Id: Id8a9f615dfb11d1bd7acd4a7d6f40545c246e5cd

commit ef05cac2f2dd0133863fb0b9d681da96a700121b
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Jun 25 16:32:51 2013 +0200

    Fix up trivial H103 license check mismatches
    
    Adjust a few trivial typos in the license headers
    in the source files.
    
    Change-Id: I907df4ece8e589e930fd788e3f33201537938572

commit aac4b8569af05ecfe45d41d89b84b957e9e400ff
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jun 24 17:38:38 2013 -0600

    Register used CONF entries in cinder.api.common.py
    
    After change: I2114d5fc45f5299c3b2011270034a3370e0ec388 we
    were no longer registering defaults for cinder.api.common.py settings.
    
    The result is that you're unable to run individual unit tests like
    cinder.tests.api.test_volume_metadata.py.
    
    Register the needed CONF options and we're all set again.
    
    Fixes bug: 1194315
    
    Change-Id: I6df6c5ec5687c8156a9f3794cc7f04d8d28065d9

commit a4817b30a423a68a8ca5f7251fce57f791012066
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Jun 25 16:24:08 2013 +0200

    Fix and enable gating on H401
    
    H401  docstring should not start with a space
    
    Change-Id: Iaf63af75b0534cae1bac3c931ef5f51f1644aec9

commit 33f6d78c3a0f3e3c34e8b91a8dffb1391f7b46b6
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Mon Jun 24 15:19:50 2013 +0400

    Do not raise NEW exceptions
    
    Raising NEW exception is bad practice, because we lose TraceBack.
    So all places like:
    
    except SomeException as e:
        raise e
    
    should be replaced by
    
    except SomeException:
        raise
    
    If we are doing some other actions before reraising we should
    store information about exception then do all actions and then
    reraise it. This is caused by eventlet bug. It lost information
    about exception if it switch threads.
    
    fixes bug 1191730
    Change-Id: Ic2be96e9f03d2ca46d060caf6f6f7f713a1d6b82

commit ce1fb989f3c230e15251c3ea154b14a51934f715
Author: Scott DAngelo <scott.dangelo@hp.com>
Date:   Tue Jun 25 13:19:51 2013 +0000

            cinder.[brick,db,image] Replace 'locals()'
    
            Replace use of 'locals()' with explicit values.
            Help bring source code into compliance with the
            Cinder Style Commandments:
            https://github.com/openstack/cinder/blob/master/HACKING.rst
    
            This change covers all affected soruce in the
            cinder brick, db, and image modules, i.e.
            cinder/brick/*.py and subdirectories
            cinder/db/*.py and subdirectories
            cinder/image/*.py and subdirectories
    
            Partially fixes: bug #1190758
    
    Change-Id: Ibc111ab5ef53a2316e868c9cba8b94b323ba31c0

commit 0c1558151688b0559dc032144e0a0af8e837b152
Merge: 6f723a6 20b489a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 05:46:28 2013 +0000

    Merge "Add support for swift user/key authentication"

commit 6f723a6b26090f3a04bc45d57df5997e20849914
Merge: 1bf8bfa 729a08a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 24 22:26:11 2013 +0000

    Merge "Remove usage of locals() for formatting from cinder.tests.*"

commit e85450f6796e46b66baf7539a23268b213025283
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Wed Jun 19 17:16:32 2013 -0400

    Update kombu requirement
    
    The minimum version of kombu in the requirements
    list has been updated to ensure that compatible
    kombu and msgpack libraries are used across all
    projects. This update also requires a bump for
    anyjson.
    
    Addresses bug #1134575
    
    Change-Id: Ic33a5bbc8d1cdf1effd41c1c2aebc7ef6988c39e
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 1bf8bfad290eeca17c666ca19d5a032e6fefe298
Merge: 6e90e40 742bde9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 24 08:03:39 2013 +0000

    Merge "Add the project name into CinderKeystoneContext."

commit 729a08a019837bf4a5cbce5eee46a0a6e8e12acd
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Mon Jun 24 14:03:31 2013 +0800

    Remove usage of locals() for formatting from cinder.tests.*
    
    Using of locals() for formatting string is a nasty thing because:
    1) It is not so clear as using explicit dicts
    2) It could produce hidden errors during refactoring
    3) Changing name of variable causes change in message
    4) Creating a lot of unused variables
    
    Fix bug 1171936
    
    Change-Id: I67aa5bff650b55484ca76adf5be8555f72a4c426

commit 6e90e4089f58ac9b1e28e5199f0dea15f3ae4e6e
Merge: bc411e9 c6ffb35
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 23 11:00:35 2013 +0000

    Merge "Adds create_from_volume test cases"

commit bc411e92c7c02d14e30b13a8e9ec2d16ef0af9c4
Merge: e99b9e4 5a8ead7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 23 10:07:42 2013 +0000

    Merge "NetApp:iSCSI drivers reserved percent need to change to 0."

commit e99b9e4629d7882917a50a52819bff3c87d50f48
Merge: 66c158f 02075a5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 23 09:08:48 2013 +0000

    Merge "Use list comprehensions when possible"

commit c6ffb35fc435dc625d7afe931a32f859d82821ae
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Fri Jun 21 00:56:38 2013 +0800

    Adds create_from_volume test cases
    
      For tests.test_volumes,
      added 3 test cases:
         create_from_volume
         create_from_volume_with_glance_metadata
         create_from_volume_failed_on_cloning
      refactored an internal api:
         _create_volume_from_image
    
      The reason not to test a non-exist volume as source_vol is
      the uplayer(volume api) has already checked and ensured the
      source_vol exists
    
    Change-Id: I9c345bc29cae31f1a22236a4849f13d7289ea49e

commit 02075a5a19b4ef85a78b4b5a097cd32b50a307fb
Author: Seif Lotfy <s.lotfy@telekom.de>
Date:   Fri Jun 21 13:22:47 2013 +0000

    Use list comprehensions when possible
    
    Replace some for loops with list comprehensions for compacting
    
    Change-Id: Ia80a013735c595d7c4d40172b34beb18b4383ee0

commit 5a8ead7d154bbbb60b3272044a86fddea7afd929
Author: Navneet Singh <singn@netapp.com>
Date:   Fri Jun 21 18:46:36 2013 +0530

    NetApp:iSCSI drivers reserved percent need to change to 0.
    
    The iscsi drivers reserved percent is 100 as of now. This needs
    to be changed to 0 for default values. It needs to be corrected
    so that filter scheduler does not discard netapp backend.
    
    bug 1182015
    
    Change-Id: Id80584e5d478c83de97735706994206e024f8bf6

commit 20b489ad79c12738e0ac11e1617dc17cd4f2cbc1
Author: Marc Koderer <m.koderer@telekom.de>
Date:   Thu Jun 20 17:20:30 2013 +0200

    Add support for swift user/key authentication
    
    By default the swift backup service uses keystone authentication to
    communicate with the swift endpoint. This patch adds three optional
    parameters to allow username/key authentication
    
    Change-Id: I54ad7d91785ade5375f317aceb80b3374b59f5fe

commit 66c158fb086a546e1e3a339d416ade3ecf3ae669
Author: Seif Lotfy <s.lotfy@telekom.de>
Date:   Fri Jun 21 09:28:27 2013 +0000

    Refactor the backup method of SwiftBackupService
    
    Export functionalities of backup to 3 new methods:
    prepare_backup backup_chunk and finalize_backup. The original
    backup function calls those functions. This allows other
    drivers to combine them in a different logic.
    e.g for the RBDDriver
    
    Change-Id: I4f335bfcd03cd1da52a9e5c5c689d97581614af6

commit a23df3db134062ad521e82165f349b8c1bed7606
Merge: f86e326 d92f73e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 21 01:42:50 2013 +0000

    Merge "NetApp unified driver implementation."

commit f86e326a9e7f71d937877bed10ce7beb00ea4da4
Merge: b71d567 6005677
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 21 00:45:13 2013 +0000

    Merge "cinder.backup: Replace 'locals()' with explicit values"

commit b71d567b4c2fce82f1428b635c7a52d2a3682e36
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Jun 20 18:11:00 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I188f3cd9a415361fa07289977d35406e8f9786f3

commit d92f73e04da2723767e242d29a6ca7e89a7475a4
Author: Navneet Singh <singn@netapp.com>
Date:   Fri May 17 04:19:50 2013 -0700

    NetApp unified driver implementation.
    
    NetApp has growing number of multiple drivers depending on storage families
    and technologies. NetApp unified driver simplifies configuration
    and provides single entry point for all storage technologies/drivers.
    It provides new mechanism to support multiple NetApp technologies
    and block drivers related to them. Deprecated 7mode dfm and c mode
    webservice based drivers.
    
    blueprint netapp-unified-driver
    
    Change-Id: Ife3cb12ef2256e0124c9a02a968c20a580b5df93

commit d6df6ce39877aa2c200911e42b14e301efb4ffec
Merge: ce2827b 79a402d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 20 17:28:59 2013 +0000

    Merge "Add _create_volume to ThinLVMVolumeDriver"

commit 79a402d07502ac34bc0ec485b21b0be50ba807a7
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Jun 19 16:31:07 2013 -0400

    Add _create_volume to ThinLVMVolumeDriver
    
    Previously, _create_volume from LVMISCSIDriver would be called
    when the volume manager calls create_volume_from_snapshot.
    
    Fixes bug: 1192601
    
    Change-Id: I5cca287e8204c4647a5f09df961d9a76d0b38c42

commit ce2827b911ddbc050f953e4afa45ed72a915b1db
Merge: 134ef66 c7f56ec
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 20 09:56:59 2013 +0000

    Merge "Add build directory to flake8 ignore dirs."

commit 134ef66298bebb11295a22c5a95c2446b39e884b
Merge: 4e26547 823989a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 20 07:05:29 2013 +0000

    Merge "Add missing extend volume test (rpcapi)."

commit 4e26547c71ab4eb1bafadbc554e661fca1b05af6
Merge: f01184d 4838985
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 20 06:00:58 2013 +0000

    Merge "Modify check for volume-type-id to a get w/default"

commit f01184d6a48a263980b0265e1cd98bcfd46acf11
Merge: 229e74f ca04fc1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 20 05:53:45 2013 +0000

    Merge "Don't perform retry_execute in certain cases."

commit 742bde97a3db78cfe96975191b3341f4158c3e24
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Mon Jun 17 16:42:43 2013 +0800

    Add the project name into CinderKeystoneContext.
    
    Fixed Bug 1178576.
    
    Change-Id: I35cbd40c6f4aba45aeb8722ae5e10db8349d4510

commit c7f56eca7b41889b67ac462211d830db9dab2429
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jun 19 23:19:54 2013 -0600

    Add build directory to flake8 ignore dirs.
    
    No need to run flake8 on the build dir, so add it
    to ignore list.
    
    Change-Id: I0f6d3d3b889616f12ae2c52bbc65e528f3786996

commit 823989a381138e8acc63995402597b08114c935e
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Jun 20 07:48:51 2013 +0300

    Add missing extend volume test (rpcapi).
    
    Add test that was missing to test the volume rpcapi call for
    extend_volume.
    
    Change-Id: Idffc18cad60afe6e8864fd93d36f9ec23a402b73

commit 229e74f4647d3510a705e3b72c7809ecf680f26f
Author: Yejia Xu <yejia@unitedstack.com>
Date:   Wed Jun 19 22:41:07 2013 +0800

    fix error class path in logging sample
    
    class path for NullHandler should be
    cinder.openstack.common.log.NullHandler.
    
    Fixes bug: 1192765
    Change-Id: I552fe25cb89fa911dcbacb733013097b6e3c4ef3

commit 48389857d15c5cda860fa8f9914d62b148bfd17a
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jun 19 17:33:59 2013 -0600

    Modify check for volume-type-id to a get w/default
    
    While implementing Fix for a previous bug to enable setting
    volume type on a cloned volume and reading it's info we added
    a vref['volume_type_id'], problem is that the _do_clone method
    is shared for both clone and create from snapshot.
    
    In the create from snapshot case however that key doesn't exist
    in the vref (which is a snapshot object).
    
    This change turns this into a key.get with a default return.
    
    Fixes bug: 1192745
    
    Change-Id: I1a6d38de614f54fcaa31ea7cc4250aacc85b0796

commit ca04fc18293af34e0b92cad176804bb967bd19ae
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jun 18 14:45:50 2013 -0600

    Don't perform retry_execute in certain cases.
    
    Certain cases like "LVM not found" and "Insufficient space"
    in LVM create/delete shouldn't be retried.
    
    Change-Id: I1a0891f769d37dc858c70b07c838f9fc4111a76c

commit 1482c4045b94319aff0bd5999a52eb892152773b
Merge: 12ad2aa 646096a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 19 14:03:58 2013 +0000

    Merge "Use Python 3.x compatible except construct"

commit 12ad2aa961f80d6ec14eb9b040e819f49d2ba843
Merge: 86fcbed 2833754
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 19 07:54:24 2013 +0000

    Merge "Implement capability to extend existing volume."

commit 86fcbedd31be16705f4de73c8b81b12c4354ace1
Merge: 53773aa 4aaa3b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 19 04:19:12 2013 +0000

    Merge "Update attach status when instance id invalid."

commit 728f9838d2ca44b66fc240cac211fcae4b286416
Author: Zhi Yan Liu <zhiyanl@cn.ibm.com>
Date:   Mon Jun 17 05:17:45 2013 +0800

    Adding host attaching support to Cinder
    
    Changing 'os-attach' API interface to allow client mark a volume as be
    attached to a host.
    
    Implement bp: volume-host-attaching
    docimpact
    
    Change-Id: Iaf442ad0fb37ce369d838f3a512724f830071763
    Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>

commit 4aaa3b64a3ca3050ebed3d748d46facafc09413b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jun 18 16:49:13 2013 -0600

    Update attach status when instance id invalid.
    
    In cinder.manager do_attach we have a check to make sure the
    supplied instance id is a valid UUID which is great, but if it's
    not we just raise and dump out, leaving the volume in an attaching
    state.
    
    We should update the status to error_attaching in this case and then
    raise/return.
    
    Fixes bug: 1192370
    
    Change-Id: Ia759ea7a387544913953ca84e9ed927480c4edfd

commit 53773aab993fd419ce2ab2253d28b51fbace0592
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Jun 18 21:22:44 2013 +0200

    Fix and enable gating on H403
    
    Fix occurrences of
    H403 - multi line docstring end on new line
    
    Change-Id: I79a818095e9f64a18ded1686fb152b9d58f3c8b1

commit 646096aa111f2e1c3e180c785d15388aad4ae360
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Jun 18 21:09:19 2013 +0200

    Use Python 3.x compatible except construct
    
    Use except x as y:, which works with any
    Python version >= 2.6
    
    Change-Id: Ibf0f9aa8fb9725c1c9c00558ec217db96301678f

commit 6005677a9e54c11418401398f6074769a1310767
Author: Andrew Forrest <forrest@research.att.com>
Date:   Fri Jun 14 17:09:53 2013 -0700

    cinder.backup: Replace 'locals()' with explicit values
    
    Help bring source code into compliance with the Cinder Style Commandments:
    https://github.com/openstack/cinder/blob/master/HACKING.rst
    
    This change covers all affected source in the cinder backup module, i.e.
    cinder/backup/*.py and subdirectories.
    
    Partially fixes: bug #1190748
    
    Change-Id: I3e0f3806030f1813d055135f15e64b5a719970ed

commit 317220858ef219e84109692b6a94fedbd2758a0b
Merge: 24436b4 8cb79dd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 18 07:52:16 2013 +0000

    Merge "cinder.schedule: Replace 'locals()' with explicit values"

commit 24436b419273ecd730d540f736d3491cae388956
Merge: 3f0ed9b 5bce6ad
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 18 06:13:25 2013 +0000

    Merge "Use common.processutils.execute"

commit 3f0ed9bd236bfd14481c872b01267539759285de
Merge: 52d6ca5 c93d7fd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 17 23:17:09 2013 +0000

    Merge "Use Python 3.x compatible octal numbers"

commit 52d6ca5616de5054c757abe54b26e629eb99060e
Merge: 1476c86 77be276
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 17 21:21:40 2013 +0000

    Merge "cinder/.: replace 'locals()' with explicit values"

commit 1476c867b03d148abf2093d39c1158e52af3402f
Merge: f6902d3 51656c7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 17 18:00:30 2013 +0000

    Merge "Editable default quota support for cinder"

commit f6902d3488ed36105b66beb504ae4240cb169220
Merge: 86f8afb c066603
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon Jun 17 17:01:55 2013 +0000

    Merge "Imported Translations from Transifex"

commit 77be2761dc4407fd8aa292a2ee4bb9df6dccd31d
Author: Andrew Forrest <forrest@research.att.com>
Date:   Sat Jun 15 11:09:33 2013 -0700

    cinder/.: replace 'locals()' with explicit values
    
    Help bring source code into compliance with the Cinder Style Commandments:
    https://github.com/openstack/cinder/blob/master/HACKING.rst
    
    This change covers all affected source directly in the top-level directory
    of the cinder module, i.e. cinder/*.py
    
    Partially fixes: bug #1190748
    
    Change-Id: Ice5efc5eda7189969af6a9b722344fad7aa49ff0

commit 51656c7576874b9a6c85ffe6e711f17898e7190f
Author: liyingjun <liyingjun1988@gmail.com>
Date:   Thu May 23 16:24:26 2013 +0800

    Editable default quota support for cinder
    
    Implement blueprint edit-default-quota
    
    DocImpact
    
    Using the class quotas named `default` as the default editable quotas.
    
    We can use the following cinderclient command to update default quota:
    
    cinder quota-class-update default <key> <value>
    
    Change-Id: I9f97506b41157066026dd43163ec4b1827d5b9cf

commit 86f8afb3d073c45b70371a835b1c3ea86fe733c5
Merge: ec27d7d a80003c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 16 20:07:25 2013 +0000

    Merge "Remove usage of locals() for formatting from cinder.volume.*"

commit c0666037c7982d5dc1ab0d7959b38f769092a3b5
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Jun 16 18:10:55 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I33655108153839dc27a906ad757e5e447a84bcce

commit ec27d7dcca2336838f68f432f520c7be23e359a9
Merge: 6724982 c4927e1
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun Jun 16 17:13:17 2013 +0000

    Merge "Imported Translations from Transifex"

commit 5bce6ad46f57d22fcb22ba9e194fbd1e2d53f55d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jun 4 17:07:03 2013 -0600

    Use common.processutils.execute
    
    This patch replaces the cinder.utils.execute method
    with a wrapper around openstack.common.processutils.execute.
    
    With the wrapper I'm also converting the processutils exceptions
    to maintain compatability with the existing exceptions that are
    caught/raised in the code.
    
    Change-Id: Ibc36a1e83191e7c888ea62c55d28b7023535d9fa

commit 67249826cb84dd32b1e66ed2dfd3c1b3a47d5287
Merge: 86a7c7b 83b2a51
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 16 16:46:27 2013 +0000

    Merge "Start using Pyflakes"

commit a80003cd49282a41fa313a679e72d237ef51c76e
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Sun Jun 16 13:21:20 2013 +0800

    Remove usage of locals() for formatting from cinder.volume.*
    
    Using of locals() for formatting string is a nasty thing because:
    1) It is not so clear as using explicit dicts
    2) It could produce hidden errors during refactoring
    3) Changing name of variable causes change in message
    4) Creating a lot of unused variables
    
    Fix bug 1171936
    
    Change-Id: I806c530851527db9da251352be45b97c183241a8

commit 8cb79dd1278b604e2f0f26216b9add71ecdca904
Author: Andrew Forrest <forrest@research.att.com>
Date:   Sat Jun 15 11:45:15 2013 -0700

    cinder.schedule: Replace 'locals()' with explicit values
    
    Help bring source code into compliance with the Cinder Style Commandments:
    https://github.com/openstack/cinder/blob/master/HACKING.rst
    
    This change covers all affected source in the cinder scheduler module, i.e.
    cinder/scheduler/*.py and subdirectories.
    
    Partially fixes: bug #1190748
    
    Change-Id: I75ad858ee62317bef6c59b9c0896f8a94a989d52

commit 86a7c7b6b827ac5f0275460bc595b17b8f7e74cb
Merge: b1b06e3 f6064e7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 16 13:10:30 2013 +0000

    Merge "Remove the 'migrate' option from cinder-manage"

commit c4927e17da661e8d72847fbbc2176ea59a8adabd
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Jun 15 18:10:58 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I79a7551378872d60bea0b516dd6ed59bf6cdcc39

commit b1b06e33b037f23506d700f34ea599a3c3664680
Merge: 0e249f4 3deebee
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jun 15 06:36:18 2013 +0000

    Merge "Update and add notifiers in create volume"

commit 0e249f4b9a20e39e4758476994576a0ec3f65745
Merge: 87bec5d f3f528b
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Jun 15 01:44:40 2013 +0000

    Merge "Imported Translations from Transifex"

commit 87bec5dc702733e4edc0c9da872d4e2f892b7900
Merge: 257fb9f 64a9dd5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jun 15 00:40:55 2013 +0000

    Merge "Use Python 3.x compatible except: construct"

commit 257fb9f3759820cbac7d4cb08243b00fa2568b14
Merge: d797a55 08aab97
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jun 15 00:40:52 2013 +0000

    Merge "Remove usage of locals() for formatting from cinder.api.*"

commit d797a55446d625b9e6b5743c1b55e81ead8686c5
Merge: 930f589 d58b4fd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jun 15 00:40:45 2013 +0000

    Merge "Replace utils.to_bytes() with strutils.to_bytes()"

commit f6064e729d20464857c7136ed7b8ab8548c4f561
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Fri Jun 14 18:30:10 2013 -0500

    Remove the 'migrate' option from cinder-manage
    
    The 'migrate' option was only appropriate for use migrating
    databases for volumes from Nova-Folsom-->Cinder-Folsom.  The
    code hasn't been tested since.
    
    Given the above facts, this commit removes the migrate code from
    cinder-manage.  The man page for cinder-manage was already
    updated to remove the option in a previous commit.
    
    (fixes bug #1187134)
    
    Change-Id: I7bf378cd4b0dd4f6d1bdf475b826a59a31112638

commit c93d7fdd19cf3783360c6c973f52aa90e39cb462
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 8 10:59:13 2013 +0200

    Use Python 3.x compatible octal numbers
    
    Unfortunately, Python 3.x deprecated support for 0755
    octal numbers. Use 0o755 instead.
    
    Change-Id: I70403d382d6e6569445b6a99954ea24d436f29ad

commit 64a9dd5c509366aeb763b964094579c93ef0e091
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 8 10:49:57 2013 +0200

    Use Python 3.x compatible except: construct
    
    Per (proposed) H203 check, convert all uses of
    the deprecated except x,y: construct to except
    x as y:, which works with any Python version >= 2.6
    
    Change-Id: I5528dc556f3ef8d356e01d59df04ba57f66c95b7

commit 3deebeeb5045797c6ac97e9c34cbc42603296c37
Author: jenny-shieh <jenny.shieh@hp.com>
Date:   Thu Jun 13 15:04:59 2013 -0700

    Update and add notifiers in create volume
    
    1. Change status from 'creating' to 'available' when the volume is created
    2. Add a notifier when it fails to create the volume
    
    Implements: notifiers for create volume
    Fixes: bug #1190754
    Change-Id: I3a7d118630b32cfa7efb6bc8984418ca9836764a

commit f3f528b2d34086f24412692a2f1ed6432a5d48c7
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Jun 14 18:10:15 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ifdb8f90abd6ece7e3cc47e27c0c4e8fd29e89b4d

commit 930f5891b0815e1b49b9b2cc840e0c24b2796e84
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Thu May 16 08:10:27 2013 +0000

    Fix up the test framework
    
    When trying to test a bug the cinder test framework was
    running all the tests when I just wanted one to run.
    
    Instead of fixing this problem in nose I tried to move cinder to
    testr. I copied a fair bit of code from nova to get this to work.
    This way at least if some one makes an improvement to the nova
    test framework cinder can improve here also.
    
    Note that now all the tests a thread safe. Added a concurrency argument
    to run_tests.sh that defaults to 1. You can specify your own level then
    and take the risk of intermittent failures. Tell jenkins to use a
    concurrency level of 1 to avoid failing gate jobs.
    
    Note One of these tests is broken and I have disabled for now. There
    is a bug for this here: https://bugs.launchpad.net/cinder/+bug/1173266
    
    Note: cinder.api.openstack.FaultWrapper is deprecated and is causing
    a circular import when I try and import cinder.tests.test_wsgi. This
    is fixed by only importing the openstack.FaultWrapper during the
    __init__ phase of the wsgi middleware.
    
    Fixes: bug 1183434
    Fixes: bug 1177924
    
    Change-Id: I5e10b55c5b236eb81a6a3e0e9ea56af8ca4ef8e1

commit cd0c32e32fc3566a68d5b7b2afcaf120a58d5bf7
Author: Xavier Queralt <xqueralt@redhat.com>
Date:   Fri Jun 14 15:18:23 2013 +0200

    Raise an error if iSCSI is not supported
    
    Since the compute nodes may not have iSCSI support, volume drivers
    requiring it will raise an error if the connector's initiator attribute
    is not set when initializing the connection.
    
    bug #1007084
    
    Related to: I5da472e5013fdc0c733ecb12b919c1068873bdc6
    
    Change-Id: I95d859c11cf81bf57cecf7af8b224cdbb71592d5

commit 08aab97ced8763597329da56a64ef950f8567f4c
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Fri Jun 14 15:11:29 2013 +0800

    Remove usage of locals() for formatting from cinder.api.*
    
    Using of locals() for formatting string is a nasty thing because:
    1) It is not so clear as using explicit dicts
    2) It could produce hidden errors during refactoring
    3) Changing name of variable causes change in message
    4) Creating a lot of unused variables
    
    Fix bug 1171936
    
    Change-Id: Id6a900899db328be067b8139a49c12ce802dd415

commit 2833754310d19584c3fc95b01a3c1eeccf1a3620
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jun 10 14:26:57 2013 -0600

    Implement capability to extend existing volume.
    
    This patch adds the core components to implement extending
    the size of an existing available volume.
    
    Volume status must be available, and the format is:
        extend <vol-id> <new-size>
    
    where new-size must be > current size.
    
    Adding support to drivers will be handled in follow up
    patches for each of the existing drivers.
    
    Implements blueprint: volume-resize
    
    Change-Id: I40026083e564ea2074757e11e13cd07cdae3e6cc

commit 0a26b70c986135c24db643ca9ecaa23660dcb41a
Merge: 3a8a58d 997c619
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 14 05:28:17 2013 +0000

    Merge "Flatten Volume from Snapshot"

commit 3a8a58d2d1e4443f9b77e1b00bfb098d2a4d7b7c
Merge: 28c6255 935b6eb
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Jun 14 05:28:14 2013 +0000

    Merge "Imported Translations from Transifex"

commit 28c6255fc781ca7bfe57c42502a06570a7f0d725
Merge: 8f54ace 523b529
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 14 02:52:49 2013 +0000

    Merge "Replace FLAGS with cfg.CONF in volume"

commit d58b4fd21304ec2f4e8445ca20cbad1518cae044
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Jun 14 09:43:40 2013 +0800

    Replace utils.to_bytes() with strutils.to_bytes()
    
    The to_bytes() function have moved to oslo.
    Replaced/removed the to_bytes() function with the one in strutils.
    
    Change-Id: I53947b7a333057fec738a02f5643be59e563290d

commit 8f54ace5fb4b7b01f35b4a6430d3d798f1a22381
Merge: 7f9a6c5 5e1502a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 14 00:23:11 2013 +0000

    Merge "Fix various Sphinx warnings"

commit 997c619b7517c0aeab8fd01d8ec6daa23aa35747
Author: Mandell Degerness <mdegerne@gmail.com>
Date:   Mon Jun 10 22:02:28 2013 +0000

    Flatten Volume from Snapshot
    
    Implements: blueprint flatten-volume-from-snapshot
    
    Change-Id: I77b0a9bf8cfbe4881a75909d2749d0c3f17561c9

commit 7f9a6c59dab0e721834865ca82606ebc65a30c3c
Merge: 84e58c4 1fcbd01
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 13 19:06:16 2013 +0000

    Merge "Replace FLAGS with cfg.CONF in other modules, unless tests"

commit 935b6ebec7074c63c1fa8a7edc28954443c2c474
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu Jun 13 18:10:22 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I0a33030fb608d564eb0717f5107553254c888e78

commit 84e58c4088a0334e9587e53ba016c3a3b1687a44
Merge: 74f25c7 2ee2a19
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 13 17:21:56 2013 +0000

    Merge "Fix some unittest cases failed on osx"

commit 523b5298abd6ebedab536f67f610095aa5cd9bfc
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Thu Jun 13 13:06:25 2013 +0400

    Replace FLAGS with cfg.CONF in volume
    
    Replace all the FLAGS with cfg.CONF in cinder/volume
    Large commit was split into several parts
    
    Change-Id: I435fe91f414fda027531076bdbcb6660a3c635af
    Fixes: bug #1182037

commit 1fcbd01d640b6a0631db14635f971e078f45b0ce
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Thu Jun 13 11:25:37 2013 +0400

    Replace FLAGS with cfg.CONF in other modules, unless tests
    
    Replace all the FLAGS with cfg.CONF in cinder/
    Large commit was split into several parts
    
    Change-Id: Iacd645997a0c50aa47079c856e1b4e33e3001243
    Fixes: bug #1182037

commit 74f25c7d521464a351f9e65dec09fd2e90bc4792
Merge: 73b7b3e 9dc141a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 13 05:32:46 2013 +0000

    Merge "Fixes 3PAR drivers terminate_connection issue."

commit 73b7b3ef2eb0336d861d4dd0eac939e9539c94f2
Merge: efd8cfe 99f0886
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 13 03:18:56 2013 +0000

    Merge "Elevate volume/snap "is busy" log message for volume/snap_delete"

commit efd8cfeb295c15020605015efad1a182ee9a57c2
Merge: 4a474e8 03c228f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 23:33:13 2013 +0000

    Merge "Added policy check for backup operations"

commit 99f08868b8c5227622b3ac84c8863a25a161953d
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Jun 12 17:20:52 2013 -0400

    Elevate volume/snap "is busy" log message for volume/snap_delete
    
    If deletion fails because the volume is busy, log at "error" level
    rather than "debug" to ensure that the error is logged and visible
    to a user.
    
    Change-Id: I04031ee6b1f6647a126baa8a29c15a00b84b27b1

commit 4a474e8eff578859011c895a86565c3e50e7b894
Merge: 21a9d94 f4387a4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 21:10:30 2013 +0000

    Merge "Update to the latest stevedore"

commit 21a9d94a3eaac72797bb5f24273eb23f319f9509
Merge: 8d157d1 756db7d
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jun 12 21:09:42 2013 +0000

    Merge "Imported Translations from Transifex"

commit 8d157d18d1124b997d5bbb8992ee0cadb77fcabf
Merge: eb8d60d c9230f2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 21:09:35 2013 +0000

    Merge "Merge from oslo-incubator"

commit 756db7d246d0efe29bbd4f6a793615ab098200ed
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jun 12 18:10:17 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Idadd30ca29eaf2da44c670722060b28ad8028c4a

commit 9dc141a54f54414d3f3e7b52b9c7d5c0050efa81
Author: Viraj Hardikar <viraj.hardikar@hp.com>
Date:   Wed Jun 12 10:34:26 2013 -0700

    Fixes 3PAR drivers terminate_connection issue.
    
    3PAR drivers now default the third parameter when terminate_connection
    is called after copying a volume to image.
    Fixes: bug #1190056
    
    Change-Id: Icadacc9e083c6e97a919857d735ec16068d0f0c6

commit c9230f2de05eda7ee39256444dcc95db33fff45b
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Wed Jun 12 19:37:16 2013 +0200

    Merge from oslo-incubator
    
    Change-Id: Ie5d9d2c1938e58125b58e64a3363f1e1e8ce2ba2

commit eb8d60de0fbb0be7b15896c46a5396b761d1258d
Merge: ef7a945 57cdb8f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 17:30:13 2013 +0000

    Merge "Re-set default sql_connection and sqlite_db."

commit ef7a945375cc836d90c2b43e45bd07b9af2908ff
Merge: b18b6bc b8f4d7f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 16:07:58 2013 +0000

    Merge "Remove direct call to utils.execute."

commit 03c228f56aba7fc3cd7c71963570a7f5582c3cd9
Author: Jay Payne <letterj@gmail.com>
Date:   Sun Jun 9 10:20:12 2013 -0500

    Added policy check for backup operations
    
    This patch adds policy checks for operations in the backup extension
    consisting of create, delete, restore, get and get_all.  It also adds
    policies into the policy.json files in the tests and etc directories.
    
    Fixes Bug: 1188386
    
    Change-Id: I847640051c5d25cebf06b8658b27d4b82603d796

commit f4387a40ce5cc0099faf764762014f9ff254c8b4
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Wed Jun 12 11:13:38 2013 -0400

    Update to the latest stevedore
    
    Use a version of stevedore that does not try to
    install distribute.
    
    The requirements change is in
    https://review.openstack.org/#/c/32738/
    
    Change-Id: I74bc6013710965401b7e64abc8827a46c817fd56
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit b18b6bcc971a893e59eeb844ffc21ffb98770741
Merge: c8e2d81 54e0c0b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 15:12:19 2013 +0000

    Merge "Remove explicit distribute depend."

commit 5e1502ad89db8ad4cf121d4ca73d4d137aec72a7
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Wed Jun 12 15:21:40 2013 +0200

    Fix various Sphinx warnings
    
    Change-Id: I68c9ff6fdf9115d1abb0fb756eb806b92af29286

commit c8e2d81a24f9bf48f881e5462d1edc5a4337bf07
Merge: 0233fe3 05f409e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 12:35:41 2013 +0000

    Merge "Fix the after subscription size checks."

commit 0233fe32856a04c07780301dcf2d506532c39da2
Merge: 3910fe1 be623ff
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 07:54:28 2013 +0000

    Merge "Replace functions in utils with oslo.fileutils"

commit 2ee2a19eb542c08ccd99766e1a6ccee87f427592
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Tue Jun 11 16:36:42 2013 +0800

    Fix some unittest cases failed on osx
    
    dd shouldn't actually be called in the unit tests to begin with. Stub these
    improper calls out.
    
    Fixes bug: 1188972
    
    Change-Id: I2966382a66eebbf49ce74e091e444a91ab274869

commit 3910fe12a358909b16127ced1182de88ad145fb1
Merge: c4743c5 3c6a0b9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 06:22:55 2013 +0000

    Merge "Replace FLAGS with cfg.CONF in tests"

commit c4743c515d73cb3255af77d3dc370bb923ba46c7
Merge: e0e9fcb 75c55bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 06:22:50 2013 +0000

    Merge "Removing service_* options from authtoken"

commit e0e9fcb4728e9fbdcfc00a736895c66a18c872bb
Merge: ea91d69 c927949
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 06:22:46 2013 +0000

    Merge "Allow disabling ssl compression for glance client"

commit ea91d69bffe7ca2988d1eabf6dd710d275c0b683
Merge: eba143a 0ec5841
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 04:32:42 2013 +0000

    Merge "Add missing attributes to xml deserializer for volume request"

commit eba143a35fc61cd69819c300f3f0fda431a7c1d9
Merge: ef7635d 7d4c7d9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 12 04:32:40 2013 +0000

    Merge "Add missing exception from volume/api.py"

commit 05f409e747477a12bc701d304bc6dabe6939a3a4
Author: Joshua Harlow <harlowja@yahoo-inc.com>
Date:   Tue Jun 11 17:50:37 2013 -0700

    Fix the after subscription size checks.
    
    It seems like the calculation was incorrect previously.
    
    Fixes bug: #1190094
    
    Change-Id: Iaec3c2ece6fc80e6bb87fde0a408608825212b49

commit ef7635d7c3c0c4db131c903e02fe2b5875a66d71
Merge: 5222586 db40ad1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 22:46:43 2013 +0000

    Merge "Add policy checking for transfer create/accept."

commit 57cdb8f8c36a4835c918d9644bc26f41d0c0045a
Author: Adam Gandelman <adamg@canonical.com>
Date:   Tue Jun 11 14:50:01 2013 -0700

    Re-set default sql_connection and sqlite_db.
    
    The defaults seem to have been lost in the migration to Oslo's
    DB code.  Re-set them to pre-grizzly defaults.
    
    Fixes bug: #1190036
    
    Change-Id: I7fca70e67d67905b15c2faaa745a86e957bec06e

commit 522258638fdad64581fd3c72400f850d50ec59a7
Merge: 87cdec6 03b9cf6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 21:45:44 2013 +0000

    Merge "Fix LVM logging error."

commit 87cdec6887eda9acc0d0e6922cc58f2bb8dcb09a
Merge: 418711d 1f994f2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 19:36:10 2013 +0000

    Merge "Add availability zone checking in the api service"

commit 54e0c0b759148ea4a28fdf7dcf6c25871afcf865
Author: Monty Taylor <mordred@inaugust.com>
Date:   Tue Jun 11 11:34:41 2013 -0700

    Remove explicit distribute depend.
    
    Causes issues with the recent re-merge with setuptools. Advice from
    upstream is to stop doing explicit depends.
    
    Change-Id: Ib1a81596971a1db38f11bc5afbe98c9da68c938f

commit 7d4c7d986d6ba177ac0b347f10111bfbb57cb9ef
Author: Abhinav Srivastava <abhiabhi.sr@gmail.com>
Date:   Tue Jun 11 14:16:32 2013 -0400

    Add missing exception from volume/api.py
    
    Add InvalidSourceVolume exception that is used in the volume/api.py
    without being defined.
    
    Fix bug 1189987
    
    Change-Id: Ifcea41e882e259416c91c91d9b202b3a939eb12f

commit 418711d4c935123eae0faa5ef545e755b30e9bf8
Merge: f34aef3 193886a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 18:17:52 2013 +0000

    Merge "Integrate oslo's periodic tasks."

commit c927949616be6e961b2750a3dbe1935f875455fd
Author: Stuart McLaren <stuart.mclaren@hp.com>
Date:   Tue Jun 11 13:55:20 2013 +0000

    Allow disabling ssl compression for glance client
    
    Add a new parameter 'glance_api_ssl_compression' which allows
    disabling ssl layer compression negotiation for glance requests.
    
    This may improve data throughput, eg when high network bandwidth is
    available and you are using already compressed image formats such as
    qcow2 .
    
    Addresses bug 1189903.
    
    Change-Id: I180501cc25a1ea177d0d8c52a879682b8a3921c6

commit 1f994f2589411e80852650025a5a8e6cb0dc8c85
Author: Haomai Wang <haomai@unitedstack.com>
Date:   Mon Jun 10 23:20:26 2013 +0800

    Add availability zone checking in the api service
    
    This patch adds availability zone checking for api request period.
    If the availability zone the request specified isn't exist in the
    Cinder services, the response returned to the user will give an
    error immediately.
    
    Fixes bug: 1185714
    
    Change-Id: I842eec7b500c3ff6a7e5d8fc5e397d61617b0eea

commit 0ec58418103f5097ba3bb0ce0e45fe890be12c2e
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Fri Jun 7 11:52:11 2013 +0000

    Add missing attributes to xml deserializer for volume request
    
    The v1 and v2 xml deserializers for volume requests are missing
    support for the imageRef, snapshot_id and source_volid attributes
    resulting in xml format create volume requests which specify any
    of those attributes being silently ignored. This fix adds support
    to v1 and v2 and extends the volumes unit tests to check for this.
    Also includes some minor debug logging enhancements to make this
    easier to find in future.
    
    Fixes bug #1188581
    
    Change-Id: Ib661c4a961c57e682e0e4e6db98d863b3a99cf71

commit f34aef3a297955e1f6ebba570ba53acb14f3962e
Merge: 6e79a8a 67f39bf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 07:08:58 2013 +0000

    Merge "Replace FLAGS with cfg.CONF in api"

commit 193886a486bdd6b47b6adb2ae96de840dd42cfe8
Author: Svetlana Shturm <sshturm@mirantis.com>
Date:   Mon Jun 10 15:02:26 2013 +0100

    Integrate oslo's periodic tasks.
    
    Cinder use old style invocation of periodic tasks, which not based on oslo library.
    It will be better to use main idea of periodic tasks for all services.
    
    Blueprint: oslo-periodic-tasks
    
    Change-Id: I6ac1ca28abefcc9d0bbfd41873c8f57d40b4a97a

commit 03b9cf662a86c97f3673530a4c0ed371d061a188
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jun 11 09:10:37 2013 +0300

    Fix LVM logging error.
    
    Missed a %s, which caused an exception.
    
    Change-Id: Ib6fcabebdcf70430f3e46095da6c5e13b3e3a4ff
    Fixes: bug 1189455

commit 6e79a8aff204ef9a853fe8b40397f0096f492bfb
Merge: aa7fde5 824a3b4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 05:04:29 2013 +0000

    Merge "NFS drivers don't honor vm size with volume from an image"

commit b8f4d7f1e9793a4993b7504bd5e864b4ed9646db
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jun 10 15:05:33 2013 -0600

    Remove direct call to utils.execute.
    
    The executes calls in the base driver class
    are set up to use the exectue enginge passed in on
    init.  There are a couple of methods that call
    utils.execute directly, and as a result you end
    up not using the expected execute engine when
    you pass in something other than default for these
    two calls.
    
    We'd like to get away from the local execute altogether
    and use the OpenStack common version only, so fix these
    in driver.py and put the appropriate wrapper around them.
    
    Change-Id: Ibc17c9c2a0c8f27b4533ed86377a66ce668aeab5

commit db40ad11f1b8fa60ea9c0d69240487ec84df9341
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jun 5 13:57:29 2013 -0600

    Add policy checking for transfer create/accept.
    
    This patch adds policy checks for transfer create/accept
    as well as adding the associated default policy.  In addition
    we add the wrap in the volume/api accept_transfer method.
    
    Fixes bug: 1187910
    
    Change-Id: I599ac0a95cea1605380d4595a1f21023fbcfb6f1

commit 3c6a0b9f8a6b0c3ce262afb166c63e7b0b3a4947
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Mon Jun 10 12:28:44 2013 +0400

    Replace FLAGS with cfg.CONF in tests
    
    Replace all the FLAGS with cfg.CONF in cinder/tests
    Large commit was split into several parts
    
    Change-Id: I20a188c20f440e4ba3f5167bd65346ec9fb6e90b
    Fixes: bug #1182037

commit 67f39bf1f25a547016cee5bf81fb9e29de52b7a9
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Mon Jun 10 12:52:13 2013 +0400

    Replace FLAGS with cfg.CONF in api
    
    Replace all the FLAGS with cfg.CONF in cinder/api
    Large commit was split into several parts
    
    Change-Id: I2114d5fc45f5299c3b2011270034a3370e0ec388
    Fixes: bug #1182037

commit 83b2a51d878d2143257c519c43b36b2f9c5e2dab
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sun Jun 9 11:27:32 2013 +0200

    Start using Pyflakes
    
    Blacklist those pyflakes warnings that trigger
    frequently. Fix the remaining one and start
    gating on those that are enabled.
    
    Change-Id: I92f27f8cf36615dfd465cbd903a9605f9cb78443

commit aa7fde57a37ae8e03f137e7b525cc77109cc31c1
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Thu Jun 6 16:46:52 2013 +0800

    Add the iscsi device check and exception processing.
    
    Before downloading the image and executing the command "qemu-img convert",
    check if the iSCSI device is still available via the command "sudo dd
    if=<device> of=/dev/null count=1". This command will raise an exception with
    the message "Input/output error", if the back-end storage is disconnected to
    the cinder-volume node, so we use it to test the availability of the storage
    device. If it is unavailable, there is no need to download the image &
    "qemu-img convert" and an exception DeviceUnavailable will be raised.
    
    Fixed Bug1169290.
    
    Change-Id: I133b4cc1bac493df073d42e240092cf2e6300454

commit b820205c73c17df3e1bd91f400ba68779b3fd8bb
Merge: 9b7816e 31db400
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat Jun 8 16:07:11 2013 +0000

    Merge "Imported Translations from Transifex"

commit 9b7816e3581c31f201179c8fde5735fa94f4d3b2
Merge: 5d983fa 4ecfcc3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jun 8 15:45:12 2013 +0000

    Merge "Minor Logic bug in NFS Driver."

commit 5d983fa5fb8c760a136e2b28fdfb986b5f110e86
Merge: 4615161 2384c49
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jun 8 15:40:43 2013 +0000

    Merge "Fix 'undefined symbol conn' error"

commit 4ecfcc3b17494845e3845d89246112743483f8cf
Author: Morgan Fainberg <m@metacloud.com>
Date:   Fri Jun 7 17:18:59 2013 -0700

    Minor Logic bug in NFS Driver.
    
    When checking oversubscription rate, we need to ensure that we
    check the _allocated_ (apparant size) not the _available_ (actual
    usage) on the NFS share.  This fix ensures we are now checking the
    correct values.  This bug allowed (effectively) a one-time
    volume allocation that would push the "apparant" size over the
    oversubscription rate.
    
    Change-Id: I189b689cb76ac2a243aa6e255ce0c80d86e247ce
    Fixes: bug #1188877

commit 31db4006b85cbd458089d01c74e911de16b56748
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri Jun 7 18:10:20 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I888eb000062b469a4b55274dfec2cfd28e9c329c

commit 2384c4908c284aab4b4da53b4e12f1073052e8ab
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 1 14:48:03 2013 +0200

    Fix 'undefined symbol conn' error
    
    Use self.conn, not conn.
    
    Fixes LP Bug #1188619
    
    Change-Id: Idbd62016fda4cafb6df953ca57af94d56edd3918

commit 824a3b45218d2d548486eec6dac84bea148f4de5
Author: leseb <sebastien.han@enovance.com>
Date:   Thu May 23 19:09:06 2013 +0200

    NFS drivers don't honor vm size with volume from an image
    
    The bug has been encountered with the NFS generic driver
    (cinder.volume.nfs.NfsDriver) and the NetApp NFS driver
    (cinder.volume.drivers.netapp.nfs.NetAppDirectCmodeNfsDriver). I believe
    that drivers based on distributed filesystem such as GlusterFS, nexenta
    and scality are also impacted however I didn't test it those backends.
    However since most of them already inherit from the RemoteFsDriver
    class, this should be fine.
    
    Change-Id: I14575da69a2c99c7cbcece27b40a171153371ee3
    Fixes: bug #1183459

commit 4615161964dfc40950759b509dd11650313ff53b
Author: Yuriy Zveryanskyy <yzveryanskyy@mirantis.com>
Date:   Tue Jun 4 13:14:12 2013 +0300

    Add missing tests for backup_* methods
    
    There was no tests in test_db_api for backup_*
    methods.
    
    Add tests to ensure that all works.
    
    blueprint db-api-tests
    
    Change-Id: Ie83de7f9cb3d2c4de5442513a60bfedac312f62e

commit be623ffe3f98ffa0bf500b525ad8626bd25e43d9
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Fri Jun 7 15:23:54 2013 +0800

    Replace functions in utils with oslo.fileutils
    
    The following functions have moved to oslo.
    ensure_tree
    remove_path_on_error
    file_open
    delete_if_exists
    
    Replaced overlapping functions with the ones in fileutils
    
    Change-Id: Ib10a7ca2c72620f7f1df6c5bd4ef6c9cc4d8e913

commit 738dc74f9ab3096c422aaadf897681cbce95cc2e
Merge: 24a5346 8d7703c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 7 04:11:53 2013 +0000

    Merge "Unset all stubs before running other cleanups."

commit 24a534666bffb4db46e42e793ab8555c9a4959ee
Merge: b7ceb40 34e649e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 7 02:37:41 2013 +0000

    Merge "Add missing tests for iscsi_* methods"

commit b7ceb409ecac6741cd97e664167162087a415904
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Jun 1 11:27:04 2013 -0600

    Remove E12 errors from tox.ini Flake ignores.
    
    This removes the E12 from ignores and fixes up the
    existing pep8 errors that we were ignoring.
    
    Change-Id: I5d60f1eed768fcae01a708fcf9ea324844c6376d

commit dac54e709a89ee2e08b58311a0d00d09c0f22831
Merge: bcf7d0c 0b553dc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 6 07:28:05 2013 +0000

    Merge "Fix config registration in cinder volume drivers."

commit bcf7d0ca885eb1b941b80adeff4377206b7f9eff
Merge: c3c309e d03c94f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 22:47:36 2013 +0000

    Merge "Add call to vol driver when accepting a transfer"

commit 8d7703c86baac6636377bb94e352fca018b1ddd8
Author: Yuriy Taraday <yorik.sar@gmail.com>
Date:   Tue May 28 16:44:51 2013 +0400

    Unset all stubs before running other cleanups.
    
    Cleanup callbacks are run in reverse order so all stubs unsetting
    should be added at the end of the cleanup list.
    
    Fixes bug 1185004
    
    Change-Id: I5ad3ea2cdce663aaeae6b7cc2cb9c5dac9d12435

commit c3c309ea33a783d620ec5d0efa1fade957481c5c
Merge: d748844 e02cf9c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 08:12:09 2013 +0000

    Merge "Elevate acceptors context on accept reserve udpate"

commit d748844a7ae763e309ac7f461444141513778f15
Merge: 74fe246 4f242ad
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 07:24:32 2013 +0000

    Merge "Re-write of the cinder-manage man page."

commit 74fe24626a4f420434efefe48ce6ec6a060b8a93
Merge: 0169218 86e0125
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 07:24:29 2013 +0000

    Merge "Handle IPv6 specifid glance servers gracefully"

commit 0169218bf12b2f1eb4b7b5fdbe4109939b836e8f
Merge: 09d3a56 f7730d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 07:24:25 2013 +0000

    Merge "Log iSCSI target output on error."

commit 09d3a56ea342e54f693c2fadc671494e04c5ec03
Merge: 9f40996 a1c58e5
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed Jun 5 07:24:21 2013 +0000

    Merge "Imported Translations from Transifex"

commit 9f40996a7baef027aaaaf83f02e154cd38dee1d4
Merge: c2b8f20 4b05a10
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 04:23:51 2013 +0000

    Merge "Replace FLAGS with cfg.CONF in db"

commit 0b553dcaf8b158872c472fc0dbd9d46d2fc27d25
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu May 30 16:05:45 2013 -0600

    Fix config registration in cinder volume drivers.
    
    The config documentation relies on options being registered
    on a modules import.  Our need to move the drivers to using
    self.configuration for multi-backend support means that options
    wouldn't be loaded until object initialization which breaks
    documentation.
    
    This patch puts a dummy CONF init/load back in the drivers. While putting
    this change together I came across a number of drivers still using FLAGS,
    and even worse a number of drivers using a mixture of FLAGS and CONF and
    self.configuraiton.  So most of those are cleaned up here as well.
    
    Note there are two drivers that were not updated at all here:
      1. windows.py
      2. zadara.py
    
    The zadara folks have indicated that they're in the process of updating and
    releasing a new version of their driver so I left that as is.
    
    The windows driver needs a bit of work to switch over.
    
    Fixes bug: 1179159
    
    Change-Id: I90165299bf080da17741d027e36e361540da0ff8

commit c2b8f20329cf044261b27e08e3ea0701c816b2b6
Merge: d0c1110 02e1952
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 02:12:41 2013 +0000

    Merge "Fixes the 3PAR drivers CPG validation"

commit e02cf9c373daa7b03e141e016fb166841f6b02b7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jun 4 12:59:20 2013 -0600

    Elevate acceptors context on accept reserve udpate
    
    When accepting a transfer we need to update the
    quota data for both the donor and the acceptor's.
    The acceptor is easy enough (as that's the context
    we currently are using) however to update the donor's
    quota data we need an elevated context.
    
    Fixes bug: 1187538
    
    Change-Id: I1fb9e7726830dce2c3de23d3446de5bbe9a1fd24

commit 75c55bd1fb3ef9c834743a232155256bfd523a52
Author: galstrom21 <jshepher@rackspace.com>
Date:   Tue Jun 4 17:07:10 2013 -0500

    Removing service_* options from authtoken
    
    These options are not used in keystoneclient.middleware.auth_token
    
    Change-Id: I62bde18fc7f0b6c336fe941c91cf03f30a490445

commit d03c94f2b0e3a6d15e404d245fdfa895ca6430de
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jun 4 13:02:37 2013 -0600

    Add call to vol driver when accepting a transfer
    
    Some back-ends have the notion of tenancy on volumes
    and set ownership in the driver.  The update of the DB
    alone when doing volume transfers isn't enough, we need
    to be able to propogate the update info all the way
    down to the driver level.
    
    This patch introduces the volume api/manger/rpc calls
    and implements a stub in the base driver that can
    be over-ridden for those that need to take some action.
    
    Change-Id: Ica6ae368084c44b32af5d08df14bb3745f3a37ee

commit a1c58e54896db49e9b0206258cd53649604b6bea
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue Jun 4 18:11:20 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Id15f3465b126110983c73647530835585c31914c

commit d0c1110e5ce2a6ea1cb47ef6d08550cc01955536
Merge: 6c78cd3 a771e45
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 4 17:36:11 2013 +0000

    Merge "Replace FLAGS with cfg.CONF in scheduler"

commit 6c78cd34731d38533535621ef384d2b85bd34a54
Merge: 7d1534c 896b69e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 4 16:33:19 2013 +0000

    Merge "Don't set signing_dir by default."

commit 7d1534c8f393d1ff3544da37aa672f1d28c49802
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Wed May 15 10:05:49 2013 +0000

    Implement DB migration for volume transfer BP
    
    This patch implements the backend for volume transfers as specified in the
    Volume transfer blueprint.
    
    Change-Id: Id18e57942c3908e2539f3b0845263d0fbdd198f5
    implement bp: volume-transfer

commit 4b05a10331927498ac6e26f70f145d45b58cc0ae
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Mon Jun 3 13:12:32 2013 +0400

    Replace FLAGS with cfg.CONF in db
    
    Replace all the FLAGS with cfg.CONF in cinder/db
    Large commit "https://review.openstack.org/31172" was split into several parts
    Use the common pattern: CONF = cfg.CONF
    
    Change-Id: Ibac0a4b233ba82e13e3a9bfb6bd3fd418cdab29f
    Fixes: bug #1182037

commit 34e649e065099626d0b1b8ccc1f0e9da1b64fa1d
Author: Yuriy Zveryanskyy <yzveryanskyy@mirantis.com>
Date:   Tue Jun 4 15:56:54 2013 +0300

    Add missing tests for iscsi_* methods
    
    There was no tests in test_db_api for iscsi_*
    methods.
    
    Bug 1187367 found.
    
    blueprint db-api-tests
    
    Change-Id: Ia554e6030307a0c4f0510ab74fe0881ee160f743

commit f7730d31df65ec166b2bdb6667162dc22f7d4fd6
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jun 4 11:46:20 2013 +0300

    Log iSCSI target output on error.
    
    Add the command output on error to aid in debugging.
    
    Change-Id: Ib505eaeba7f1ca0e54e99dec8ebbbf71df3e5a51
    Fixes: bug 1186991

commit 4f242adb4ef484326dacc48e2013590db7e0f709
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon Jun 3 10:01:58 2013 -0500

    Re-write of the cinder-manage man page.
    
    The cinder-manage man page didn't appear to have been re-written
    since splitting from Nova.  There were numerous options that
    no longer exist documented and references to Nova instead of
    Cinder.
    
    This version has been re-written based on the current code in
    cinder-manage.
    
    (fixes bug 1174502)
    
    Change-Id: Ia03ca05bbd87444b2213bf719da0ffff96b67699

commit a771e45a76161e639d18030ad3cb41fe3f30ba64
Author: Sergey Vilgelm <svilgelm@mirantis.com>
Date:   Mon Jun 3 17:36:42 2013 +0400

    Replace FLAGS with cfg.CONF in scheduler
    
    Replace all the FLAGS with cfg.CONF in cinder/scheduler
    Large commit "https://review.openstack.org/31172" was split into several parts
    Use the common pattern: CONF = cfg.CONF
    
    Change-Id: If293d36a9e1552f7af497edf947e82458488bf9c
    Fixes: bug #1182037

commit a003e4a41fe4378d06481ccaadeb57d890600bd6
Merge: 2b00f53 c6cf016
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 2 17:10:34 2013 +0000

    Merge "Fixed method db.api.reservation_expire"

commit 2b00f53fec3e37bb2a2203e65e1654c1a31a8c34
Merge: a206e62 e2d0e1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 2 16:10:31 2013 +0000

    Merge "rbd: simplify configuration and use librbd and librados"

commit a206e62782923ba2faf1a2323331ab2784d5f994
Merge: b9e0777 b51270f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 2 16:00:33 2013 +0000

    Merge "python3: Introduce py33 to tox.ini"

commit b9e0777352b1efe9fc080d2665fedfe9de2a7c08
Merge: 072cd9c af055f6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 2 16:00:31 2013 +0000

    Merge "Fix AttributeError typo"

commit 072cd9c004f057c381bb22c85bba166b38dd9b33
Merge: 5efce1a 27e2613
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 2 16:00:28 2013 +0000

    Merge "Add error reporting to generate_sample.sh on import failure."

commit 5efce1a99ed083f4fc905d6eb383d04ccaa61783
Merge: 5ff9a8a 7ad2f80
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 2 10:43:58 2013 +0000

    Merge "Update 3PAR driver session management"

commit 5ff9a8ae436273b69f094a9bcbb380a28d6a8255
Merge: 50667f1 da00b6b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 2 08:56:28 2013 +0000

    Merge "HDS Cinder Driver. Rev #1"

commit b51270ffbddf0dc6a01ac234e575286d1a77e139
Author: Chuck Short <chuck.short@canonical.com>
Date:   Sat Jun 1 18:42:04 2013 -0500

    python3: Introduce py33 to tox.ini
    
    Introduce py33 to tox.ini to make testing
    easier with python3.
    
    Change-Id: I351fa475deffd75201e20e3629af6ed018b9ac7c
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit af055f6e325ccbf6d44ee39c97dc10a6704efda4
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 1 14:52:45 2013 +0200

    Fix AttributeError typo
    
    Fixes Bug LP #1186566
    
    Change-Id: I8211d365c4d3532cd6ffc3b3041661ff6b9e637f

commit 50667f178ee5ae5d1638b88a4af1902a57fc5152
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 1 16:20:45 2013 +0200

    Fix path for pylint Gate
    
    Change-Id: Ibd36a2a0a7ebe572a4dd660a3e35378ae02b8187

commit c6cf0167eda91df4312321a58fe4437863f35fe9
Author: Sergey Skripnick <sskripnick@mirantis.com>
Date:   Wed May 29 12:46:14 2013 +0300

    Fixed method db.api.reservation_expire
    
    There was missing relation in Reservation model.
    
    Change-Id: I6efe558278297aea6d2348b347152c244b3323d6
    Fixes: bug 1185325

commit 86e0125f29d863ec739db6c5eca702e03a250137
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Sat Jun 1 14:25:37 2013 +0200

    Handle IPv6 specifid glance servers gracefully
    
    IPv6 netlocs can for valid reasons contain ':', so
    splitting by ':' is dangerous. Instead of splitting
    by host and port in order to only reassemble it into
    a netloc again later, simply always pass netloc, which
    avoids the bug.
    
    Add extra textcases to verify the new behavior.
    Fix Flake8 warnings.
    
    Fixes LP Bug #1182830
    
    Change-Id: I130528ae946e8888d35c25e468b4ea6ac29db0cf

commit da00b6bcca92c5ca773ee5ef779cd59d641214c0
Author: Lakhinder Walia <lakhinder.walia@hds.com>
Date:   Tue May 7 16:05:46 2013 -0700

    HDS Cinder Driver. Rev #1
    
    blueprint hds-hus-iscsi-cinder-driver
    This is the first rev of Hitachi Data Systems Cinder iSCSI driver.
    This driver works with HUS (df850) array.
    This driver contains all the base-line features specified for Havana release.
    Amended into this submission are changes from code-reviews.
    
    Docimpact: Bug #1180648
    
    Change-Id: Ia27d076443b10da2c653456f9292dd192362b853

commit c62d980caa81b1302b8a392f5aa3342b56e88113
Merge: 310597c 4d0befc
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri May 31 22:16:42 2013 +0000

    Merge "Imported Translations from Transifex"

commit 310597cf660109a74ef90bc64405ee87e507624f
Merge: 17ed858 7055b78
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 21:22:29 2013 +0000

    Merge "Migrate to Oslo DB code"

commit 4d0befc8d0ba6b6202ec5c82440e95f4d325c9fa
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri May 31 18:11:06 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ic2b5d57ad16da67e9b152853338a2ef488eaeee7

commit 17ed85845592851d01677c5df972ad98fcac4482
Merge: 8ed6644 8829bb1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 13:48:27 2013 +0000

    Merge "Prevent force delete if the volume is attached"

commit 8ed6644cb88ec8b7b155b70ad9195b45ac908d9d
Merge: 984e889 6251df9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 13:45:54 2013 +0000

    Merge "Updating HACKING to disallow the use of locals()"

commit 984e889431055b565a977b718d87598b0dfb00ff
Merge: 04e175a 15a907c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 11:01:45 2013 +0000

    Merge "Rename requires files to standard names."

commit 27e261376fc03655a5f90603078a3a8623ddf32f
Author: Anton Frolov <anfrolov@mirantis.com>
Date:   Fri May 31 14:27:49 2013 +0400

    Add error reporting to generate_sample.sh on import failure.
    
    Currently tools/conf/generate_sample.sh collect options from project
    modules by importing each module and looking at it's global variables
    for instances of classes derived from cfg.Opt (or lists of such
    instances). Sometimes this import can fail due to various reasons,
    cfg.DuplicateOptError for example. And if import fails no options
    from imported module written to sample config file. Error reporting
    will at least warn user that some of options didn't get into sample
    config.
    
    Change-Id: I831464b1c1575c106d866a936a50ec74b2d44e59
    Fixes: bug #1182611

commit 04e175aba47b8ad5cfa429099b2ca2496838cda0
Merge: f30afa6 f7d4210
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 08:32:42 2013 +0000

    Merge "Fix incorrect authorization rule in quota contrib api."

commit 6251df9068fc60b73085b8910d7faae4502152c2
Author: Mike Perez <thingee@gmail.com>
Date:   Fri May 31 01:11:13 2013 -0700

    Updating HACKING to disallow the use of locals()
    
    Change-Id: I7bf2720bdb0456274dc81a73d91296dff0e3fced

commit 8829bb1a1d726bd6b1b6b623c0ac498d1ec05d41
Author: Mike Perez <thingee@gmail.com>
Date:   Fri May 31 00:11:24 2013 -0700

    Prevent force delete if the volume is attached
    
    Force deletes were eventually failing on the volume manager layer due to
    being in an attached state. This will check that up front to inform the
    user that they need to detach first.
    
    Fixes: bug #1164929
    Change-Id: I24ade24fd750dc647331ef25b835f45f29c10fd7

commit f30afa6e70612b004a3da82d08a7e5fd0fb1a17d
Merge: b113336 d0c089f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 05:02:02 2013 +0000

    Merge "InvalidUUID can not be raised"

commit d0c089fbe8532a939663379646ca95c88ad9bbbc
Author: Sergey Skripnick <sskripnick@mirantis.com>
Date:   Wed May 29 13:44:38 2013 +0300

    InvalidUUID can not be raised
    
    There is incomplete format in exception's message.
    
    Fixes: bug 1184870
    
    Change-Id: I27f231c8c5cb41b1ec5fdb34fba6a8dff6a556c7

commit b113336e12ced25adb15b20d544d57b83f2febf5
Merge: d1e7c9a e6f7751
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 04:59:47 2013 +0000

    Merge "Add testrepository to git ignores."

commit f7d4210d7c6c4c2f6f78f24d1681a110f49550d4
Author: Nikolay Sobolevskiy <nsobolevsky@mirantis.com>
Date:   Thu May 30 23:21:09 2013 +0400

    Fix incorrect authorization rule in quota contrib api.
    
    Incorrect policy and authorization extension name in
     contrib quota api. Legacy from nova.
    
    Change-Id: Ida8262ad63d6f881dd50a385a9913c2ed57b441c
    Fixes: bug #1185974

commit 15a907c491e9d344fd1f70becc883342f3102798
Author: Zhenguo Niu <Niu.ZGlinux@gmail.com>
Date:   Wed May 29 16:50:03 2013 +0800

    Rename requires files to standard names.
    
    Rename tools/pip-requires to requirements.txt and tools/test-requires
    to test-requirements.txt. These are standard files, and tools in the
    general world are growing intelligence about them.
    
    Change-Id: Ifb2735151dc8c7f89ec01d237226669f7051ffa8
    Fixes: bug #1179008

commit d1e7c9a2206ca37a40ed5c1e070c7c73a4478da0
Merge: b616694 20a728a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 20:26:58 2013 +0000

    Merge "Fix typos"

commit e2d0e1f479a56d60dc09ae913ab6625660ed0961
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue May 21 17:49:02 2013 -0700

    rbd: simplify configuration and use librbd and librados
    
    Add an rbd_ceph_conf options to mirror glance configuration, and use
    the existing rbd_user option to choose how to connect to the cluster
    instead of relying on an environment variable.  Use these settings
    when running command line programs and when connecting via librados.
    
    Use absolute imports so that importing the python librbd bindings
    via 'import rbd' does not try to import cinder.drivers.rbd again.
    
    Create some convenience wrappers to simplify librbd and librados
    error handling and cleanup. Using these everywhere also simplifies
    testing. Mock out all the librados and librbd calls in the tests
    so these libraries don't need to be installed.
    
    Remove the local_path() method since it's never used. It was
    left over from nova-volume.
    
    There are only three things still relying on the command line:
    - importing an image
    - exporting to an image
    - getting monitor addresses
    
    Importing and exporting on the command line include zero-detection
    that would be little benefit to replicate here. librados and librbd
    don't have a simple interface to obtain the monitor addresses, so
    leave that to a command line tool as well.
    
    Fixes: bug 1083540
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>
    
    Change-Id: I32d059c5e460c2dd8423119b3dbe4a9921f5e907

commit 7ad2f80d05fdf6d0b225292030c27e85e66bd254
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu May 30 12:05:26 2013 -0700

    Update 3PAR driver session management
    
    The 3PAR REST API server has a limited number of active sessions.
    This change to the driver removes the ability of keeping the
    REST API session alive for the life of the driver.  Now on every
    driver entry point, which is synchronized, we login to the 3PAR
    and when the work is complete, we log out of the 3PAR.  This has
    the side affect of more overhead to the 3PAR but helps eliminate
    failed commands due to maximum sessions reached to the 3PAR.
    
    This patch also changes the locking to be the same lock for all
    driver entry points and adds locking around the volume stats.
    This patch also migrates all of the client code access to the common
    class, which simplifies the drivers.
    
    Change-Id: Ibcec4cf1781262521ccbdf99c4ba4167634a09c4

commit 20a728a99a1497e95917329b8b7f544593a8ab82
Author: Eric Harney <eharney@redhat.com>
Date:   Tue May 28 10:41:26 2013 -0400

    Fix typos
    
    Fix servcie -> service typo in test code
    
    Fix typo: "metedata" -> "metadata" typo in
    Glance metadata database migration code error message.
    
    Change-Id: I21f4539b7dedeaed6b2e6c3b34803d1b996ce79c

commit e6f7751afacc17ff8d23ecb0088558c6ec84a57b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu May 30 11:13:49 2013 -0600

    Add testrepository to git ignores.
    
    Now that we're updating our test runner we need
    to add the git ignore rule for testrepository.
    
    Change-Id: I0cf33598ef947750953624eccb5d34d78df462ed

commit b61669475e8538bc5b55f7de15a1945f3f0732ff
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu May 30 11:05:28 2013 -0600

    Fix incorrect copyright
    
    Copy paste when drivers were moved out of san.py carried
    over the copyright that was included in that file.
    
    Remove that and update.
    
    Change-Id: I38315009a41b9a868c674f63ebf449a78642b2a4

commit c45d5ddaae34b79d6c0055b942b8c079f89412c9
Merge: 34d12e6 b7044c8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 16:59:35 2013 +0000

    Merge "Add missing tests for cinder.db.api.quota_"

commit 34d12e65e69d4daa6aa7d8377bb1d89f8c180e8e
Merge: 76062be 1338f52
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Thu May 30 16:59:31 2013 +0000

    Merge "Imported Translations from Transifex"

commit 76062be494db5a2a20bfe7860226d92431acf40c
Merge: fe44036 4271464
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 16:53:21 2013 +0000

    Merge "Fix incorrect status for volume clone from image"

commit fe440369d893787a14cce8201ffb76ed52f96d40
Merge: 3ecb24a 0f7865b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 16:52:38 2013 +0000

    Merge "Fix 'Inheritance-based rule deprecated' log warning"

commit 3ecb24aa9cdc436860f3d0574ddf1076a2b7f249
Merge: 9a87bb6 de84fd7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 15:57:21 2013 +0000

    Merge "Return 404 from delete of extra spec if not found"

commit b7044c891b3c47c8405698b20964853bb1722cdd
Author: Sergey Skripnick <sskripnick@mirantis.com>
Date:   Wed May 29 18:02:56 2013 +0300

    Add missing tests for cinder.db.api.quota_
    
    blueprint db-api-tests
    
    Change-Id: Ib47c1620ce124919d9f3365a0abaa53b4b3e5cd4

commit 9a87bb638140c01e0adc8dfd5642e58387ca9f9a
Merge: 301d72c 36b7039
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 15:11:42 2013 +0000

    Merge "Add missing tests for cinder.db.api"

commit de84fd7b1539893bf48ed8b36db1bfdeaf05d7a9
Author: Cian O'Driscoll <cian@hp.com>
Date:   Thu May 30 13:00:54 2013 +0000

    Return 404 from delete of extra spec if not found
    
    API service now returns a 404 if the volume type that the
    user is trying to delete doesn't exist.
    
    Fixed Bug 1090306.
    
    Change-Id: I3c1d4fdac1c2492f532ab4dbfd5c7aaf0ffa6fa4

commit 427146437570e96d0e64b691150c8d1a3b1ebd87
Author: Edward Hope-Morley <edward.hope-morley@canonical.com>
Date:   Wed May 29 23:35:32 2013 +0100

    Fix incorrect status for volume clone from image
    
    If, when using a Ceph as a backend for Cinder and Glance, you
    create a volume from a Glance image, the request is actioned
    in one of two ways; (1) if Glance does not supply sufficient
    information to Cinder, a full copy is made of the Glance
    image or (2) Ceph uses it's copy-on-write capability to do a
    clone. If a full copy is done, the volume is marked as
    Bootable=True but if a clone is done it is not.
    
    This does not appear to break nova boot from volume at present
    but the status displayed by the cinder client is incorrect.
    
    Change-Id: I2959fc3dfaf0e073781583019797bcd44f7789d6
    Fixes: bug 1185533

commit 301d72cfaee0175be3d841e1afc95b4aa9dcd8ef
Merge: 12c8dbe 9246407
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 11:58:53 2013 +0000

    Merge "Support for NFS shares with spaces in path."

commit 12c8dbef9cbfe002e92799862f6c77031b54a0ff
Merge: 544f1b7 9b6dc3d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 30 11:52:30 2013 +0000

    Merge "Fixes 3PAR Host already exists error."

commit 544f1b7ca91798d3c1fdb8770768981513b06c59
Merge: 35fc0f2 483b84e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 29 18:17:08 2013 +0000

    Merge "rbd: send ceph monitor addresses with connection info"

commit 35fc0f24048cf186981d9e3a81aeb5c03f552a04
Merge: 0d74075 94220b1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 29 18:16:03 2013 +0000

    Merge "Ensure that pbr>=0.5.10 is installed"

commit 1338f52435b0decd61d2eaf9ace3634d790275a2
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Wed May 29 18:11:27 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ia0a6aa414a71f25baa1555dc004340e7b29c0f20

commit 0d740758988af0db2c164f2b7b434a9a09da68d8
Merge: 33657e5 1365ada
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 29 17:53:45 2013 +0000

    Merge "test_glance.py: Stub out _get_member_model as well."

commit 924640705c05ba69e2ad2095920fc1d209d32b20
Author: Anton Frolov <anfrolov@mirantis.com>
Date:   Tue May 28 19:34:41 2013 +0400

    Support for NFS shares with spaces in path.
    
    Unescape share address string listed in nfs_shares_config so that
    'x.y.z.w:/foo\040bar' would become 'x.y.z.w:/foo bar' to support
    mounting shares with spaces in name.
    Use stat command to get available and total space on device instead
    of df since it's output is easier to parse.
    
    Fixes: bug #1180984
    Change-Id: I552aba91ca8db14130f854c739594a818186bbe2

commit 9b6dc3dc58e0095dcf59bfc129cc7e75f066b20f
Author: Jim Branen <james.branen@hp.com>
Date:   Fri May 24 09:30:10 2013 -0700

    Fixes 3PAR Host already exists error.
    
    Fixed “Host already exists” error by,
    * Screen scraping error message and extracting the host name
    used by the 3PAR backend.
    * Cache the host name used by the 3PAR backend for subsequent
    methods using host name.
    * After a restart, and 3PAR host name it no longer available,
    retrieve 3PAR host name using wwn/iqn, if a terminate_connection
    fails.
    
    Fixes bug 1182134
    
    Change-Id: Ia08a311af168ae19dbe7c1405db9c606fd878e53

commit 94220b145c6340fbfece511d8c45defef5a6c436
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Mon May 20 15:02:11 2013 -0500

    Ensure that pbr>=0.5.10 is installed
    
    A bug in PBR levels less than 0.5.10 causes the
    /usr/lib/python2.X/site-packages/cinder/db/sqlalchemy/migrate_repo/migrate.cfg
    file to not be properly installed.  This causes 'cinder-manage db sync'
    to fail due to the missing file.
    
    This change sets the required PBR level to >=0.5.10,<0.6 to avoid the problem.
    In the case that user already has a 0.5.X level of PBR installed that is less
    than 0.5.10 it should be updated rather than encountering issues as our
    test system did.
    
    Change-Id: I532158277a4acbb2f8cb75d03c91097e6d7e0312
    fixes: bug 1182203

commit 33657e576b455b984db2b2461ae6e1959b249060
Merge: b2371ae fa6404e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 29 14:44:36 2013 +0000

    Merge "Remove execute permissions from test files."

commit 36b7039843cb08e511281308f0a55ae966319862
Author: Sergey Skripnick <sskripnick@mirantis.com>
Date:   Mon May 27 17:17:01 2013 +0300

    Add missing tests for cinder.db.api
    
    Methods covered:
    
     reservation_*
     service_*
     volume_*
    
    blueprint db-api-tests
    
    Change-Id: Ieb396b3de40eaa2fca9d285f75c0a3d631745e74

commit fa6404eb026b45c8194b586498a7df38143a4eca
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Fri May 24 11:19:51 2013 +0300

    Remove execute permissions from test files.
    
    Remove execute permissions from test_volumes.py and
    test_storwize_svc.py, which caused the tests defined in them
    to be skipped.
    
    Fixing the permissions caused test_create_volume_with_volume_type to
    execute, which fails. The cause of the failure is that
    (1) LoggingVolumeDriver doesn't implement get_volume_stats(), and
    (2) The fake RPC doesn't pass the statistics to the scheduler for
    some reason.
    
    Because this test doesn't test the scheduler, just change to use the
    simple scheduler and work around the issue.
    
    Change-Id: Ie01331d484c5c48c78b626eff1ad793dbbe7182c
    Fixes: bug 1183416

commit 7055b7826527c1af9792a748ace55686c34a3915
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Thu May 23 17:55:10 2013 +0300

    Migrate to Oslo DB code
    
     - engine and session handling code is reused
     - integrity errors caused by duplicating entries
       are handled properly
     - the base class for models is mostly reused
       (the only exception is SoftDeleteMixin, which
        requires changes to existing DB schema; this
        will be implemented in BP db-unique-keys)
     - use common exceptions handling code
    
    Blueprint: db-session-cleanup
    
    Change-Id: I7f5eb53daddc57066af9c73caa633b37a2afd9c2

commit b2371aeff9eccbd28952dd0f568da26722dc58f7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon May 27 20:04:56 2013 +0000

    Catch and report errors from copy image to volume.
    
    The copy image-to-volume errors weren't being handled
    properly and the result was the lvcreate being retried
    even though the lvcreate itself succeeded.
    
    The result of this was misleading errors stating that
    the volume couldn't be created because it already existed
    (which it did, becuase the create itself was succesful).
    
    Fixes bug: 1183283
    
    Change-Id: I23f05fe64475c3efe285e05a258c4625b801375c

commit 77a77456af6944a3bf6eb4e3b75b7094d8b54391
Merge: b782597 37fa1ef
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 29 02:46:47 2013 +0000

    Merge "Update cloned volumes QoS settings."

commit 1365ada3bcd8b9f7f4c1c7f7c9f158fc9ae867b3
Author: Adam Gandelman <adamg@canonical.com>
Date:   Tue May 28 14:34:30 2013 -0700

    test_glance.py: Stub out _get_member_model as well.
    
    glanceclient's v2 client needs to also have its _get_member_model()
    stubbed out as well, to avoid attempts to reach 'fake_host' during
    client instantiation.
    
    Update: Only stub when _get_member_model() when required.
    
    Change-Id: I943cbb017ccdbe4f6c994bc83cbefe8693f4672b
    Fixes: bug #1185178.

commit 483b84e42b90f2ffe0a09f5e38b85eb64cf8f7d9
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Fri May 24 18:18:30 2013 -0700

    rbd: send ceph monitor addresses with connection info
    
    Previously we relied on a ceph configuration file on the compute host
    for this information. Sending the info directly from cinder makes more
    complex setups with multiple ceph clusters talking to the same compute
    hosts possible.
    
    Refresh the monitor addresses for each initialize_connection() call,
    since monitors may be added or removed while cinder-volume is
    running.
    
    Fixes: bug 1077817
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>
    
    Change-Id: I34a1fa16ce1f4524ba25832faf3129303e755100

commit 896b69e33dd7e67e03767548a14b770266f5dec5
Author: Dan Prince <dprince@redhat.com>
Date:   Tue May 28 12:20:01 2013 -0400

    Don't set signing_dir by default.
    
    Allow the auth_token middleware to setup its own signing_dir
    if required.
    
    Fixes LP Bug #1185098.
    
    Change-Id: Id8766efb34d37ca382b865167ec2465d0a1ce8dc

commit b782597725fcccd0a6a949057941380538898555
Author: Xing Yang <xing.yang@emc.com>
Date:   Tue May 28 00:28:37 2013 -0400

    Remove cinder_emc_config.xml.sample
    
    Remove this sample config file from emc folder based on discussions
    at the IRC meeting. Parameters specified in this sample file are
    already documented in Cinder Admin Guide.
    
    Change-Id: I4f742eedde962aefc6d5ab14d08a955859ae0e4f

commit 37fa1ef51ef389ed7ac0affb1dd59ba680ca52df
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat May 25 17:52:30 2013 -0600

    Update cloned volumes QoS settings.
    
    The SolidFire device inherits all settings (including QoS) from
    the parent on a clone.  This meant that although we were expecting
    QoS to be updated when a clone was issued with a different Volume
    Type than the parent volume it was never acted upon.
    
    This change fixes that bug by simply adding the *new* qos settings
    to the ModifyVolume call after cloning.
    
    Fixes bug: 1184235
    
    Change-Id: I81786a07312027d543b9f06e54dfbf57e6085bc9

commit 0f7865bfb0cf8d328df395e583d3889e5dcf39d1
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Mon May 27 19:48:12 2013 +0530

    Fix 'Inheritance-based rule deprecated' log warning
    
    A warning message appears in Cinder logs which state that
    inheritance-based rules are deprecated and use default
    Brain instead of HttpBrain. It looks like HttpBrain class
    doesnt have any difference from Brain class, so changing
    all the instances of HttpBrain to Brain shouldn't affect
    anything and removes this warning from logs.
    
    Digging further, I found out that the policy engine has
    gone through a major rework in Oslo and Nova, and I think
    at some point of time in future, we will also be moving
    to use the latest policy engine code. In that way of
    thinking, I guess this fix is acceptable for now.
    Reference: https://review.openstack.org/#/c/14122
    
    Changed the brain from HttpBrain -> Brain, which makes the
    warnings in the log disapper. A more comprehensive work will be
    to pull the latest policy change code from Oslo.
    
    Bug #1156608
    
    Change-Id: I9f63ec4c41025042725db9b2e7c8ffa3d91e0596

commit 05ce36aa24bce801546de53ac74942a788b3baef
Merge: 525fad6 c3eb788
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 27 02:24:18 2013 +0000

    Merge "Improve "service is down or disabled" warning message"

commit 525fad649a2bed158fb460c690ed4d82284d5355
Author: Mukul Patel <mukul18@gmail.com>
Date:   Sun May 26 23:42:06 2013 +0530

    Added '%' before snapshot variable
    
    In function create_snapshot for cinder volume, '%' was missed
    before variable snapshot from message defination. It was causing
    an error during translation of debug message. Included '%'
    for getting proper debug log.
    
    Fixes: bug #1183736
    Change-Id: I894639a4e5a69be80f4f53ec9d4f9f8648870173

commit 434ed6a971620fc824cbc2a98f30349b03f92817
Merge: e3136a3 6c80ab5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun May 26 13:29:07 2013 +0000

    Merge "Don't throw ValueError for invalid volume id"

commit e3136a37a6fc5a40c4139cc4dacd12cc6df6df07
Merge: 58f3df0 463aa30
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat May 25 16:07:42 2013 +0000

    Merge "Implement scheduler hints for API v2"

commit 58f3df0072e240d502b5241601ec62c6115e00ac
Merge: e3e536d 5bf7b9b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat May 25 04:35:08 2013 +0000

    Merge "Make NFS share selection more intelligent."

commit e3e536dbbd497b6463d2904d845b140a73138f01
Merge: 10a7d95 9cdccf3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat May 25 04:31:11 2013 +0000

    Merge "Add "_" builtin method for config generation"

commit 10a7d956eab86c344acf8fd1dc2597ed7ff5f0d0
Merge: 1af469e 79e95e0
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat May 25 04:20:20 2013 +0000

    Merge "Imported Translations from Transifex"

commit 1af469e6bcf8044798e1da9f24bddfa21a1c0210
Merge: 2be0b9c f4b7b7e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 24 23:20:44 2013 +0000

    Merge "ModifyVolume attributes on Clone."

commit 2be0b9c39c20bd3d0144abf84232f1b2043ca6e1
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri May 24 13:46:28 2013 -0600

    Hack run_tests.sh to work with single tests again.
    
    Even though we're moving to testr and this will eventually
    go away, we should maintain our ability to run and debug
    individual tests until the broader change is released.
    
    This just adds some text around the nosetests call
    to get us back where we were.
    
    Fixes bug: 1181996
    
    Change-Id: Id0082ca8954664679430cc602425b1fadd29151b

commit 79e95e046cd87fb5cb9c7dbbed78f5ca402e98b8
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri May 24 18:11:04 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I468b17530bc8db03df53e8d098dfb5ea0765894e

commit 6c80ab5bdbf221b62faf0084c18d54daf3f2afa1
Author: Eric Harney <eharney@redhat.com>
Date:   Fri May 24 11:44:13 2013 -0400

    Don't throw ValueError for invalid volume id
    
    If a user runs something like "cinder-manage volume delete a1234",
    a ValueError is thrown because it fails to cast to int.
    Catch this and treat the parameter as an id which will result in a
    later VolumeNotFound error rather than breaking this way.
    
    Change-Id: I95a9b9d7628cebe4b6d855ea925b0ad3a5f1c4c4

commit f4b7b7e5905dc6f3e38857cba2ff5ead3c96b057
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu May 23 22:57:57 2013 -0600

    ModifyVolume attributes on Clone.
    
    Clones copy over the attributes from the source volume,
    we want to keep some admin data like source-volid and if
    it's a clone or not.  To do that we just need to call modifyvolume
    after the clone operation and update this info.
    
    Change-Id: I903fe6f8a57880abad8d315d091c1e57624a519c

commit c3eb788637f21bc8887daa0bbe6784a232bf39d3
Author: Eric Harney <eharney@redhat.com>
Date:   Wed May 22 10:14:38 2013 -0400

    Improve "service is down or disabled" warning message
    
    Include "volume" and host in this message to make it more useful.
    
    Change-Id: I2cacc7373de3a1b51762df2844a46b393d96c6cc

commit 9cdccf36c6d8a07cfdc3ee0e974736951317005b
Author: Ann Kamyshnikova <akamyshnikova@mirantis.com>
Date:   Thu May 23 13:33:30 2013 +0400

    Add "_" builtin method for config generation
    
    extract_opts.py fails to generate config without this
    
    bug 1183731
    
    Change-Id: Icf3b45d5d7262607336f5d5e7a0a14b0dee9741d

commit 1df6516dce723a50ce7138bf29c0791f75fee275
Merge: 6ae5206 b5173e2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 24 08:14:55 2013 +0000

    Merge "Add common Oslo DB code to the source tree"

commit 6ae520677da80103bae79e3db3569360df1220cd
Author: Monty Taylor <mordred@inaugust.com>
Date:   Fri May 24 01:36:21 2013 +0200

    Replace custom skip_ methods.
    
    testtools has these built in - so we should use them.
    
    Change-Id: I2a9f6dbd69d5acef9a0dfbe5e90e9dbf706d8677

commit 11b184f01d24c2e4297786fdc3159a138f5e0f12
Author: Monty Taylor <mordred@inaugust.com>
Date:   Fri May 24 01:07:38 2013 +0200

    Migrate base test class to testtools.
    
    This is step one in moving towards testr.
    
    Change-Id: Ieac7fbe34ddc9ca05812faca76b68ff7d37ca708

commit af023fe0cce3b8ef2b90ec37f1bc49feb17eac83
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Thu May 23 15:26:44 2013 -0400

    Fix ownership transfer when cloning with SolidFire
    
    When cloning a volume with SolidFire driver, the owner of
    the cloned volume is not set correctly in SolidFire when there is
    a transfer of ownership.
    
    This results in inconsistent states where the cloned volume
    is owned by the new tenant in Cinder but SolidFire thinks it is still
    owned by the original volume's tenant.
    
    This patch adds the newAccountID parameter to all CloneVolume calls.
    
    If the cloned volume is owned by the same tenant, newAccountID will
    be set to the same value as the original SolidFire volume. There
    will be no change of ownership done by the cloning process in SolidFire.
    
    If the cloned volume should be owned by a different tenant, newAccountID
    will be set to the appropriate SolidFire account corresponding
    to the new tenant. If the SolidFire account does not exist already,
    it will be created.
    
    Fixes: bug #1183521
    Change-Id: I622ca2962478298e3e0c5a26866e39919805075f

commit 5bf7b9be798296b08de42f4cb6295071dc299ef8
Author: Morgan Fainberg <m@metacloud.com>
Date:   Tue May 14 13:04:20 2013 -0700

    Make NFS share selection more intelligent.
    
    Make the NFS share selection more intelligent by using a used_ratio
    and oversub_ratio to determine the valid target.  The used_ratio
    is a hard-cap of maximum "actual" used space, oversub_ratio allows
    for oversubscription of the share based upon the apparant-allocated
    space for sparse files.
    
    Removed Options: nfs_disk_util
    
    New options added:
    * nfs_used_ratio:
        Float representation of the maximum allowed usage (e.g. 0.95
        calculated by available_space / total_space) before the share
        is no longer concidered a valid target.  Default: 0.95
    
    * nfs_oversub_ratio:
        Float representation of the oversubscriotion ratio allowed when
        utilizing sparse files (determined via "du").  This gets
        multiplied against the total_capacity before comparing the
        apparant space used by the backing volume files.  Default
        ratio is 1.0 (meaning reserved/allocated space cannot exceed
        total space available on the mount).
    
    DocImpact: New Configuration Options / Removal of Config Option
    
    bp nfs-share-selection-logic-improvement
    
    Change-Id: I3572e106eb4c794b08bf6f499e2da2d494c4072d

commit b5173e267c8c79341d8ed3b25772c29cb187235a
Author: Roman Podolyaka <rpodolyaka@mirantis.com>
Date:   Thu May 23 17:53:52 2013 +0300

    Add common Oslo DB code to the source tree
    
    Blueprint: db-session-cleanup
    
    Change-Id: I1e2e6d66474f0f8a655a055d5b2150699d66f1dd

commit 561520447de9b89db7f052e31fc9d5f7d416b5dc
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Thu May 23 19:54:36 2013 +0800

    Add the service_state into test_schedule_happy_day.
    
    Since the fake filter scheduler does not update the capabilities, the sevice
    states remains empty. To avoid the None value for free_capacity_gb, we set the
    host_manager to a fake host manager with a list of service states.
    
    Fixed Bug 1171906.
    
    Change-Id: I359ea6952392cc5e6b8eff513f3ca4d8161a30e3

commit 463aa30b3d713921fc178f4e125742a7aad8bd01
Author: Nikolaj Starodubtsev <nstarodubtsev@mirantis.com>
Date:   Thu Apr 18 16:42:35 2013 +0400

    Implement scheduler hints for API v2
    
    We've done this implementation because we need to use scheduler hint in
    cinder with some specific filters. So, most part of code have been
    imported from nova.
    
    bp scheduler-hints
    docimpact
    
    Change-Id: I4c8a78ade4ff668d79e7aa6d0d358029754e3d90

commit b6b43b717040f40d3eb35fa46ff14f56142bf1f8
Merge: 451c401 e5c7e3c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 23 01:03:15 2013 +0000

    Merge "Added a test for bad limit param"

commit 451c401112c59ea5f9d05d3a781177b57df52c64
Merge: 647aab4 960e7d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 23 01:03:12 2013 +0000

    Merge "Added test for nonnumerical limit param"

commit 647aab40a4b0c1d1b44f9f4f1edd56f17797f35b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed May 22 12:52:30 2013 -0600

    Update log.py and jsonutils.py from oslo-incubator
    
    The update of log was mostly to get coloring to work again
    in devstack, and jsonutils was picked up as well.
    
    The update to jsonutils also requires the six dependency
    which is added to pip-requires.
    
    Change-Id: I95d23aafe19b12d4a427149aa5f7a66394d178c6

commit e5c7e3c01d15f09b3892d353e336cf524539daea
Author: Derek Chiang <derek.chiang@nebula.com>
Date:   Wed May 22 05:07:20 2013 +0000

    Added a test for bad limit param
    
    Change-Id: Ic9a93779d5623644ccf210de622d59f999571dd2

commit 960e7d37b15b9093378318197866525cbc810622
Author: Derek Chiang <derek.chiang@nebula.com>
Date:   Wed May 22 00:16:39 2013 +0000

    Added test for nonnumerical limit param
    
    Change-Id: Ie9ef0b2ddcf9945f4065e76fddba763470ffdb81

commit b3db10f0ee487394b548979dadacad9e8d4335c9
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Wed May 22 12:25:40 2013 -0400

    Raise VolumeNotFound with correct volume_id
    
    Make sure VolumeNotFound is raised with the correct volume_id
    in the SolidFire driver. Some exceptions were wrongfully referring
    to an undefined variable named uuid.
    
    Fixes: bug #1182966
    Change-Id: Ied101fc9778f51dfb74b39f466c2c13d6e775a40

commit 96f91b8a23a209887eaef9b97c63c33dea5f99b2
Merge: e784682 553e0d9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 22 06:51:41 2013 +0000

    Merge "Support mount options for NFS/GlusterFS volumes"

commit e7846829f82e1b72a460555fb5414192b80d4acd
Author: annegentle <anne@openstack.org>
Date:   Tue May 21 20:04:45 2013 -0500

    Removes a broken link from the sidebar of Sphinx built pages.
    
    Change-Id: I1c24f015bd8b67b1dc85eda67a0669ac79ca282b

commit 3e914889c7a3ed5dfcebdceb2f784fb651714cc9
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Tue May 21 18:11:02 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I85bdbb3aef9f4f16f28ab31753cd7935a471f3a7

commit 553e0d92c40c73aa1680743c4287f31770131c97
Author: Eric Harney <eharney@redhat.com>
Date:   Fri May 10 13:42:58 2013 -0400

    Support mount options for NFS/GlusterFS volumes
    
    This patch adds support for mount options for NFS/GlusterFS volumes.
    
    To set options, append them to the line for the volume in the
    nfs_shares_config or glusterfs_shares_config file:
     192.168.175.166:/testvol -o backupvolfile-server=192.168.175.177
     host1:/testvol2 -o backupvolfile-server=host2,rw,other_option
    
    These options are used when mounting from the cinder-volume
    service and the nova-compute service.  (There is an associated
    nova-compute patch to enable the same.)
    
    This is a useful change for GlusterFS because the
    backupvolfile-server option enables a mount to succeed even if
    the first server specified is offline.
    
    Change-Id: I13bb0a930d6a05e803ccb50e6dc5d4b2b412ac11

commit bc807a2d2e07786859fcac63dd971958bd54b0f8
Merge: 36ea843 c2ee6e2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 21 04:42:03 2013 +0000

    Merge "Hide v1/v2 version entities in API when disabled"

commit 36ea843d578fb4ce0750948af57bcaef1552703a
Merge: 9c1e7ba bff14b9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 21 04:31:12 2013 +0000

    Merge "Adds notifiers to both volumeTypes and volumeTypeExtraSpecs"

commit c2ee6e2187e258da07e229e690afe20f0039e019
Author: Brian Waldon <bcwaldon@gmail.com>
Date:   Fri May 17 22:42:45 2013 +0000

    Hide v1/v2 version entities in API when disabled
    
    Fixes bug 1181413
    
    Change-Id: Ia8aaa78a0e0d222c268e9ca780816eb1c26feb3f

commit 9c1e7bacd5a468278e7e2082c47118a30258162f
Merge: 3b5fc96 b0325eb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 20 19:53:22 2013 +0000

    Merge "Convert to oslo strutils.bool_from_string."

commit 3b5fc961d6e4069a9d158ea1ce8839f54f79b6b1
Merge: b8d053e 1f0b83e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 20 18:55:48 2013 +0000

    Merge "Allow flake8 to run in venv"

commit b8d053ed284fc4a937702ab57c732fddc40b5742
Merge: 5d54b7a a1d5902
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 20 17:16:10 2013 +0000

    Merge "Update import of strutils from oslo."

commit 1f0b83e2ddabd813f8eddaf2e00bf47c152b42b8
Author: Eric Harney <eharney@redhat.com>
Date:   Sat May 18 12:37:38 2013 -0400

    Allow flake8 to run in venv
    
    flake8 should be able to run within the venv.
    
    Change-Id: Ife269e54947f0283adceca15af60f38688e1ee64

commit 5d54b7ad39f87066dbba586563f5858fc0d1d425
Merge: 563ec59 49247a6
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Mon May 20 15:33:21 2013 +0000

    Merge "Imported Translations from Transifex"

commit 563ec59ec329d686fa63aeef23cf7841e173fd6b
Merge: 0d97245 77fb5d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 20 06:30:25 2013 +0000

    Merge "Add thin provisioning support checks."

commit 49247a62f99f79cb9eba55522f1c7a084e3e3c40
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sun May 19 18:10:58 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ice855f70d3c22db39357dfe8101b5d68741ed6ce

commit 0d9724548195b0c3ff1e126f21834a85d3f592f0
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Sat May 18 18:11:00 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: Ic15dca6e7a5a291c4babea403e1a45b2299ce263

commit 65ab5416e3ce8e88040943340c4a29aebe23ef88
Merge: 0b09f78 615b450
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat May 18 18:04:16 2013 +0000

    Merge "RemoteFsDriver: copy_image_to_volume and copy_volume_to_image"

commit b0325eb77258b63c20e0407e3e4df2d5236209b4
Author: Michael Still <mikal@stillhq.com>
Date:   Sat May 18 21:08:30 2013 +1000

    Convert to oslo strutils.bool_from_string.
    
    The only functional difference here is that the value '2' is now
    treated as False instead of True. I suspect that's ok.
    
    Change-Id: I30e75470cb3c312d7f92d389995eb6d845dd2fb0

commit a1d590211760f5bf19e04d8c253c1f7cecbf46b1
Author: Michael Still <mikal@stillhq.com>
Date:   Sat May 18 20:55:32 2013 +1000

    Update import of strutils from oslo.
    
    Change-Id: Iee18c2226cf1f5c3ea0653c9e13d94b02650bc0d

commit 0b09f781c60179319e08d2ecd4e986d6a6e8f3a6
Merge: ef7f193 6425260
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 17 23:03:44 2013 +0000

    Merge "Update/Publish volume service updates on delete."

commit 77fb5d3b40f4b7ac87865247415611119ef2a57f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue May 14 17:35:44 2013 -0600

    Add thin provisioning support checks.
    
    Add a simple check to verify thin provisioning is supported
    in the systems current LVM2 version.
    
    Also add a helper to create thin pools.
    
    Change-Id: I1ae3c168b148029a3085be827209f59bc68ca145

commit 642526013c855e88873ecb96e8680698e095d83a
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri May 17 14:03:38 2013 -0600

    Update/Publish volume service updates on delete.
    
    The Filter scheduler weighing function was failing because
    we were only updating the capacity info either on the periodic
    60 second interval or after succesful creates.
    
    The result was that if you exceeded your capacity within the
    update interval you would no longer be able to create volumes even
    if you deleted existing volumes until the update was performed and
    published.
    
    Since we're updating on on create, there's no reason why we shouldn't
    do the same on delete for the applicable volume-service.
    
    The periodic updates are still important for other purposes so they're left
    alone, but with this change we keep things up to date so the filter scheduler
    has the correct picture of the world.
    
    Fixes bug: 1180976
    
    Change-Id: Ic551f512c5a0cf51bafa8b60f0b6b7debbe22692

commit 615b4508a5608301c4f6962f0d11bdca31a70c11
Author: Eric Harney <eharney@redhat.com>
Date:   Fri May 17 14:48:24 2013 -0400

    RemoteFsDriver: copy_image_to_volume and copy_volume_to_image
    
    This functionality was recently added to the NFS driver --
    it should instead be added to the RemoteFsDriver class to cover
    both NFS and GlusterFS drivers.
    
    Change-Id: I10136f8d1628128a93c4adfe2cb9447b99720558

commit ef7f193c0cdd8e611c642d094f46bcfe15de0601
Author: OpenStack Jenkins <jenkins@openstack.org>
Date:   Fri May 17 18:15:13 2013 +0000

    Imported Translations from Transifex
    
    Change-Id: I914bbfd068b5a0fcfa29e6ff7ecd217e5ec49616

commit 1d6de0f42cb36861338209a4c9ead1dc677d4f2f
Merge: b677cb5 306de99
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 16 02:38:45 2013 +0000

    Merge "solidfire: Make sure src_uuid is passed correctly"

commit b677cb5c8847ad003f3354cceefcc397062b16cc
Merge: 1e7869b c355d68
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 16 01:59:25 2013 +0000

    Merge "Deprecating old dot path locations for Folsom configs"

commit 1e7869b2b3c4e1b87d5eff7c557d8e747be31171
Merge: 399118a 20c2be3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 16 01:57:50 2013 +0000

    Merge "Fixes an get_volume_stats reporting issue"

commit 306de99f4506029990ed891c8ac0b2b73832c805
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Wed May 15 20:54:27 2013 -0400

    solidfire: Make sure src_uuid is passed correctly
    
    src_uuid wasn't passed correctly as an attribute because
    the variable was wrongly quoted and couldn't be interpolated.
    
    Fixes: bug #1180611
    Change-Id: If22dda162a28138cf447ce12bbe061f623e6d076

commit 399118ae32ee595645591a4112b7ef22f370e9dd
Merge: 4125f4b 5aa8831
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 16 00:48:18 2013 +0000

    Merge "Add .coveragerc to show proper coverage statistics. As in other openstack projects."

commit 4125f4b5b139e12aa92b128494aeb5b001675a6b
Merge: 0d0d307 837df12
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 16 00:35:35 2013 +0000

    Merge "NetApp server tunneling fix."

commit 0d0d307c7bdb5619ca39e38b42f4f3176ebee62d
Merge: ed94477 4d522b9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 15 23:59:13 2013 +0000

    Merge "Implement cloned volume for the RBD driver"

commit ed94477aaa7bf63f127805dfcdd4aa00105d56b5
Merge: 180a320 197fbf1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 15 23:34:54 2013 +0000

    Merge "Hide lock_prefix argument using synchronized_with_prefix()"

commit 4d522b9dc2cf0c727ff65e533241a8302b68ddf8
Author: leseb <sebastien.han@enovance.com>
Date:   Wed May 15 13:45:45 2013 +0200

    Implement cloned volume for the RBD driver
    
    This adds the support for cloned volume to the RBD driver. This is perform by the
    create option --source-volid. Since the clone is pure copy of a volume,
    we don't use the clone capability from RBD and simply copy the source
    image.
    
    Change-Id: I3b73bc77b74767ffe3583422f56b3603594589ce
    Implements: blueprint implement-cloned-volume-for-rbd

commit 5aa8831f77f29f9416ab82f82b32b82e1234e759
Author: Vasyl Khomenko <vasiliyk@yahoo-inc.com>
Date:   Wed May 15 03:19:03 2013 -0700

    Add .coveragerc to show proper coverage statistics. As in other openstack projects.
    
    Change-Id: Ic59f5b17d803b5d8102d53a1ca4883c529bc7a3e

commit 837df1272d43bb1a38e12d1c32183071b8294d83
Author: Navneet Singh <singn@netapp.com>
Date:   Mon May 6 05:33:21 2013 -0700

    NetApp server tunneling fix.
    
    NetApp vserver/vfiler api tunneling in concurrent requests
    can cause routing request to incorrect servers in race conditions.
    This fixes the api and driver for the mentioned situations.
    
    bug 1176759
    
    Change-Id: Id283822e4d1553daed4e6d690ec36f2edfbcf2b4

commit 180a3209e71c24c0d340edd611fafb9132cf9868
Merge: 9481fc0 e136c96
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 15 00:48:02 2013 +0000

    Merge "Fix up hacking ignores a bit."

commit 9481fc016f880b70b4c7d2e32108a942b8fd7f77
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue May 7 05:47:32 2013 -0600

    Move iscsi helpers to brick directory.
    
    This patch moves the iscsi helpers to the brick
    directory.  We're doing this to enable the ability
    to have a module/library of core block storage
    functionality to use in other OpenStack projects.
    
    After this the next step is to separate out the LVM
    and iSCSI code in drivers/lvm.py and then to actually
    have the Cinder LVM driver use the new brick LVM module.
    
    Change-Id: I4f8f8b54e801ab63994b5953956c041d8db91fad

commit e136c969883e66917d95732e8765e50024848157
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue May 14 11:14:33 2013 -0600

    Fix up hacking ignores a bit.
    
    Add more explicit ignores to tox.ini hacking ignores until
    we have a chance to fix up the imports and docstring errors
    we've been ignoring.  This should give us everything we had
    in the past (ie alphabetical import checks).
    
    Also, update run_tests.sh to call flake8 and not the hacking.py
    that is no longer there.
    
    Change-Id: I6c82e958002255fd9f527b06bf0a68d148cc681e

commit c0725074e51bdfc48e7ebba64222298b8129f0d9
Merge: d10faf6 88c8b42
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 18:35:47 2013 +0000

    Merge "Storwize/SVC: fix attach bug for live migration."

commit d10faf624a7207efcac45ea29cd7c65aa19f3800
Merge: 787d4ee c23f620
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 18:28:05 2013 +0000

    Merge "Use flake8 and hacking."

commit 787d4ee83862df25105dad5f3422dbff9b9f2f36
Merge: c675668 0fbe00f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 13:55:35 2013 +0000

    Merge "Create an LVM utility to use for local storage."

commit 197fbf154aafaf70363f5f1377a9495d0559436b
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Tue May 14 17:30:00 2013 +0800

    Hide lock_prefix argument using synchronized_with_prefix()
    
    The lockfile module has a new convenience API which sets the lockfile prefix
    Using this API, the prefix is not required everytime synchronized is used.
    
    Change-Id: I033fa1d2ed071651609ac2be0a5a16eb3fda6c33

commit 88c8b42194333566c085489b160d77fc71b61b86
Author: Erik Zaadi <erikz@il.ibm.com>
Date:   Tue May 14 10:20:43 2013 +0300

    Storwize/SVC: fix attach bug for live migration.
    
    Add force flag for mkvdiskhostmap command to allow multi host mapping
    
    Change-Id: I290a5986b213a0aaeae0d0ea0ad57350c9dee3c9
    Fixes: bug #1179773

commit c67566893114ebfad8d803531e22584b2b9a4bdc
Merge: e831013 68f28d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 08:11:25 2013 +0000

    Merge "Add CINDER_LOCALEDIR env variable"

commit c355d68a868e9232a80c2f22557ffe228fcb4f8f
Author: Mike Perez <thingee@gmail.com>
Date:   Sat Apr 13 16:43:16 2013 -0700

    Deprecating old dot path locations for Folsom configs
    
    In grizzly, we made a lot of structure changes. This deprecates the old
    locations so the dot paths in old configs still work but give warnings
    in the logs of what needs to be updated.
    
    Fixes: bug #1168573
    Change-Id: I7b1754b0e59a923afa623871fc3be07362bf1bdc

commit e83101361dda923d7302b2eb3fc894c57d0fb387
Merge: 4558d68 f9fd91e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 05:39:27 2013 +0000

    Merge "solidfire: Add ability to override account prefix"

commit 4558d6864146853c4ebc6418b23d1e7da8c3edc8
Merge: 3a463d4 93e8b63
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 05:29:58 2013 +0000

    Merge "Increased unit test code coverage"

commit 3a463d4b54d3b58b3c0ef10f4619330cc085e67c
Merge: 5784a36 7cfb038
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 04:39:55 2013 +0000

    Merge "Remove gettext.install() from cinder/__init__.py"

commit f9fd91e05e7d8d4a7d3a4659ba3c0ebd483732e1
Author: Mathieu Gagné <mgagne@iweb.com>
Date:   Mon May 13 17:05:21 2013 -0400

    solidfire: Add ability to override account prefix
    
    The SolidFire account is created with a prefix based on the hostname
    of the host running cinder-volume. This prevents cinder-volume from
    being run in an active/active setup.
    
    This patch introduces a new configuration option sf_account_prefix
    to override the prefix used when a SolidFire account is created.
    
    If sf_account_prefix is empty, no prefix will be added to
    the SolidFire account name when created.
    
    The default value is still the hostname.
    
    Change-Id: I3b974789ea3e749cc8696b69754023ad76155179
    Fixes: bug #1179671

commit 20c2be3e7912e9c58392e11934c8114b63e73670
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu May 9 14:15:13 2013 -0700

    Fixes an get_volume_stats reporting issue
    
    This patch fixes a bug introduced in the last get_volume_stats
    patch that caused the method to fail.  I Also added another set
    of unit tests to catch any future issues related to get_volume_stats.
    
    Fixes Bug: #1178418
    
    Change-Id: I0dd2e0113ff822d3e717ab3d6da6b9d1b914a995

commit 93e8b63f95b27e34d3a5cdc6f593823d8b87e199
Author: Jim Branen <james.branen@hp.com>
Date:   Thu May 9 11:34:40 2013 -0700

    Increased unit test code coverage
    
    Added unit tests to increase the code coverage of the HP
    3PAR Fibre Channel and iSCSI drivers.
    
    Change-Id: I0176a56ca080429a600b24200987d276e73407ba

commit 5784a368b2a97d88cfd192f7b72bad5b50892200
Merge: 97b086c 381049b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 13 15:46:44 2013 +0000

    Merge "Use pbr instead of openstack.common.setup."

commit 0fbe00f70da73e0cc58ddf7c9fdead261392778d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue May 7 23:11:50 2013 -0600

    Create an LVM utility to use for local storage.
    
    This adds a simple LVM class for performing local
    LVM operations.  The idea is that an LVM object
    is instantiated based on a volume group, init
    can be used to instantiate and query an existing
    volume group, or create a new one if given a list
    of PV's to use in creation.
    
    See BP for information on where this is going and
    how it will be used in Cinder and hopefully other
    projects.
    
    Implements blueprint: local-lvm-storage-utils
    
    Change-Id: Iddde92af18f2317edc5f4583b2113c2b8117a4fe

commit 68f28d257c6e167bd819ae4ce385ae8c3602c8de
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed May 8 13:52:51 2013 +0100

    Add CINDER_LOCALEDIR env variable
    
    Part of fixing bug #995287
    
    Syncs these two commits from oslo-incubator:
    
      Support overriding oslo localedir too
      Add a gettextutils.install() helper function
    
    to get a new gettextutils.install() function which allows the default
    localedir to be overwritten via an environment variable.
    
    Note that gettextutils.install() must be called before any other cinder
    modules are imported since some modules attempt to translate strings
    at import time (e.g. in cinder.flags). This is broken and inefficient,
    but fixing it involves adding something like sphinx's l_() function and
    would be very invaisve.
    
    Change-Id: I86562b3a65d371673bb21f7179eecc7602bc0775

commit 7cfb0388fff7a1282141ed50b9b6d6cf65af55a1
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed May 8 13:52:42 2013 +0100

    Remove gettext.install() from cinder/__init__.py
    
    The gettext.install() function installs a builtin _() function which
    translates a string in the translation domain supplied to the install()
    function. If gettext.install() is called multiple times, it's the last
    call to the function which wins and the last supplied translation domain
    which is used e.g.
    
     >>> import os
     >>> os.environ['LANG'] = 'ja.UTF-8'
     >>> import gettext
     >>> gettext.install('keystone', unicode=1, localedir='/opt/stack/keystone/keystone/locale')
     >>> print _('Invalid syslog facility')
      n無効な syslog ファシリティ
     >>> gettext.install('cinder', unicode=1, localedir='/opt/stack/nova/cinder/locale')
     >>> print _('Invalid syslog facility')
     Invalid syslog facility
    
    Usually this function is called early on in a toplevel script and we
    assume that no other code will call it and override the installed _().
    However, in Cinder, we have taken a shortcut to avoid having to call it
    explicitly from each script and instead call it from cinder/__init__.py.
    
    This shortcut would be perfectly fine if we were absolutely sure that
    nova modules would never be imported from another program. It's probably
    quite incorrect for a program to use cinder code (indeed, if we wanted
    to support this, Cinder code shouldn't use the default _() function) but
    nevertheless there are some corner cases where it happens. For example,
    the keystoneclient auth_token middleware tries to import cfg from
    cinder.openstack and this in turn causes gettext.install('cinder') in
    other projects like glance or quantum.
    
    To avoid any doubt here, let's just rip out the shortcut and always
    call gettext.install() from the top-level script.
    
    However, there's a bit of an annoying detail here - by default,
    nosetests starts in the current directly and tries to import all modules
    it finds to look for tests. Without the _() builtin installed, importing
    some modules like cinder.flags will fail.
    
    Since it only ever makes sense to load tests from the cinder/tests dir,
    we can ask nose to do that by using the --tests argument via setup.cfg.
    
    Note, this means that if you previously did this:
    
      $> tox -- cinder.tests.foo cinder.tests.bar
    
    then you must now do this:
    
      $> tox -- --tests cinder.tests.foo,cinder.tests.bar
    
    Change-Id: If4125d6bcbde63df95de129ac5c83b4a6d6f130a

commit 97b086cae521eed8ac882f510199d3e0db9dea5a
Merge: 3fb6a99 7ad6ac4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 13 04:54:07 2013 +0000

    Merge "Implement copy_image_to_volume and copy_volume_to_image on nfs backends"

commit 3fb6a9955c2fdb69bebf8e874a4172a349fb7dab
Merge: 59fc6cb 6d2d88c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 13 04:54:04 2013 +0000

    Merge "Set default values for NFS/GlusterFS share_config files"

commit c23f620f2ce2d2dd5079fe6b258b1df7a6662240
Author: Monty Taylor <mordred@inaugust.com>
Date:   Sat Apr 20 21:44:09 2013 -0700

    Use flake8 and hacking.
    
    Fixes bug 1172444
    
    Change-Id: I46b733bd16fa49c58c642348988233064d2b673b

commit 381049bc039919153248d3ea4257f102234861c2
Author: Monty Taylor <mordred@inaugust.com>
Date:   Sat Apr 20 21:35:37 2013 -0700

    Use pbr instead of openstack.common.setup.
    
    Fixes bug 1179007
    
    Change-Id: I71a556bcc36e56f0b51b1191f2622c66c3338474

commit 59fc6cbd95ed83f7dfad2ee9317487d3ab0cc285
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Fri May 10 20:25:53 2013 +0800

    Change the type of "free_capacity_gb" to be float
    
    Change the type of "free_capacity_gb" from string to float
    in function _get_free_capacity.
    
    Fix bug: 1177678
    Change-Id: If2654fc3ad6b3dbea6a8cc0be7ae041ad30bf876

commit 145b38cc930479db87a478d9514f7b707a991dac
Merge: aef83c4 4580ee9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 10 23:08:37 2013 +0000

    Merge "Add missing spaces to iscsi_iotype help"

commit 6d2d88c187d04f00272eeb6ba9d0772b6e32a813
Author: Eric Harney <eharney@redhat.com>
Date:   Fri May 10 14:08:43 2013 -0400

    Set default values for NFS/GlusterFS share_config files
    
    By default, set:
     nfs_shares_config = /etc/cinder/nfs_shares
     glusterfs_shares_config = /etc/cinder/glusterfs_shares
    
    This makes use of these drivers require one less manual
    configuration step.
    
    Also fix wording of help for glusterfs/nfs_mount_point_base
    options.
    
    Change-Id: I93bd3a8f08d4d5307f78e983d1080afae663dfe4

commit 4580ee9c51285443f1425b72d73aaca1f582a189
Author: Eric Harney <eharney@redhat.com>
Date:   Fri May 10 14:16:54 2013 -0400

    Add missing spaces to iscsi_iotype help
    
    Missing spaces cause the auto-generated sample conf to not look
    right.
    
    Change-Id: I8e1b588d7cf18147aa403f0e7391f9c6ae390a6b

commit bff14b95e3c15fde321e0e2da9e5c3250a4d3fca
Author: Jenny Shieh <jenny.shieh@hp.com>
Date:   Thu May 9 09:01:37 2013 -0700

    Adds notifiers to both volumeTypes and volumeTypeExtraSpecs
    
    1. add notifier to create and delete volumeTypes
    2. add notifier to create, update and delete volumeTypeExtraSpecs
    
    Implements: notifiers for volumetypes and extra specs
    Fixes: bug #1176259
    Change-Id: I30fe6cb764e5fda7c876a8b7256d9b0c0f4a7fdd

commit aef83c437e3d101c639676d795ae0398611bd7f6
Merge: cba1b23 d75fafa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 10 18:00:43 2013 +0000

    Merge "Add pylint-based lintstack test to tox environment"

commit cba1b23462e339076d70a2ef8ff33b5c82b8cc1e
Merge: 7dad062 caeb4a2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 10 17:38:14 2013 +0000

    Merge "Fix missing spaces in Huawei Logging"

commit caeb4a215fa3a1c0b142e3dfbe5c73c20e537ac3
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Fri May 10 21:41:23 2013 +0800

    Fix missing spaces in Huawei Logging
    
    Add spaces between line concatenations in Log messages.
    
    Change-Id: I4e94fc751658fbe1b6b9b74859d800445a1c2e5d

commit d75fafa88ff3d50a1b76e0ed4fcfaf8351f00e4e
Author: Yun Mao <yunmao@gmail.com>
Date:   Thu May 9 21:31:23 2013 -0400

    Add pylint-based lintstack test to tox environment
    
    lintstack is a pylint-based static analysis tool to find bugs
    in Python code.
    
    To run the test via tox: $ tox -e pylint
    To run the test directly: $ tools/lintstack.sh
    
    Change-Id: If155f47ed84eb820ac505ee741bdd18edd41b1eb

commit 7dad062dd694c85af3ecd85e07a3246cef204a61
Author: Yun Mao <yunmao@gmail.com>
Date:   Thu May 9 17:54:06 2013 -0400

    Remove outdated cinder test doc
    
    cinder doesn't run pylint test. This was a left over from the
    fork in nova-volume.
    
    Change-Id: Id096ec97b37a2019baf7a0b55bfd5bce4e71908f

commit 116493092cb463761d387bb5c0de6e895b05ab7c
Merge: 92dd2e0 d52a0f2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 9 05:34:06 2013 +0000

    Merge "Copy the RHEL6 eventlet workaround from Oslo"

commit 92dd2e0f1ab61e6b7af098a670e0e491f1c58f92
Merge: d8c9e68 cb3fb51
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 8 16:21:50 2013 +0000

    Merge "Add db client packages to dev env setup doc."

commit d8c9e68d43323032e8e0d007aa29e85ff5afedbf
Merge: 7996aaa 54a2ee4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 7 16:13:19 2013 +0000

    Merge "Fix ability to add custom volume_backend_name"

commit 7ad6ac41c45e5792c6d9cdac0bcce21976e4ef62
Author: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>
Date:   Tue May 7 10:37:10 2013 +0200

    Implement copy_image_to_volume and copy_volume_to_image on nfs backends
    
    Fixes: bug #1177288
    Change-Id: I1c034de4acf13c52e399ba4623a0c8f2110fd695

commit 7996aaa8a78d03607e46d6539c56adec44b83c15
Author: Michael Still <mikal@stillhq.com>
Date:   Tue May 7 12:41:38 2013 +1000

    Update import of oslo's processutils.
    
    Brings processutils inline with the current state of oslo.
    
    Change-Id: I6364e1cd732622cefee89be987230da2a9959845

commit 5d932a470a3a1177250e16aebc280d38c3329bae
Merge: 822cda0 7546682
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 7 01:47:09 2013 +0000

    Merge "Remove setuptools-git as run time dependency"

commit 54a2ee48a4dc31cbf116b1e9d5add37efe66bc20
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri May 3 14:36:12 2013 -0700

    Fix ability to add custom volume_backend_name
    
    This patch fixes the ability to set the volume_backend_name
    for each driver.   The original bug was filed against LeftHand
    and 3PAR, but several drivers exhibited a fixed backend name.
    
    Fixes: bug #1175222
           bug #1172286
    
    Change-Id: I4197f99bebd6ca8e4969795ae6edb537bc066c90

commit cb3fb51be8d3370cb7dd4adb992ef07f49f438a5
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon May 6 10:13:48 2013 -0600

    Add db client packages to dev env setup doc.
    
    Dev env setup doc hasn't been updated in a while and
    needed the addition of the mysql and psql packages.
    
    Tested this on a clean install and it looks like
    the addition of these two pkgs should get us up to
    date.
    
    Change-Id: I66011478064bd8fb85bfaf56e8b14232226e0efc

commit 822cda06ca664e87ff01c8a184d5744a424f7315
Merge: 0793568 0ee20a0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 3 17:42:47 2013 +0000

    Merge "Fixes 3par driver methods that were double locking"

commit 0793568067602550d170e260851589aa78148f28
Merge: 37b4de9 006d673
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 3 17:32:29 2013 +0000

    Merge "Fix LHN driver to allow backend name configuration"

commit 37b4de919fe5d521ce66f061175ecda622c21260
Merge: d0b5b93 db991e6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 3 17:32:25 2013 +0000

    Merge "Remove old_name from kwargs when using IET helper."

commit d0b5b93fe7611b35a8c6a9b09f46641f4fb859f4
Author: Dermot Tynan <tynan@hp.com>
Date:   Thu May 2 11:02:05 2013 +0100

    Check that volume is at least minDisk size.
    
    The Image service (such as Glance) provides a minDisk parameter to
    indicate the minimum required disk size for the image. This change
    ensures that the guidance is followed in the case of bootable
    volumes.
    
    Added unit test and fixed PEP8 issue.
    
    Fixed issue with docstring.
    
    Added a comment.
    
    Fixes Bug #1175532
    
    Change-Id: I505af53db70b5b286dbca2eaca4fc1f30a8c0b2a

commit db991e6638533fb019fa5dcf59235d7302ae426e
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed May 1 11:26:18 2013 -0600

    Remove old_name from kwargs when using IET helper.
    
    The IET driver passes the input kwargs from export
    directly to the IET driver, but one of the keys here
    is specifically for migration and a bug associated with
    going from nova-vol to cinder-uuid's.
    
    This patch just checks in the IET code if we have the key set
    and if so pops it out before passing through to iet.
    
    Fixes bug: 1175207
    
    Change-Id: I965bdfbe078d61b906aebc48961c1806a9fb0c59

commit d52a0f21f7f31c2445143d7e95a68aecf4ee57c5
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Thu May 2 10:22:26 2013 +0100

    Copy the RHEL6 eventlet workaround from Oslo
    
    Tests in oslo-incubator now need the horrendous hack to workaround an
    issue with eventlet on RHEL6. We've moved the patch_tox_venv tool
    and redhat-eventlet.patch into oslo-incubator, so add them to
    openstack-common.conf.
    
    Change-Id: I1acfec282b64d7582144b155119bedb1741db2f7

commit 7546682d905b05fc89830d0b3b6563c7b827205b
Author: Chuck Short <chuck.short@canonical.com>
Date:   Wed May 1 14:13:10 2013 -0500

    Remove setuptools-git as run time dependency
    
    Remove setuptools-git as a run time dependency since
    it is only used to generate a tarball.
    
    Change-Id: I6c48147408e97ab88ede660938e783f6b660746a
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit 006d673d24778abe6c47e3ee7e1a19e163912440
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Apr 30 13:05:40 2013 -0600

    Fix LHN driver to allow backend name configuration
    
    The LHN driver wasn't allowing custom volume_backend_name to be set
    via multi-backend configuration input.  In addition there were some
    issues with the updating that are also addressed in this patch.
    
    There are other drivers that are going to need updated/fixed for
    this same problem, but those will be addressed in a separate patch/bug.
    
    Fixes bug: 1173037
    
    Change-Id: Iae247a500739d02e145511ebe96dddaff8966419

commit 11a949c14806c2891e114cd21c08b5b7557862f1
Merge: a4ba17b 03a32bc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Apr 30 13:06:09 2013 +0000

    Merge "Avoid using whitespace in test_safe_parse_xml."

commit a4ba17b668bd893d50fd4f3a5453da89966a77e3
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Wed Apr 17 15:36:28 2013 +0000

    Deleting a backup removed the backup record from database
    
    Instead we should be marking the backup as deleted so that we have an audit
    of all the backups. Backups are now marked deleted in the way that volumes
    are.
    
    Fixes bug: 1169943
    Fixes bug: 1169857
    
    Change-Id: I52c603be138c0f1d6d411d167977041255ac9053

commit b2e20f87d285a3547e0b43dd052482f49e77e2d9
Merge: 5c996c5 2cee8fc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 26 17:46:35 2013 +0000

    Merge "cinder volume service keeps retrying even code exception"

commit 5c996c51999c2fb3e00ad8919215cd842696ac5c
Merge: 0439797 8f045d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 26 17:00:52 2013 +0000

    Merge "Cinder wasn't filtering the backups returned to backup list API"

commit 04397975dfa9a6cbeef657853b2817461d06c57a
Merge: 14d202c 51218b2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 26 16:55:15 2013 +0000

    Merge "Remove _path_exists method."

commit 14d202ce12485aa419754aa808cb079688fa23bf
Merge: c91c873 3d18b30
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 26 16:38:58 2013 +0000

    Merge "Clear volumes stuck in 'downloading'"

commit c91c873dc8089a27e107c52b6d7acee14910a754
Merge: e422d35 a7d47c4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 26 16:28:09 2013 +0000

    Merge "Update to latest copy of OSLO incubator"

commit e422d353af052916d15afcd5ba1e5ad6454f8f92
Merge: a6179da beacbd3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 26 16:28:06 2013 +0000

    Merge "Fixes 3PAR FC driver synchronization"

commit a6179da0d6e3e4b6715b456e266267601b8eadc4
Merge: f4f75ca 5ec17aa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 26 15:26:50 2013 +0000

    Merge "Encode username and password in config file"

commit 51218b2b32edbc79e89195d58b7b7e330a6d1486
Author: mouad benchchaoui <m.benchchaoui@cloudbau.de>
Date:   Thu Apr 25 18:12:09 2013 +0200

    Remove _path_exists method.
    
    This method is buggy because it works only on host machine with english language, and
    apparently this method is also useless because we don't need to check if a path exist if
    we can use command option -p for "mkdir" command and option -f for "rm" command.
    
    bug: LP#1172777
    Change-Id: I418b32772ca97b42e1a43275a7abec9f96688607

commit 5ec17aa800751508468fbab28d4df3040de93f3c
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Thu Apr 18 00:15:24 2013 +0800

    Encode username and password in config file
    
    Encode username and password in xml file with base64.
    And change lun owning controller when attaching
    the lun to get better performance.
    
    Fixes bug: 1136892
    Change-Id: Iad79d1ec1651e3582b86e865f0342fdc55065134

commit 3d18b30329183c6d89f287c5dd23248cbcc24607
Author: Dermot Tynan <tynan@hp.com>
Date:   Thu Apr 25 10:46:34 2013 +0100

    Clear volumes stuck in 'downloading'
    
    If the CinderVolume service is restarted while an image-copy is
    happening, the volume gets left in a 'downloading' state and
    cannot be used or deleted. This fix adds code to init_host to
    look for volumes (on this host) in such a state, and move them
    to an error state. It also calls clear_download in the driver
    in case the driver needs to perform an action, such as
    detaching the volume.
    
    Fixes Bug #1172645
    
    Change-Id: Ia5dab9ebf997f573c0b4e57d983f5996af81ede5

commit f4f75ca9c0833475cfdb547bdad6a4d618e9e842
Merge: 055ef3b 781055b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 25 05:25:00 2013 +0000

    Merge "Add stats reporting to Nexenta Driver"

commit 055ef3b67b57d8cb27d10fb66065fd19af74cc3a
Merge: 2522f4d c03fcae
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 25 05:22:38 2013 +0000

    Merge "Remove duplicate method definition"

commit beacbd368124a656eaa4038fe1c35f1796e5dda4
Author: Jim Branen <james.branen@hp.com>
Date:   Wed Apr 24 17:52:41 2013 -0700

    Fixes 3PAR FC driver synchronization
    
    While running  stress tests we found missing synchronized methods.
    This patch added synchronized anotations around the necessary
    methods.
    
    Fixes bug 1172503
    
    Change-Id: I8e475fe38d96ca663fbaac40c5a50420d791f5d5

commit 03a32bcb91d3f8af1717277d1d09e571e5c35a7b
Author: Jay S. Bryant <jsbryant@us.ibm.com>
Date:   Wed Apr 24 12:56:03 2013 -0500

    Avoid using whitespace in test_safe_parse_xml.
    
    Updates the test_safe_parse_xml test case in
    cinder.tests.test_utils.GenericUtilsTestCase to avoid using
    whitespaces and to ignore extraneous newlines returned in the
    parsed XML.  This is required to work around differences in
    the output from minidom in python 2.6.
    
    Fixes LP Bug #1172352.
    
    Change-Id: I48bdf3cb8eed3e65f7ceaeb1c2b19aa529c930d0

commit 2522f4d678be58006154e712171fdb96c35273dd
Merge: 3727324 7d5787d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 24 00:02:56 2013 +0000

    Merge "iscsi: Add ability to specify or autodetect block vs fileio"

commit 781055bc1f30cebe08848130f3a40764f7f1bb4f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Apr 12 11:11:38 2013 -0600

    Add stats reporting to Nexenta Driver
    
    Nexenta driver was never updated to report stats.
    This change doesn't include support for backend_name assignment
    via configs, there's some other work that will need to be
    done to enable that.
    
    Fixes bug: 1166607
    
    Change-Id: Id9cfff24df8815a67e42393aa18fd41ac1b9e6b3

commit c03fcaeebce185ff135491acb40d294685b32935
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Mon Apr 22 17:06:19 2013 +0200

    Remove duplicate method definition
    
    This is defined similarly just a few lines above, so
    remove duplicate (outdated) instance.
    
    Change-Id: Id2eeb8c4d12fa2d16eb22f85fc22c47619233c22

commit 7d5787d29919bc61425b0fc457ca8235f2597bea
Author: Joseph Glanville <joseph@cloudscaling.com>
Date:   Wed Apr 10 16:02:42 2013 -0700

    iscsi: Add ability to specify or autodetect block vs fileio
    
    When using block devices to back iSCSI logical units it is
    advantageous to use blockio as it decreases latency and
    increases throughput, effect is especially pronounced with
    faster backing storage devices.
    
    Change-Id: Ia8cba5ddfe140cb5732c2b9ad882831e812a44bc

commit 3727324c6c2086fe72a72bd13e1af44959737b7c
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Mon Apr 22 02:08:35 2013 +0200

    Rename duplicate test method
    
    test_get_method_unknown_controller_action was defined twice,
    checking however for different things. Rename the 2nd instance
    to test_get_method_undefined_controller_action instead, otherwise
    it gets overwritten later and not run. Increases test coverage
    
    Change-Id: I64b62560d6db9f6378df8fbc21bd9fada5088b89

commit b49f37b8ee3a0cc28770018caee042973fcd42dd
Merge: d61a5d3 168b756
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Apr 20 17:38:17 2013 +0000

    Merge "Remove Flags usage from cinder.volume.driver"

commit d61a5d33cea221662ff3b887583c29f6535d3213
Merge: 8e19789 0e3ea4e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 17 21:56:11 2013 +0000

    Merge "Add parsing to extra-specs key check"

commit a7d47c4ecea903f0706ac313abef888507ce0522
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Wed Apr 17 16:41:50 2013 +0000

    Update to latest copy of OSLO incubator
    
    Specifically I wanted the change be84db3ab24ef94b6ec457bb299d48c51575e8a6
    to oslo-incubator to fix my logging issue.
    
    I ignored the changes in common/policy.py as this change breaks
    the cinder unit tests.
    
    Fixes bug: 1170038
    
    Change-Id: Id72417d58c8f4bf139aa082131154153a175689d

commit 8f045d2dd2cb84099dd54701e9d27b12a779e191
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Tue Apr 16 08:09:35 2013 +0000

    Cinder wasn't filtering the backups returned to backup list API
    
    This has the side effect of return all backups in the system (regardless of
    who created them) to the user. You should only see the backups created in your
    current active project.
    
    Fixes bug: 1169461
    
    Change-Id: I121e8ed215b28f1b21e24b2104f8294039e09b48

commit 2cee8fc3a4899097801ad93b5d6e6a4f373ad8fe
Author: Yang Yu <yuyangbj@cn.ibm.com>
Date:   Wed Apr 17 16:00:07 2013 +0800

    cinder volume service keeps retrying even code exception
    
    Make sure that ProcessLauncher does not try to restart the failed
    service. And make sure the ProcessLauncher exits, when the number
    of the failed services equal the number of total services.
    
    Fixes: bug 1167841
    Change-Id: I818c754534c18a62d292e21f0c98086571fe0565

commit 8e1978932d50015b988927f4d8ae39f72c227fc2
Merge: 0d4d788 a95a214
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 17 00:03:22 2013 +0000

    Merge "Add capabilities reporting to ThinLVM driver"

commit 0d4d788ebd2cd35b75a257a7d0f5fd17859ebf45
Merge: 612c615 cc7fe54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Apr 16 19:32:24 2013 +0000

    Merge "Add missing space to "volumes already consumed" message"

commit 612c6153325329cf4ec8aebdb9627f1586a00091
Merge: f63fb91 0d8f269
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Apr 16 19:26:31 2013 +0000

    Merge "NetApp: Fix failing NetApp tests"

commit f63fb91e87c0b6ed0e0278cb1619aeb3abd00781
Merge: e64f664 0eb0158
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Apr 16 19:12:01 2013 +0000

    Merge "Use a SSH pool to manage SSH connection"

commit cc7fe54f512a6db1772e8a74fb74ba8646e1af82
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Apr 16 10:37:30 2013 -0400

    Add missing space to "volumes already consumed" message
    
    Change-Id: I48728def59ecb2f139fa523cfe429aab076bfa88

commit a95a2149a5ba805451a6d961b792ccd5b9984bea
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Apr 11 20:05:01 2013 -0600

    Add capabilities reporting to ThinLVM driver
    
    ThinLVM driver was missing the newly required capabilities reporting
    and inheritance from the parent LVM driver doesn't work because the
    capacity reporting methods between regular LVM and Thin LVM are not
    compatible.
    
    This patch add the basic requirements needed in the capabilities reporting
    to make it usable by the filter scheduler.
    
    Fixes bug: 1166572
    
    Change-Id: I471dcc31d07516e71bcd2d3ae03e0405e0594697

commit 0d8f2696bd7911939f28bcf064d03ef79d0be726
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Thu Apr 11 19:31:37 2013 +0530

    NetApp: Fix failing NetApp tests
    
    The tests were failing due to an upgrade in the testing framework
    (possibly due to upgrade of nose package from 1.2.1 to 1.3.0).
    The actual reason was a bug in the suds client. A simple
    workaround is utilised here, which sets the logging level of a
    suds file to INFO instead of DEBUG.
    
    Some 'FutureWarning' warnings from the test output were also
    fixed.
    
    Change-Id: Ia67476c23bffa91264cf79f6a26944b450c4f4fc

commit e64f664a1c90614fb163baba8766e4eb765d7da5
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Apr 12 16:47:34 2013 -0400

    Use VERSION var for volume_stats version (Gluster/NFS)
    
    Establish a formal version number to help with maintenance.
    
    Change-Id: Iffe1a6f809ec9385c7407efac25ca39eff0d1329

commit 0e3ea4e85dab00b7cecd5596f6daa65cc4d710b5
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Apr 9 23:07:52 2013 -0600

    Add parsing to extra-specs key check
    
    When using the filter scheduler which is now the default,
    we can no longer pass in extra-specs like: {minIOPS:500, ....},
    because the capabilities filter will reject this because there is
    no host reporting minIOPS:500 capabilities.
    
    We now need to scope the keys (ie qos:minIOPS:500....), but
    that unfortunately requires a fix to the SolidFire driver.
    
    This change add a check for the ':' in the key, and parses
    on it if it's there.
    
    Also fixes backend_name and uses VERSION var instead of
    generating string in stats reporting.
    
    Fixes bug: 1167141
    
    Change-Id: Ie7fd7d231af78cb18a13f44a4379b44d3c3385df

commit 0eb0158e2450b6b44715842fa9f04a9552ea0a41
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Thu Apr 4 08:45:21 2013 +0800

    Use a SSH pool to manage SSH connection
    
    Use a SSH pool to hold all SSH clients.It allows 4 SSH clients
    at most to connect to the SSH server at the same time.
    This patchset also enables every SSH client connect to the other
    controller when they failed to connect to the current controller.
    For example,failed to A,then to B,or,failed to B,then to A.
    
    Fixes bug: 1162251
    Change-Id: I86f7f684639034be97ddf2031e61ac6bf3a196ad

commit 168b7566a51807dfd42f873c810440472aed7171
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Apr 11 18:42:59 2013 -0600

    Remove Flags usage from cinder.volume.driver
    
    cinder.volume.driver was using a mix of FLAGS and the
    new conf options for multi-backend.  The result was failure
    of multi-backend configrations to set the iscsi_helper
    option.
    
    This updates the driver.py file to use the OSLO.cfg and fixes the
    check for iscsi_helper check in the initialize_connection call,
    which was undefined.
    
    Fixes bug: 1169928
    
    Change-Id: Ia1678893f32a9d08a695f055f59f7296e17d9d78

commit dbc0b4a0940979c2a2df373006c5b17d75d0cdaa
Merge: 0529055 2c540b3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 11 19:56:44 2013 +0000

    Merge "new cinder.conf.sample and fix extract_opts.py"

commit 0529055f0f77765ed15ccd57f681568e19a809dc
Merge: 2b9218c f38f943
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 11 19:14:06 2013 +0000

    Merge "Fix incompatible Storwize/SVC commands."

commit 2c540b3fa443de6f29b31dcffbae9f12c2aa6f71
Author: Darren Birkett <darren.birkett@gmail.com>
Date:   Thu Apr 11 08:46:10 2013 +0100

    new cinder.conf.sample and fix extract_opts.py
    
    Fixes bug: #1167329
    
    Change-Id: I09ce8f00c84a5a04d6e4274914fed102f19381e1

commit 2b9218c42cddab7ec0ebb67985c6cfe17e8680b0
Merge: d362bda 56a49ad
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 11 04:55:56 2013 +0000

    Merge "fix default config option types"

commit d362bda7671e887176eead9fcf06a6d8197960b6
Merge: 3265678 1c77c54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 11 04:46:20 2013 +0000

    Merge "Add service list functionality cinder-manage"

commit 326567874dc7daf89bf3840cea5bcfbc8c3b7229
Merge: 23bd028 6d7a681
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 11 04:45:27 2013 +0000

    Merge "Clean up attach/detach tests."

commit 56a49adc13cdbc5e2e6a4787cd9c7eb7a72cceb5
Author: Darren Birkett <darren.birkett@gmail.com>
Date:   Wed Apr 10 13:34:01 2013 +0100

    fix default config option types
    
    Change-Id: I4bea0b5e12d229b0d9188e10c70996a5606aa970
    Fixes: bug #1167318

commit f38f943899ea95fe237be1d096ceafd35b57a843
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Apr 10 11:24:45 2013 +0300

    Fix incompatible Storwize/SVC commands.
    
    Inconsistencies in the command line syntax between Storwize/SVC
    models and firmware versions caused driver failures. This patch
    makes commands compatible to fix driver crashes on the V3700 and
    controllers with firmware version 6.3.
    
    Change-Id: I51d5b97afa5419cdbf488f9e4e4597d22bb22f20
    Fixes: bug 1163754
    Fixed: bug 1163964

commit 23bd028ce39bebf0f5d2403df328ad55e6eb007e
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Apr 9 09:27:46 2013 +0300

    Fix backup manager formatting error.
    
    ID was being printed as %d instead of %s, causing tests to fail. This
    error was previously undetected.
    In addition, NetApp tests are failing due to a bug in the suds
    package, which is no longer actively maintained. This patch adds skips
    to the problematic tests, which should be removed once the issue is
    resolved.
    
    Change-Id: I5645909f59aa2ea3dc536ed4707ea75754307050
    Fixes: bug 1166600

commit 1c77c5416417299953cebabbd88d7385d0c57cd4
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Fri Apr 5 10:29:13 2013 +0000

    Add service list functionality cinder-manage
    
    Adds functionality similar to nova-manage service list
    to cinder-manage.
    
    Change-Id: I9bcd6dcb551dbced2cfd6fcf0e63ffe4bb8754e8

commit 31789cb520121c7adba3a2ef91d1bd158c54f9db
Merge: ce87f98 719ec5c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 8 17:12:38 2013 +0000

    Merge "Don't hard code AUTH_ into the swift backup url"

commit ce87f98e211b432f717099d50f961911a0c6277e
Merge: 0992004 8870460
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 8 12:35:54 2013 +0000

    Merge "Reformat openstack-common.conf"

commit 6d7a681fa38bc39e6c0d0db684caec627b4daffa
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Apr 8 12:19:32 2013 +0300

    Clean up attach/detach tests.
    
    The code tested by test_preattach_status_volume was moved, and the
    test no longer tested anything relevant (i.e., instead of checking
    that the volume is 'attached', the test was changed to test for
    'available' since the attach code was moved). This patch, therefore,
    deletes that test.
    
    Further, test_run_attach_detach_volume called database functions for
    attaching and detaching. This patch changes those calls to call
    higher-level functions which in turn call the database functions. This
    gives better code coverage and gives the tests more meaning.
    
    Change-Id: If688fe6a14940148b5792256c8507803e8cde901

commit 0992004ab2c85b07b1eec5f62ac665513286b915
Merge: 41749f2 cabca4f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 8 05:00:08 2013 +0000

    Merge "Prevent create volume from snapshot with bad size"

commit 41749f2fd433f70c912159f6a2e2c68bd549e656
Merge: 5096894 c304730
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 8 04:20:57 2013 +0000

    Merge "Sync with oslo-incubator copy of setup.py"

commit 50968948900d8d13d8f5b804325098162fc9227c
Merge: 57f8e4c d1b37a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 8 04:17:26 2013 +0000

    Merge "Clean up started volume services in tests."

commit 8870460211e9cc1a18cd0bd7eace1bf35217ac72
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Sun Apr 7 18:12:52 2013 +0800

    Reformat openstack-common.conf
    
    Use the new 'module' option in openstack-common.conf which is a
    multi-string option, allowing each module name to be placed on a
    separate line.
    
    This makes it much easier to review changes to the modules list.
    
    Change-Id: I2b5c56dbf941b272bd89b0dbe6f651196d90944f

commit c3047304fffac73521722e5468231ebe5a9fc502
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Sun Apr 7 20:38:08 2013 -0400

    Sync with oslo-incubator copy of setup.py
    
    Keep up with the changes to the master copy
    
    Change-Id: I6b87762a25f11c2548cd8df548a217295b8129d4

commit 57f8e4ce6beed501c749f25edb07c242fe25cdda
Merge: ac2bf3f d387595
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Apr 7 12:17:00 2013 +0000

    Merge "Allow deletion of backups where the service is None"

commit ac2bf3f59693a36be6d159464144b24bcd67d889
Merge: ccdd064 46b2a7d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Apr 7 08:30:46 2013 +0000

    Merge "Fixed a volume creation re-schedule error"

commit ccdd064c91116e7de2efb22fdaab530a3b9a9e3d
Merge: 584dfd5 d59094f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Apr 7 03:28:10 2013 +0000

    Merge "Implement get_volume_stats for GlusterFS driver"

commit 584dfd5a671c3c29591adf4f8aaae764f559f170
Merge: b73c5d5 9d359c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Apr 7 02:59:56 2013 +0000

    Merge "Fix cinder-manage backup list to work with uuids"

commit b73c5d5ffe8b41c4f583e9bac0f656ca512461f8
Merge: b823de4 134afd8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Apr 7 02:51:38 2013 +0000

    Merge "Remove update_volume_status log message from NFS driver"

commit 719ec5c82ac39384ec30ff2aab9b1ddea6c83f4c
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Fri Apr 5 15:33:06 2013 +0000

    Don't hard code AUTH_ into the swift backup url
    
    Instead make it configurable as part of the backup_swift_url option
    
    Change-Id: I32019d8d4af2f8876da3807a5af3f0b921456935

commit 134afd8df538c7e63b41922897a343f34641be23
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Apr 5 10:50:31 2013 -0400

    Remove update_volume_status log message from NFS driver
    
    The manager logs an INFO message when this action occurs already,
    and it not called by anyone else, so don't log twice:
    
    INFO [cinder.volume.manager] Updating volume status
    DEBUG [cinder.volume.drivers.nfs] Updating volume status
    
    Change-Id: Id99be0c0e50837c2b59963d983b9a7db3d25919a

commit d59094f316f0c41aaa7be63ee4e25e2dea4fa0a9
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Apr 3 14:39:38 2013 -0400

    Implement get_volume_stats for GlusterFS driver
    
    Implement get_volume_stats(), so that the GlusterFS driver
    will work correctly with the scheduler.
    
    Fixes bug: 1164038
    
    Change-Id: Ib4db8bad897212227b39704e2e6cb5f07f2bb70e

commit 46b2a7dd3224c4ed00457520b95569442386d273
Author: Liang Chen <cbjchen@cn.ibm.com>
Date:   Fri Apr 5 22:00:39 2013 +0800

    Fixed a volume creation re-schedule error
    
    Don't see any reason to construct a list for request_spec['volume_id'].
    And it indeed causes problems when the scheduler receives a reschedule
    request with such a request_spec.
    
    Fixes bug #1164857
    
    Change-Id: I811e957d5bf9c814165d55ea0042833ea72c8de5

commit d38759570a5cdaf26ff48c6fd8a6b0242d74e80b
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Apr 4 16:10:16 2013 +0000

    Allow deletion of backups where the service is None
    
    If a backup is created while both cinder-backup and rabbitmq
    are not running, backup records are created in the database with a
    service entry of None.
    
    There is no actual backup data created on the service, since the service
    isn't running. This fix allows removal of these records without an error
    when a delete backup request is received.
    
    This fix also ensures backup status is set to error in the event of
    an exception during a delete.
    
    Fixes bug #1162908
    
    Change-Id: I5771747a00a70621f7cc101f8c1da2f613e83cdf

commit 9d359c01f383807846a8be2f7180641880d76952
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Fri Apr 5 09:55:01 2013 +0000

    Fix cinder-manage backup list to work with uuids
    
    Fixes bug #1164922
    
    Change-Id: I8ed7ff7ca334b983d60445d96cd1f6c368766407

commit b823de4370fb306de0416d8ec1c1a70ac224207c
Author: Liang Chen <cbjchen@cn.ibm.com>
Date:   Thu Apr 4 23:39:54 2013 +0800

    leave re-scheduled volume status to creating
    
    A re-scheduled volume should not be exported and set to available
    
    Fixes bug #1159027
    
    Change-Id: Ie61d9132ce1bd6461d5e4d9836424ebf14100389

commit cabca4fd3046503bcd917eba0cdd400491ba89cd
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Sat Mar 30 15:25:29 2013 +0100

    Prevent create volume from snapshot with bad size
    
    Prevent to create a volume from a snapshot with a volume size less
    than the snapshot size.
    
    Check if a volume size is specified that it is less than
    the snapshot size.
    
    Raise a exception if it's lesser.
    
    Fixes bug 1161841
    
    Change-Id: Ic1afbfb025ce0b3906c35c6c50a71734d74a9851

commit 7437175d1ee37142955dcaa564c2595baf16c831
Merge: 72c8a43 3be280d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 3 20:40:33 2013 +0000

    Merge "Add du to rootwrap filters"

commit 72c8a4341c445390df1a51bb4630e6ab263e7a70
Merge: 7997148 a3848ed
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 3 20:40:01 2013 +0000

    Merge "Change format of some judgments"

commit 3be280dc704ab90b373f3434c8883f3971c4397b
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Apr 3 15:31:49 2013 -0400

    Add du to rootwrap filters
    
    Setting "nfs_disk_util=du" or "glusterfs_disk_util=du" will use
    du instead of df for space calculation, but du is not allowed by
    rootwrap.
    
    Change-Id: I35522d40f97ea14cacf2637603f06a15810a0b36

commit 79971481f79d480c618e89e45e2d1e91d87688cb
Merge: d6ad709 41e8ba6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 3 09:50:38 2013 +0000

    Merge "Fix IBM copyright strings"

commit a3848ed80d7306833a87b1f7cfa3f89b58ab744a
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Tue Mar 26 22:10:19 2013 +0800

    Change format of some judgments
    
    Because "not volume" will be True if volume id is 0.It can not
    distinguish 0 from None.The same to some other judgments where
    variable value may be 0.
    
    This patch also does the following changes:
    Deletes check storagepool in function _check_conf_file and adds
    check default iscsi target IP in function initialize_connection.
    Moves create host group from do_setup to initialize_connection.
    Changes _get_login_info to be _update_login_info.
    
    Fixes bug: 1160340
    Change-Id: I0434b587d57c783f10d5724c4c66aea5df0b32e5

commit d6ad7094ca1bbc44abed067c5ec19aa03c8d521c
Merge: 562e0df 105cae4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 3 05:40:47 2013 +0000

    Merge "remove deprecated assert_unicode sqlalchemy attribute"

commit 562e0df07def212debf22ff375e273b1b91b966a
Merge: 74c9c82 32a2b96
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 3 05:37:58 2013 +0000

    Merge "Add availability_zone to the volume and snapshot notifications"

commit 74c9c82a919e18a149a04cd2e8f67da31505e414
Merge: a4833cb 8defcf2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 3 05:09:33 2013 +0000

    Merge "Remove InvalidPortRange exception"

commit 8defcf2de7a2dc9a8ef3e0f3e4b551ffa407eded
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Apr 2 16:06:56 2013 -0400

    Remove InvalidPortRange exception
    
    The InvalidPortRange exception seems to be left over from the
    initial split from Nova.
    
    Change-Id: Ife03ac70f6ba80273c1c21e8d2c509b480a6fe80

commit 32a2b96bcff92c0056660a230de18dab58eabea4
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Thu Mar 28 15:41:10 2013 +0000

    Add availability_zone to the volume and snapshot notifications
    
    Change-Id: I27b6dde68a1618a02c2309f007ead9dd1f04879e

commit a4833cbc5657cc148d64ac10264f260a19969e1b
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Apr 2 09:23:05 2013 -0400

    Throw InvalidSnapshot for failed snap delete
    
    When delete is called for a snapshot not in the "available" or
    "error" state, throw an InvalidSnapshot exception rather than
    InvalidVolume.
    
    Change-Id: I47f55b3357d75b5c0c9a704aaf693f4764fd112c

commit 105cae43c73f5c75bb342fb4c5d20b5c8edee00c
Author: Pádraig Brady <pbrady@redhat.com>
Date:   Tue Apr 2 14:44:51 2013 +0100

    remove deprecated assert_unicode sqlalchemy attribute
    
    Removing this enables use with sqlalchemy 0.8.0
    The deprecation is described upstream at:
    http://docs.sqlalchemy.org/en/latest/changelog/changelog_08.html#change-ad44af79c886d1bb283042deb64f9cbe
    
    Change-Id: I305bfdbcd3c3669c41318ea34115624f729b3909

commit 41e8ba672b4c367989c03906a730a355a20bd4bb
Author: Kurt Taylor <krtaylor@us.ibm.com>
Date:   Tue Apr 2 09:33:30 2013 -0400

    Fix IBM copyright strings
    
    Update IBM copyright strings to one consistant format
    
    Change-Id: I848f2bf64376b4e9496d8f54ae52321a6c4a4314

commit 3aa947d763681b6aa15297c2516789f708ccc461
Merge: 87a4709 b78fb08
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 31 15:26:46 2013 +0000

    Merge "REST session validity not checked in get_volume_info"

commit 87a470982bac082b7fc9f5195bb7d9996f4bd987
Merge: b7986d0 43f5f2e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 31 06:10:19 2013 +0000

    Merge "Add snapshot events to the cinder notification"

commit b78fb081ac1be228cecebff2a49131accfe4525c
Author: Larry Matter <lmatter@coraid.com>
Date:   Thu Mar 28 16:29:38 2013 -0700

    REST session validity not checked in get_volume_info
    
    The fix for bug 1157242 introduced a new bug in Coraid cinder driver
    _get_volume_info that the login session is not checked for
    validity/timeout.  This change addressesthat issue for all
    methods in the CoraidRESTClient class.
    
    Fixes bug 1160459
    
    Change-Id: Ib2d7ebbf3ef8ec35071f51c6168eb9b3af9405e6

commit b7986d03c53c36023824951299076d9f79dc33aa
Merge: 466e822 3a106f7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 29 18:29:24 2013 +0000

    Merge "getLogger should be called after logging is configured"

commit 466e8227be0b95275c4ccc5169e477c95a7fe7b7
Merge: a4540aa 9f8ee9d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 29 12:06:51 2013 +0000

    Merge "Mark sql_connection with secret flag"

commit a4540aae666347c1a7e6f17330232a5d33cc4893
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Mar 28 15:46:16 2013 +0000

    Enforce exclusive options snapshot-id, source-volid and image-id
    
    Fixed checks in api that volume create receives only one of
    snapshot-id, source-volid or image-id.
    
    Fixes bug #1161437
    
    Change-Id: Ibe5ca4bb81e69b0f8e1abe1c2cffe587dc10e3ca

commit 43f5f2e9b88df0f8f3423236d9d882a2ff567a18
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Thu Mar 28 13:05:01 2013 +0000

    Add snapshot events to the cinder notification
    
    Added and tested snapshot.create.start & snapshot.create.end
    on creation of a new snapshot
    
    Added and tested snapshot.delete.start & snapshot.delete.end
    on the deletion of a snapshot
    
    Change-Id: Ic3c1cc8949109149c59cf106a24b4eb0d8ba5580

commit 3a106f7e67e4b7f7c446058b98c33f8c71ca2868
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Wed Mar 27 15:17:44 2013 -0400

    getLogger should be called after logging is configured
    
    logging needs to be setup properly before we try to log
    something. Fixed one spot from logging->LOG
    
    Fixes LP# 1161038
    
    Change-Id: I87743cff9062e47c1d5e989c2c0c05c3921b65c7

commit 4d0985ea85f4fbdf48b1ed8e35407d2b4a6cf0e4
Merge: ebe6c93 d158308
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 28 07:20:36 2013 +0000

    Merge "Use the local configuration in the nfs drivers"

commit 9f8ee9d2981c5f317139e3743385b59956546d65
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Thu Mar 28 02:58:04 2013 +0000

    Mark sql_connection with secret flag
    
    sql_connection contains the password in some setups and marking as
    secret prevents accidental logging
    
    fixes bug 1160680
    
    Change-Id: I3704237d0923bb30138b5ece7e5c7bbda0a78b9b

commit ebe6c934f07d23635bd8f9781656837bff0ce726
Merge: 04f880d 3a20db0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 27 05:56:27 2013 +0000

    Merge "Fix bug with 3PAR host entry in wrong domain"

commit 04f880d40a30dd4fefa424eca25d355b937fc841
Merge: c395918 576c9b0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 27 00:45:11 2013 +0000

    Merge "Fix quota updating when admin deletes common user's volume"

commit c39591823fca30a470dfba6a2a488e3a71766e21
Merge: 649e892 ae4aecd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 26 17:51:50 2013 +0000

    Merge "Remove unused tools/rfc.sh"

commit 649e8926cf6a6ee1cc01a34e6f718e0996feb930
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Mar 26 10:19:47 2013 -0600

    Sync lockutils from oslo-incubator stable/grizzly.
    
    Changes include:
    
    3cb71ff Locking edge case when lock_path does not exist
    21925b6 Fix locking issues in Windows
    547ab34 Fix Copyright Headers - Rename LLC to Foundation
    
    Fix bug 1158179.
    
    Change-Id: I0d5fb58bef593233068accfcea0dff9fa05f61ef

commit 8f9cb73b64bce3c9aaf993a450bbb2a92dc6fd66
Merge: b842186 1fde5a4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 25 22:19:44 2013 +0000

    Merge "Add the volume and snapshot gigabytes together."

commit ae4aecdc7e554f78156c91c7c0b2436638bec5eb
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Mar 25 21:57:01 2013 +0000

    Remove unused tools/rfc.sh
    
    This has been deprecated in favour of git-review for quite a while now
    and was removed from Nova 10 months ago.
    
    Change-Id: Ic4bfa1aee3a4b6a7588be3678ac033a1b13e2b18

commit 1fde5a4fbc73a31453f0fe288a0b4a929d7f3026
Author: Cory Stone <corystone@gmail.com>
Date:   Mon Mar 25 15:09:37 2013 -0500

    Add the volume and snapshot gigabytes together.
    
    The quota sync functions were not working correctly for both
    snapshots and volumes regarding gigabytes. Each would report
    their own count as the total gigabytes.
    
    Now the gigabytes sync is separate from the volume and snapshot
    count syncs.
    
    Fixes bug #1160004
    
    Change-Id: Ib1200813acb6055412b3f7f6b63fa9ba2b8fa3be

commit b84218633ab5417adf94c568eb54243f4074ab11
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Mon Mar 25 12:46:51 2013 -0700

    Force deletes using tgt to workaround bug 1159948
    
    Tgt has a bug where it can have multiple copies of an initiator
    if there has been a reconnect.
    
    See https://bugs.launchpad.net/cinder/+bug/1159948
    
    Change-Id: I9a1b6757eb780efbaa1403016e50de7c0e45d720

commit 7d37d5846636ef2767a129f95d7d42dd12d64390
Merge: d6935af 8e8f200
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 25 16:58:50 2013 +0000

    Merge "Make dd block size user configurable"

commit d6935af9b3cdf73cc5dac2006d76a95e4c6cb35e
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sun Mar 24 20:49:46 2013 +0000

    Fixed shared gigabytes quota resource.
    
    The shared gigabytes resource between volumes and snapshots wasn't
    working properly.  The issue was that on update/sync the action item
    (volumes or snapshots) would update the resource usages based only on
    it's own particular item.
    
    This patch fixes that, and makes the total gigabytes truly shared
    between volumesa and snapshots.
    
    Fixes bug: 1159489
    
    Change-Id: Ib1be9788f0beb4f94d010e4f816f9f3393371205

commit 821e7ce075636f763b86b74fc8117fad6dbae3f1
Merge: 5a36a5e 0a0251e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 18:16:55 2013 +0000

    Merge "CoraidDriver: support users that are not admin"

commit 0a0251e695ed600ea586233b9654aedf4dab79e6
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Thu Mar 21 14:19:54 2013 +0100

    CoraidDriver: support users that are not admin
    
    Add support to the CoraidDriver to specify a subgroup (with admin
    privileges).
    Coraid storage orchestration allows you to allocate portions of your
    SAN to specific users/groups.
    The driver should support this and not assume logging in
    as "admin" (equiv to "root").
    
    Will add another parameter to cinder.conf, "coraid_group",
    and if present, the driver will authenticate using the specified group
    as well as the already available coraid_user parameter.
    
    Fixes bug 1157354
    
    Change-Id: I0d165955126adabce788ebdacd3a14a08edc8d8f

commit 5a36a5e43faaa236a9d21a923a9b7adf11ee1370
Merge: f53d48e 7c76058
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 09:56:27 2013 +0000

    Merge "Fixes Cinder REST API /volumes issue"

commit 576c9b0880c32bfc8053550b8f25a76df98c60e4
Author: Yug Suo <yugsuo@gmail.com>
Date:   Mon Mar 11 16:30:07 2013 +0800

    Fix quota updating when admin deletes common user's volume
    
    Add 'project_id=None' optional argument in QUOTAS related methods.
    
    There are two problems when admin deletes volumes of common user
    before fixing this bug:
    Firstly, It will get tenant quotas using context.project_id which
    results in getting admin's quotas not common user's.
    Secondly, It will also get wrong quota usages using context.project_id
    when updating common user's quota_usages.
    
    So we could pass into QUOTAS related methods an optional argument to
    specify the tenant ID to be affected. And if it's not set, then we
    default to drawing the tenant ID from the context.
    
    Fixes: bug 1078668
    Change-Id: Ie250da84726d1c5c3280430038184000dfd1e9e2

commit f53d48ebd9ff0e3b99470a9b95527c7054709c12
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Mar 22 18:01:02 2013 -0600

    Last driver sync for Folsom and Grizzly
    
    This is the last of the updates that I've been putting
    off while trying to handle the core items in Cinder.
    
    This change fixes the ctxt ordering error in volume_types
    and also fixes and also changes the internal SolidFire
    metadata storage to a single dict instead of a dict of dicts.
    
    Change-Id: I002a591bc109ae1ab625c89f6ad841f60e464a40

commit 3a20db0a739bc15e1beeb41910a6977381fd12f6
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri Mar 22 14:31:15 2013 -0700

    Fix bug with 3PAR host entry in wrong domain
    
    This patch exposes a more acurate exception message
    when a user has created a manual host entry on a
    3PAR system that is in an incorrect 3PAR domain than
    the domain that is configured for the 3PAR driver.
    
    The bug complained that it couldn't find a VLUN, when the
    actual problem was the host existed in the wrong 3PAR domain.
    
    Fixes bug #1158991
    
    Change-Id: I3f92e59ae43a10a0788d97d987785b6520f9f1be

commit 9b002be73c4eede66149153fc32a7ffea4bfe2ea
Merge: 3465bd9 18bf0b3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 20:39:12 2013 +0000

    Merge "Fixed attach volume for EMC SMI-S iSCSI driver"

commit 3465bd9111babad42f6bde9002891c80d4913eb3
Merge: edbafe0 b450eef
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 20:33:13 2013 +0000

    Merge "Snapshot reservation sync calls wrong resource."

commit edbafe0d64eabafbe357a768e0680dd79bdc7d91
Merge: db599df f570631
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 16:52:44 2013 +0000

    Merge "Fetch volume_types by uuid and not by name in v2"

commit b450eef832ff471b78776c9715b0878e95d69263
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Mar 21 09:48:03 2013 -0600

    Snapshot reservation sync calls wrong resource.
    
    The snapshot reservations code isn't calling the
    correct resource on sync (it's calling volumes).  There's
    also some problems with the logic being used on the delete/clean up
    that are fixed here as well.
    
    Fixes bug: 1157506
    Fixes bug: 1157982
    
    Change-Id: I91327b8043ab63aa35ea8a91b6de544bf5bf6c61

commit f5706319365dbd11cbc91bd69b09238afa51a626
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Mar 21 19:55:48 2013 -0700

    Fetch volume_types by uuid and not by name in v2
    
    This was left over from the UUID switch. Looking up volume_types by name
    is deprecated in v1 and removed in v2.
    
    Fixes: bug #1087817
    Change-Id: I02cc035565f9496cd5af228c55ced5cafef2ad81

commit db599df3b3550f25bee39c6c33c45cce2f6a5bf7
Merge: 8bee2ed 4403230
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 15:47:29 2013 +0000

    Merge "CoraidDriver: typo in _login exception handler"

commit 8bee2ed0e6fc96e27b8df597690eef7fe56dd85e
Merge: b732c49 28102bc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 15:47:27 2013 +0000

    Merge "CoraidDriver: do not call login from __init__"

commit b732c4956605ddef2c25a55290c59bb4868111b8
Merge: c38a347 e1561b8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 14:59:53 2013 +0000

    Merge "Extend param2id() to work with uuids"

commit d15830883eba4b8fb64e0e4760a217ff832f288f
Author: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>
Date:   Fri Mar 22 10:26:09 2013 +0100

    Use the local configuration in the nfs drivers
    
    Fixes bug 1158681
    
    Change-Id: If797a5d3241d6129a8fefea1222b723f03f86452

commit c38a3473adbe31d3e4d9698dabb60b657d39f6a9
Merge: c3ece4a 3fe8185
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 03:43:06 2013 +0000

    Merge "Updates to OSAPI sizelimit middleware."

commit 18bf0b386b2f26f524ebb6ab540941f64cad4642
Author: Xing Yang <xing.yang@emc.com>
Date:   Thu Mar 21 00:36:03 2013 -0400

    Fixed attach volume for EMC SMI-S iSCSI driver
    
    This problem was encountered during Grizzly RC1 testing.  The driver
    didn't find the correct target IQN.  As a result, Nova couldn't find
    the matching path in /dev/disk/by-path and therefore detached the volume.
    
    Change-Id: I8bcf6d9896b9d445f6376ecc3a5695be46507663
    Fixes: bug #1157912

commit e1561b8f8a05f3cd6b8635683b178f924384de65
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Mar 21 17:57:24 2013 +0000

    Extend param2id() to work with uuids
    
    Add uuid support to param2id() to allow commands including
    cinder-manage volume delete to work with uuid style volumd ids
    
    Fixes bug #1158409
    
    Change-Id: I2d197320b61f44d1104ed0342a6b5b70f673468a

commit c3ece4a20a5fa1ef9f83032f3efb3a182d04a597
Merge: 65e2910 adb8ba7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 21 14:11:52 2013 +0000

    Merge "Switch all uses of 422 response code to 400."

commit d1b37a8471ba5c5d5da315ea39335890b00a52f1
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Mar 21 15:08:04 2013 +0200

    Clean up started volume services in tests.
    
    The test_preattach_status_volume test was failing due to state left by
    another test. The interim solution was to skip the aforementioned test.
    I tracked down the problem to 4 tests in test_admin_actions.py that
    call self.start_service('volume', host='test'), and don't stop the
    service. Stopping it in all 4 tests solves the problem.
    
    HOWEVER, I don't know why these started services caused this particular
    test to fail. I am still working to figure that out, but maybe someone
    has an idea.
    
    Change-Id: I2a5caaae9f61e7c7617c934917a10cf1cf3c0db6
    Fixes: bug 1153108

commit 28102bc54ac2793ea17f47c81f6812bb84615834
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Thu Mar 21 12:08:53 2013 +0100

    CoraidDriver: do not call login from __init__
    
    We should not call _login from the driver's __init__.
    If the ESM is down, the constructor will fail.
    
    - self._login()
    
    Fixes bug 1157500
    
    Change-Id: Ie57fbb6d3704d270a81cd9eb056d7988989da1f8

commit 4403230bbe8f39a19c38e58840bbb2283ccd808f
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Thu Mar 21 11:51:37 2013 +0100

    CoraidDriver: typo in _login exception handler
    
    In cinder/volume/drivers/coraid.py, _login method, if login is
    unsuccessful, we try to get the message from an undefined
    object "response". Instead we should be getting it from "reply".
    
    - errmsg = response.get('message', '')
    + errmsg = reply.get('message', '')
    
    Fixes bug 1157499
    
    Change-Id: Ifd047ced6b40f49881e81d4e73189d9bd216c903

commit 7c760581d80b2ee5cd1e01a1d0a007770c9aa807
Author: Fei Long Wang <flwang@cn.ibm.com>
Date:   Thu Mar 14 14:35:10 2013 +0800

    Fixes Cinder REST API /volumes issue
    
    Issue #1
    Once GET variable 'offset' is specified, the API /volume will get an empty
    output.
    
    Issue #2
    Should validate the GET variable 'limit' before query database to get a
    consistent message with Cinder REST API v1.
    By current implement, error message is as below if the variable 'limit'
    is invalid:
    --------------------------------------------------------------------------
    {"computeFault": {"message": "The server has either erred or is incapable
    of performing the requested operation.", "code": 500}}
    
    After this change, the new message is as below:
    --------------------------------------------------------------------------
    {"badRequest": {"message": "limit param must be an integer", "code": 400}}
    
    Fixes Bug: 1154454
    
    Change-Id: Ifb155477bae0ea3e39877737ee9019e7d8a104a7

commit 65e291054681e45d3160d995c5648b8311bc1a69
Merge: 7afbcf3 9cd46a4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 21 04:21:00 2013 +0000

    Merge "Remove the log spam generated by the NetApp driver unit tests."

commit 7afbcf36ac182a9b7d856b1937d29ca558d14bb8
Merge: 090e59d eae0264
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 21 03:26:28 2013 +0000

    Merge "Update Cinder's latest copy of OSLO grizzly stable"

commit 090e59d79135bc9c30e8c69eba086b4a14cb9eea
Merge: 4408b86 c946f91
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 21 03:26:26 2013 +0000

    Merge "Add missing processutils for impl_zmq in oslo rpc"

commit 4408b8605be51323094edaeacdf205dc550c0adc
Merge: 5718774 cf1ec9c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 21 02:50:10 2013 +0000

    Merge "Speedup solidfire unit tests"

commit c946f917d73b40d2173887d0b0df66174fecbd33
Author: Eric Windisch <eric@cloudscaling.com>
Date:   Wed Mar 20 18:06:14 2013 -0400

    Add missing processutils for impl_zmq in oslo rpc
    
    impl_zmq in oslo rpc requires processutils.
    
    Change-Id: Ib2f114a9e78af6d2acdab34c8c787df8abdb967a

commit eae0264782818342c222c18b549e9cda354c867b
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Mar 20 13:18:12 2013 -0700

    Update Cinder's latest copy of OSLO grizzly stable
    
    This patch updates all the files from oslo under
    stable/grizzly but policy.py.  policy.py is a high risk
    change at this date and it has lots of changes since the
    last time we updated it.
    
    Fixes bug #1157126
    
    Change-Id: I399a1cd8474f718ed5196def90d2fea546fb01f5

commit 9cd46a4461c3fb060eedadf457d587e8d019bdef
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Mar 20 11:38:08 2013 -0700

    Remove the log spam generated by the NetApp driver unit tests.
    
    Change-Id: Iae6a4f0a1553b4b461bd024c29ba6ff4e9db737f
    Fixes: bug #1157910

commit cf1ec9ca6668dc3f4a7cd453d16dc4ced1d97c68
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Mar 20 12:24:36 2013 -0600

    Speedup solidfire unit tests
    
    The SolidFire driver has a sleep that's used in a retry loop.  This
    sleep was being called every iteration of the loop though
    (instead of just when the call failed).
    
    This made SolidFire the slowest test in the unit tests, and obviously
    it's just stupid anyway.  So this change fixes that and only performs
    the sleep if the call actually failed.
    
    Change-Id: I560f2fdb6bf16a6a9b26184234225349ab62e816

commit 5718774c3b8c04292df5b8a064637c80c2260b4d
Merge: 14fe473 f117a0e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 20 18:23:19 2013 +0000

    Merge "Add snapshots to the volume usage audit report"

commit 14fe473984812e623301b2617f78ab2e61c2cfd3
Merge: dd6daae 3a77a38
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 20 15:02:12 2013 +0000

    Merge "Rename cinder-rtstool to rtstool"

commit dd6daae675ffbf8aeb824ac8adac10d942b8e549
Merge: 44c0b6c 2132f7a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 20 14:55:10 2013 +0000

    Merge "Use OpenStack common project requires."

commit 44c0b6c1a4443eb3e13499249d9ae516a55fdfdf
Merge: 0cc6a51 e0878c8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 20 04:35:45 2013 +0000

    Merge "Fix Storwize/SVC LUN allocation with holes."

commit 0cc6a51af5bbc46c1d68bc96d3fb51478c2ca48c
Merge: 9d551a0 ea10f1b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 20 04:34:15 2013 +0000

    Merge "Allow snapshot_delete for NFS/GlusterFS drivers"

commit 9d551a0ff7d476242a19e16102e52048b245005c
Merge: 34a8c8e b66c336
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 20 04:33:09 2013 +0000

    Merge "remove cinder-rtstool because of rtslib dep"

commit 3fe81851bab39a1466d8744b372b5a287b4db93d
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Mar 19 19:37:47 2013 -0400

    Updates to OSAPI sizelimit middleware.
    
    Updates the OSAPI sizelimit middleware so that we use avoid calling
    len on a request body which could cause a really large request
    to get buffered into memory.
    
    Also updates the middleware to return HTTP 413 which is a more
    correct error code in this case (previously it returned just 400).
    
    Fixes LP Bug #1131857.
    
    Change-Id: Iff6cb0c24bc21e5a1d5dd4cf29acb0b4ee221708

commit 2132f7a1a33b3f5043d4af58cf767f97489b30b2
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Mar 19 15:31:11 2013 -0600

    Use OpenStack common project requires.
    
    This patch is an update of pip-requires and test-requires
    using the openstack/requirements script.
    
    One exception was made to pep8, which is being fixed in the
    upstream script.
    
    Change-Id: I4bd61e0ec6f1995f9f36a724eb8dbe15345caca0

commit 3a77a387f0be2cb83fcd013d765ed92e0cfac4eb
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Mar 19 16:40:19 2013 -0400

    Rename cinder-rtstool to rtstool
    
    Since rtstool is being distributed externally, it will be named
    rtstool rather than cinder-rtstool.
    
    Change-Id: Ieff072ab8315928ed02837aff63c08601b1d2acd

commit 8e8f200d909ff62c9286d585e658dab93bdfea67
Author: Christoph Kassen <c.kassen@telekom.de>
Date:   Tue Mar 19 21:50:51 2013 +0100

    Make dd block size user configurable
    
    This patch introduces a new configuration option volume_dd_blocksize
    to change the bs parameter passed to the dd command when creating or
    deleting volumes. In certain scenarios changing the block size might
    result in better performance.
    
    The default value is still 1M, which was used before.
    
    Change-Id: I0398436ab3ecca51f6121e8f521af8b2dc60acd3
    Fixes: bug #1157417

commit 34a8c8e51a2f1b6b25ed6833ad60a0d89e3770ee
Merge: 8ede0b0 2b66a38
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 19 19:34:34 2013 +0000

    Merge "Pull Oslo log fix to enable root logger initialization"

commit b66c3361be2095186e19b0d44e49a8b2c48f7235
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Mar 19 15:30:26 2013 -0400

    remove cinder-rtstool because of rtslib dep
    
    rtslib is AGPL, so cinder-rtstool is defacto AGPL by importing it.
    Remove cinder-rtstool from the OpenStack repository.
    
    Fixes bug #1157091
    
    Change-Id: I30c9ee19d43107fa7f2e5e65d69049b8d69d2bdf

commit 8ede0b09569892c51d980169958d16bdf5efb053
Merge: 2242fd3 d75671c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 19 19:27:19 2013 +0000

    Merge "Remove references to FLAGS from volume/manager.py"

commit 2242fd3af845c5d9c62a2b2b0cde7442998cc6b2
Merge: 7bb449a 45a4bbd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 19 19:27:16 2013 +0000

    Merge "CoraidDriver: retrive volume info (improvement)"

commit f117a0e22a30136ec20661a65020004c38e55f93
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Tue Mar 19 18:04:39 2013 +0000

    Add snapshots to the volume usage audit report
    
    * Added tests for db api call volume_get_active_by_window called by the volume
    usage audit report.
    
    * Added new db api called snapshot_get_active_by_window & test it. This is
    similar to the volume_get_active_by_window method but returns the snapshots
     active the supplied time window.
    
    * Integrate the above into the cinder-volume-usage-audit script to report on
      all the active snapshots as well as volumes in the specified time frame.
    
    Fixes: bug #1157110
    
    Change-Id: I7597da20c62150a8f6c74cbfeec159f68064d2a6

commit 45a4bbdcf9e6c4d337384c0ebeb4d25eb0ec0a8c
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Tue Mar 19 16:56:21 2013 +0100

    CoraidDriver: retrive volume info (improvement)
    
    Some portions of code into this method are useless since
    the REST API on Coraid side has been improved.
    
    Fixes bug #1157242
    
    Change-Id: Ie37b5b76710e77acb2acf627c9688e4f931e686c

commit 7bb449aa5a0a069cc6df918acc33bf550fbd5834
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Mar 19 09:02:52 2013 -0600

    Remove AGPL rtslib pkg from pip-requires.
    
    Fixes bug: 1157091
    
    Change-Id: I1879712ab33324740496b284500fa2b22a1bc310

commit c0500570885e124ad2167db9232110c668ed9916
Merge: 18a99ca c47bf9b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 19 14:06:32 2013 +0000

    Merge "Implement get_volume_stats in NFS driver"

commit e0878c86207d5ff5c2ebaa69eac454af545925ef
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Mar 19 09:42:06 2013 +0200

    Fix Storwize/SVC LUN allocation with holes.
    
    The Storwize/SVC driver should find the first unused LUN, but
    continues searching, returning erroneous results.  Added 'break'
    statement to fix.
    
    Change-Id: Ibd95714e086a513a39fe9d20ffec57135dc5ec55
    Fixes: bug 1157012

commit 18a99ca4c6af2c14d335c8158eda81d2b3c5ca85
Merge: 4c5f276 fb65dcb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 19 06:11:57 2013 +0000

    Merge "Clean up exec_dirs prefix from rootwrap conf"

commit d75671cce045b61e1a00642f815a89c129cda177
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Mon Mar 18 18:05:02 2013 +0000

    Remove references to FLAGS from volume/manager.py
    
    Note that we still must import flags.py because volume_topic is defined
    in the list global_opts in flags.py.
    
    Fixes bug #1153551
    
    Change-Id: I3d37bde4ba895c110390cea92385344ff94cb7d1

commit ea10f1b8291cb07962577699abe13648a4bdca58
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Mar 18 12:21:40 2013 -0400

    Allow snapshot_delete for NFS/GlusterFS drivers
    
    RemoteFsDriver should allow snapshot_delete, since snapshot_create
    for NFS and GlusterFS volumes will create a snapshot in the error
    state which cannot be deleted afterward.
    
    snapshot_delete() should allow this to be removed rather than
    throwing NotImplementedError.
    
    Fixes bug: 1156686
    
    Change-Id: I4307878fa97fbce5bd733a83fa172509e2fba8ce

commit 2b66a382aae3e1c80342feb32549c427677d39c6
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Mar 13 13:58:27 2013 +0800

    Pull Oslo log fix to enable root logger initialization
    
    Previous log module in Oslo doesn't initialize root logger, which results
    in lacking of log message for non-openstack library (such as stevedore).
    This patch pull latest log module from Oslo, which has recently merged a
    change to enable root logger initialization.
    
    Notice that this change also includes one log modules fix in Oslo which
    'unignore' log_format setting.  As a result, one may experience log format
    change when using devstack.  To get old log format back, simply assign
    a NULL string (aka nothing) to 'log_format' configure option in cinder.conf.
    For example, just append cinder.conf with one new line 'log_format = '.
    
    Fix bug: # 1131322
    
    Change-Id: I86396f15ca152512ce6d18d6d424a855b27f495e

commit 4c5f27638f5e41557c4f5a4cce393c066cb65280
Merge: db89825 6de6cfe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 18 09:22:57 2013 +0000

    Merge "Fixes dettach volumes in Windows cinder plugin"

commit db89825a535a2867c67510751dcb90d4c1315b71
Merge: 0f353e7 7817d12
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 18 05:14:55 2013 +0000

    Merge "Use self.configuration to support the multi-backend case"

commit fb65dcb4d9a1a58aa68cbc5982f5c76b7cfaef81
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Fri Mar 15 16:26:27 2013 +0100

    Clean up exec_dirs prefix from rootwrap conf
    
    Specifying the full path to binaries in exec_dirs
    is not necessary and actually causes a problem if
    the binary is in a different path. The rootwrap
    infrastructure allows the binaries to be in all
    paths specified by exec_dirs.
    
    Change-Id: Ic16a779e916cd3b727db54b034d069c122aa45df

commit 0f353e794faac9f4a67d1628034d13507fc9785c
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Fri Mar 15 14:40:10 2013 -0700

    Fix typo in persona valid values
    
    The 3PAR drivers have a persona extra spec that has a valid
    values with a typo in it. The value '11 - VMWare' should be
    "11 - VMware', note the lower case 'w'.
    
    Fixes bug 1155781
    
    Change-Id: I70ab255e1ec6a4b83437b072a7eb4fe11eafc710

commit 7817d12439a4c86d3015ce8e6a74f72804fdfd24
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Fri Mar 15 23:14:39 2013 +0800

    Use self.configuration to support the multi-backend case
    
    Use self.configuration instead of using FLAGS directly to make
    the driver work in a multi backend environment.
    And remove three repeated lines:en = out.split('\r\n')
    
    Fixes bug: 1154125
    
    Change-Id: I6e08706104eabb71677ec8583b9abb9711553504

commit 65e86b00d0a909bf2bc1a939481c2a9138d081c6
Merge: 36e4e85 f35240b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 15 13:33:30 2013 +0000

    Merge "Bump version for Grizzly RC1 cut"

commit 36e4e85b1f669a9fed873f4a43c783947430c763
Merge: 1d52582 d4a3edf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 15 13:33:05 2013 +0000

    Merge "Fix _migrate_up in test_migrations"

commit 1d525827e5562c4079fcb757cf8dac2ee21c5ac0
Merge: 3c9a76b b7bccb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 15 04:51:47 2013 +0000

    Merge "Switch to final 1.1.0 oslo.config release"

commit f35240b7a0dc7f5b95bd2c261fd64dd05142013f
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Mar 14 22:17:41 2013 -0600

    Bump version for Grizzly RC1 cut
    
    Change-Id: Ibec70d74c26e47caa5de7ef943ffa81c9386d7ae

commit 3c9a76b8ae6438326fb0ceaa8fa6abf7d11f3140
Merge: 30ccf61 e8e0cdb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 15 03:55:10 2013 +0000

    Merge "Compression/tier capabilities for Storwize/SVC."

commit 30ccf6123ae3d24b919a72048925a089d3fb57a9
Merge: 019c97c 1772bd1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 14 23:59:30 2013 +0000

    Merge "Fix ISCSIDriver rescan."

commit 019c97c597d0b5ffee8a129a33594c6d6b66cfa2
Merge: 4b52b14 f040e4d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 14 22:59:47 2013 +0000

    Merge "Fix 3PAR driver hiding existing host error"

commit 4b52b1481e3cb6c358252826785228638b0f717d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Mar 11 09:21:56 2013 -0600

    Count Snapshots towards volume/gigabyte quotas.
    
    Cinder has quotas and limits for volume-count and Gigabytes used,
    however we were only counting volumes against these quotas.
    
    This change introduces a snapshot-count limit and also counts
    snapshots against this Gigabytes quota allowed for a Tenant.
    
    Fixed bug: 1137927
    
    Change-Id: Ib9b00b84b05597de9b5725a7f5898fe10a20b9d9

commit f040e4d6e7d2c25ce626fa0ddd67ed0122bd22ae
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Mar 13 14:35:16 2013 -0700

    Fix 3PAR driver hiding existing host error
    
    This fixes a problem with the 3par drivers where creating
    a 3par host was failing but there was no message.  The driver
    would fail to find the host after the creation failed and the
    log entry would show that the host didn't exist.   The real
    error was failing to create the host.
    
    bug #1154700
    
    Change-Id: I2267d958f10cc73c6c5f34d224ea3452a4402f18

commit adb8ba7bff2bc4e2657cf84e9f061433ff947a73
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Wed Mar 13 13:28:10 2013 -0400

    Switch all uses of 422 response code to 400.
    
    The 422 response is normally only for WebDAV, and these types of
    errors should normally return a 400 code, HTTPBadRequest. This
    commit goes through all the remaining 422 codes and changes them
    to 400 responses.
    
    Fixes bug 1153807
    
    Change-Id: I9bf49643763c2cb0ac585641056c85a060152e36

commit c47bf9bc3835d4399185376ac07920ef903d79e8
Author: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>
Date:   Fri Mar 8 13:01:57 2013 +0100

    Implement get_volume_stats in NFS driver
    
    Use the already existing code (ie: _get_available_capacity) to
    implement get_volume_stats in the nfs driver
    
    Change the netapp nfs driver to use this new implementation
    instead of the dumb one.
    
    Fixes bug #1152501
    
    Change-Id: Ie16d9628ba4b096c60966b4aa6192fbdcb9a4f20

commit b8885203c12e2a963c614183a832063bf5ffdc48
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Thu Mar 14 08:31:49 2013 -0400

    cinder-manage does not print any version information
    
    'cinder-manage --version' does not print anything. We need
    to pass in the version information along with the argv and
    project information
    
    Change-Id: Ia826874cbbc3316226fb475646a0c146fd3a5955

commit 1772bd15f0def2e8e041fad417bd6c04be998a96
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Mar 14 13:44:19 2013 +0200

    Fix ISCSIDriver rescan.
    
    Cinder fails to rescan iSCSI targets after running copy_image_to_volume
    or copy_volume_to_image with the generic iSCSI implementation, due to
    a missing comma.
    
    Change-Id: I726e8da1f0221e47bae2593e03bc88a47c487814
    Fixes: bug 1144591

commit e8e0cdbbc0a1e4d1f9c5d74ada135ea91e02ef3b
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Mar 13 14:56:30 2013 +0200

    Compression/tier capabilities for Storwize/SVC.
    
    Compression and tiering support were not exported as capabilities,
    and are important features.
    
    Also fix a couple bugs introduced by
    https://review.openstack.org/#/c/23830/
    
    Change-Id: I41c304d0da89a050c0345b930b3f45741214b425
    Fixes: bug 1146341
    Fixed: bug 1155071

commit 6de6cfebd4398c9912eb1683c91226d5d27cf7e4
Author: Pedro Navarro Perez <pednape@gmail.com>
Date:   Tue Mar 12 04:48:02 2013 -0700

    Fixes dettach volumes in Windows cinder plugin
    
    The patch fixes issues when desassigning target to initiators
    in the terminate_connection method. The method now takes
    the right parameter coming from provider location.
    
    Change-Id: I2ea1ac7f46e3a24a6493af8eba46a113126e1117
    Fixes: bug #1153968

commit 2d84a97df28fae40a8b5b3d422a702794284beb8
Merge: 3f888b9 c09f699
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 13 09:43:09 2013 +0000

    Merge "Fix bugs for Huawei driver"

commit d4a3edf3a51757db99aee38762c709146c320f62
Author: Chris Yeoh <cyeoh@au1.ibm.com>
Date:   Wed Mar 13 12:23:53 2013 +1030

    Fix _migrate_up in test_migrations
    
    _migrate_up should always actually do a db upgrade whether or
    not it is being tested with data or not
    
    Change-Id: I28cbab36a5227903ff40a3243492b34d4b82a223

commit b7bccb9c9b2797400a223ec50cad21c6320d8450
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Mar 12 16:33:53 2013 +0000

    Switch to final 1.1.0 oslo.config release
    
    Fixes bug #1128256
    
    oslo.config has now been released to PyPI in time for Grizzly RC1 so
    we can switch to using it directly.
    
    Change-Id: I655f831718ae5f4e25e941ee206fe195214a9a91

commit 3f888b9518169cd0cf12da94d4e9a357642f4908
Author: Cian O'Driscoll <cian@hp.com>
Date:   Mon Mar 11 13:47:02 2013 +0000

    Adds a flag to set glance api version to call
    
    Allows a glance api verion to be set using a flag.
    Cinder will generate a version of the glance client as per this
    flag.
    
    Fix bug: # 1152542
    
    Change-Id: I80423f5d88e7ccf0614f89d3c15d983f0af9c333

commit 09925bf823b6f00ad373a7d5758b6950fea181a8
Merge: 1a23207 6a7e93d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 12 07:36:26 2013 +0000

    Merge "Fix bad request response code on extra_specs create."

commit 1a23207460a4c3229e650d90d6441dca21f0cf5c
Merge: 8963dcc 7ba5207
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 12 05:28:33 2013 +0000

    Merge "Storwize/SVC driver fix for multibackend scenario."

commit 8963dcc4395d10f46fd4698a4ab16ab87a5be517
Merge: 59a16a1 4e41878
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 12 00:05:41 2013 +0000

    Merge "update error log arguements in filter scheduler"

commit 7ba5207f2b06ffdec8a68fd5acd70e2c208a9fa4
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Mar 5 11:23:01 2013 +0200

    Storwize/SVC driver fix for multibackend scenario.
    
    In order for the Filter scheduler to be used to it's full advantage
    Cinder drivers need to move away from using FLAGS directly and switch
    to appending their specific options to self.configuration.
    
    Fixes bug: 1135391
    
    Change-Id: I8d07346c03d1cf2479738f7161ee0a0cb9f518a0

commit 59a16a12f38e910bb91f63a664eeee34fd0d18ef
Merge: 15cd9ac e342ff4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 11 21:27:25 2013 +0000

    Merge "Do not use prefix to lookup host in Storwize/SVC."

commit 6a7e93dfc750e08e95c6b53b122407c763883c6c
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Mon Mar 11 16:51:24 2013 -0400

    Fix bad request response code on extra_specs create.
    
    This commit changes the error response on a bad body from 422 to 400 for
    an extra spec create request.
    
    Fixes bug 1090356
    
    Change-Id: I7925bbd53fb9647440532b206feee3421fb9f38b

commit c09f69948df29e84907960f69fb5ef46745ebef6
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Tue Mar 5 00:07:41 2013 +0800

    Fix bugs for Huawei driver
    
    This fixes two bugs for Huawei iscsi driver.
    (1)If firstly we map LUN 1(just not LUN 0) to host,we can also
    find LUN 0 mapped,whose device path is '-'.Then we will failed
    to map a real LUN 0.So,we avoid mapping LUN 0 to host by setting
    every volume's host LUN ID larger than 0,instead of generating it
    automatically.
    (2)Check valid size of resource pools when creating snapshot and
    make sure it larger than 1 GB.
    
    Fixes bug: 1135618
    Fixes bug: 1136980
    Change-Id: I412e78bf84c95cb51431c45cc084e9ec6a8efb78

commit 15cd9ac7427255dcba8c783c65b67134b85e2887
Merge: 9f70ee5 3d9a51e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 11 11:54:52 2013 +0000

    Merge "Update oslo rpc libraries"

commit e342ff4b509a4184bfa984b467e9cd79b53ed9af
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Mar 7 19:18:54 2013 +0200

    Do not use prefix to lookup host in Storwize/SVC.
    
    Currently, the Storwize/SVC driver creates a host name prefix for host
    objects on the back-end, and uses that to look up hosts. However, if a
    host was already created with a different name (for example, manually
    by an admin), the host creation operation will fail, as a host with
    that connection information already exists. Instead, we look up a host
    based on available connection information.
    
    Fixes bug: 1149072
    
    Change-Id: I336dbea85bfaf928a550a15d177e2b9b0ffd38bf

commit 4e41878082469f77d265b39e045e22fa15edca0c
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Mon Mar 11 11:06:21 2013 +0800

    update error log arguements in filter scheduler
    
    There's one log issue in filter scheduler fell off radar in previous
    fix, this change closes the gap.
    
    Fixes: bug #1130867
    
    Change-Id: I78def31bd9ff4349cd1332cb96ef6311ce9eac20

commit 9f70ee5cb7b2e7de8297a6dab2999c2bb3c980d1
Merge: 992b532 67dd248
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 11 05:45:06 2013 +0000

    Merge "LIO iSCSI initiator ACL auto-config"

commit 992b53255ab1533ffddabdf158c81c6d10c17761
Merge: 9a6ed12 a332cb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 06:37:18 2013 +0000

    Merge "Fix a few bugs for LeftHand Grizzly"

commit 9a6ed1251a83cd014c00166c9bb347b9f1dfa35c
Merge: 4cdf2e5 b3ee8b7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 06:36:57 2013 +0000

    Merge "Fix calling setUp() method of superclass from tearDown method."

commit 4cdf2e50da2091cf67d7cef74019e443853c770a
Merge: 8d28030 9f801f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 06:05:13 2013 +0000

    Merge "Removing flags in RBD in favor of configuration"

commit 8d280300047734befa72ae28603ab02957064354
Merge: 3a3726c 6c8d860
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 05:38:21 2013 +0000

    Merge "Fix volume capacity reporting"

commit 3d9a51efa7014b06e7c3fd2fd6c127b7591de20b
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Fri Mar 8 05:59:23 2013 +0000

    Update oslo rpc libraries
    
    Update oslo rpc libraries to capture changes, primarly motivated
    by secret=True flag on password config options. Skipping broken,
    invalid test case while working on correct fix.
    
    Change-Id: Ibb979189b4a6215f307cb49e4a17070ffc7f0f51

commit 3a3726c6079b2de4cbe605f4584ffe87dcc169b0
Author: Mike Perez <thingee@gmail.com>
Date:   Sat Mar 9 00:40:39 2013 -0800

    Remove/update unused log arguements in manager
    
    Fixes: bug #1130867
    Change-Id: I6f9a9c33530e92fa9ce22bd44ef7c40f7e355b04

commit 9f801f3f300347fcfece5882c1ea56925dc3f077
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Mar 8 23:46:33 2013 -0800

    Removing flags in RBD in favor of configuration
    
    Not needed since we're using configuration for multi-backend support.
    
    Change-Id: I9634fca5d09ca84ef793e330def13176265dac31

commit 67dd248bcb93db4eb707cb40c199df1d66b7f083
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Feb 28 18:14:11 2013 -0500

    LIO iSCSI initiator ACL auto-config
    
    Currently, IQNs of remote nova compute nodes must be specified in
    cinder.conf for them to be added to LIO's ACLs for LUNs.
    
    This change will handle this at volume-attach time instead.
    
    Change-Id: I278ce737042b15bd4d100d331564c1377bac0c55

commit a332cb941906557bb7e96706d3827e2cd1bd07f2
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Mar 7 16:19:14 2013 -0800

    Fix a few bugs for LeftHand Grizzly
    
    This patch fixes a few issues with the LH driver.
    1) attach wasn't working because there was no host
    created.
    2) get_volume_stats didn't exist.
    3) fixed the unit tests to work with the new config
    access.
    
    Bug 1062508
    Bug 1150663
    
    Change-Id: I6f80c3d5c70b64ca6496e50fedcb6b3ca0e2be43

commit cb904d0d4c121ad2cee85960e2a4338cadba2ba9
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Mar 7 13:07:56 2013 -0500

    Update tox.ini to support RHEL 6.x.
    
    In order to support running unit tests on RHEL 6.x we need to patch
    eventlet with contrib/redhat-eventlet.patch. We already
    have support for this in the tools/install_venv_common.py but we
    need to make a couple changes to allow tox to consume this:
    
    1) Sync in the latest intall_venv_common.py from oslo. This changes
     patch to use the -N option (ignore already applied patches) and
     makes it safe to call the patching function more than once.
    
    2) Add a new patch_tox_venv.py script in tools.
    
    3) Update tox.ini to call patch_tox_venv.py before it runs tests and
     coverage.
    
    NOTE: This will hopefully go away eventually once this patch lands:
    
     https://bitbucket.org/eventlet/eventlet/issue/89/add-a-timeout-argument-to-subprocesspopen#comment-3342969
    
    Change-Id: I3e2b07c3f718e4aede5c5f231ff0cdb7721ec885

commit 6c8d860507a66424cf47b46380478b3cc565359e
Author: Christoph Kassen <c.kassen@telekom.de>
Date:   Wed Mar 6 19:37:42 2013 +0100

    Fix volume capacity reporting
    
    cinder-volume crashes when the decimal point is not represented by a dot
    but by a comma instead. This crash happens for example with the de_DE
    locale.
    
    This change replaces any comma appearing in the vgs command output with
    a dot.
    
    Test case added.
    
    Fixes: bug #1151684
    Change-Id: I831055fb7fd206a8560688ec4c25d766e92ee0f0

commit 42a4aae9f83414cfae8626f031d0fdf83efc38e7
Merge: 8d038a0 6abb573
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 05:54:41 2013 +0000

    Merge "Pull newly merged Olso update for 'is' operator"

commit 6abb5733968c9bf558a941c4d9cbd14e5ddf3768
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Mar 8 16:54:03 2013 +0800

    Pull newly merged Olso update for 'is' operator
    
    A recent update to common/scheduler/filters/extra_specs_ops.py in
    Oslo added new 'is' operator to allow Boolean check. The original
    commit message was:
    
    "Boolean values for capabilities don't work because extra_specs are
    all converted to unicode. The scheduler will then check, for example,
    if the boolean 'True' is equal to the unicode string 'True', and will
    always return False. This patch allows admins to specify '<is> True'
    in extra_specs, which will compare successfully to boolean True."
    
    Notice extra_specs_ops now relies on strutils from Olso, so this
    change pull strutils from Oslo as well.
    
    Fix bug: # 1146306
    
    Change-Id: I83adf707c30274a3862aa8034e72c3361fd19952

commit 8d038a0f598de8f8c3989a53715150460755d4ec
Merge: d189740 80c8d32
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 05:02:50 2013 +0000

    Merge "NetApp bug fix for multibackend scenario."

commit d189740fb5c3eed64fb0881c497128cbe74d3131
Merge: af5d4b3 0f150c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 01:38:56 2013 +0000

    Merge "Mark configuration option netapp_password secret"

commit af5d4b323597e3654b4e41af5ee19f5fe395ae35
Author: Monty Taylor <mordred@inaugust.com>
Date:   Mon Feb 11 13:57:27 2013 -0600

    Use nose and openstack nose plugin.
    
    It's a little silly since we're working on removing nose for testr,
    but it turns out that the old test run wrapper was in use here, which was
    causing all sorts of havoc.
    
    Change-Id: Ib6e31547ec4921f91b6253a1798cb04ca6930c87

commit a7ebea04d1b20699bae474a0ffa1ed435fb8c0f7
Author: James E. Blair <jeblair@openstack.org>
Date:   Thu Mar 7 08:55:00 2013 -0800

    Exit run_tests with the result code of the test runner.
    
    Change-Id: Ie117e258c3ce78080ab55715daa8cf14f9967ce4

commit 4c52cd0b020c8221185454a87d6d03d732d2c2f4
Merge: 100ee36 bda8dd0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 7 07:23:20 2013 +0000

    Merge "Fix Storwize/SVC storage_protocol reporting."

commit 0f150c90a1e950b64333c73f151fd470c7819dc2
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Thu Mar 7 07:10:18 2013 +0000

    Mark configuration option netapp_password secret
    
    Mark netapp_password configuration option with secret flag.
    
    fixes bug 1151510
    
    Change-Id: I4b04ae610f61c30e8d061b2be710bb48d7afae66

commit 100ee36e0c69e5bdeccca16cb82eac1801f5c4bb
Merge: 6e0b45b 1f15a3f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 7 06:45:50 2013 +0000

    Merge "Fix 3PAR drivers to work in multi-backend mode."

commit 6e0b45b44ffc00f4aa6e7d82194fd04bc0f8fb01
Merge: f09ba45 1867b89
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 7 01:29:40 2013 +0000

    Merge "Add get_volume_stats in the sheepdog driver."

commit f09ba45116bdeba7a62e473455c13f02c4a375ba
Merge: fafb1f3 a4bc4d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 6 17:13:52 2013 +0000

    Merge "Switch to oslo.config."

commit fafb1f30fbb70ce215be4afed951cba63728bc4f
Merge: 6ba8868 d595d34
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 6 07:07:24 2013 +0000

    Merge "NetApp: Fix for snapshot not deleted in error state."

commit 1867b89a53e3e46394e9db80e0dc82471661068c
Author: Wenhao Xu <xuwenhao2008@gmail.com>
Date:   Sun Mar 3 01:19:08 2013 +0800

    Add get_volume_stats in the sheepdog driver.
    
    1. Allow sheepdog driver to report capabilities to the scheduler.
    2. add the initial test_sheepdog.py
    
    Fixes Bug #1140162
    
    Change-Id: I6fb1fb6714ab4ae9878b593e6eee0a94d95ef29f

commit a4bc4d34fb4076675688965670bfb36e32cb9fce
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Mar 5 22:29:35 2013 -0500

    Switch to oslo.config.
    
    The oslo-config package has been renamed. Switch to the new
    version. (should fix SmokeStack).
    
    Change-Id: Ic8cc9f53b7c4713e7bce7db47ad2021912d3b5db

commit 6ba88681dd040f51e1ea0ff615c98e48cbe49d6b
Merge: 93960a1 816131e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 6 03:15:47 2013 +0000

    Merge "sync oslo changes for setup / version"

commit b3ee8b799cd5bd33326d8a9f8baf8f1bcf2eb20c
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Wed Mar 6 05:30:39 2013 +0530

    Fix calling setUp() method of superclass from tearDown method.
    
    In test_netapp.py, the tearDown function was calling setUp of
    superclass instead of calling tearDown of superclass. Fixed it
    here.
    
    Change-Id: Iab65e60193edcd47d09d7788b0951ef66d816e38

commit 93960a130531f7f4a850369c98810c947a7e61a9
Merge: 2870a28 6d2693a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 5 23:56:35 2013 +0000

    Merge "Fixes issues found in /os-hosts API"

commit 1f15a3fe938085612d178253b5121a03dfbade73
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Feb 28 10:06:02 2013 -0800

    Fix 3PAR drivers to work in multi-backend mode.
    
    The 3PAR drivers weren't updated when the multi backend
    patch landed on G3 day.  This patch implements the new config
    mechanism to accessing FLAGS, so that it works when an admin
    has multiple drivers active.
    
    This fixes
    bug 1131346
    
    Change-Id: Icc5475d15bfd0fa14aae12ab8a8370a894e46857

commit 2870a287406820fff5f5f36bd53e3ebeed2945f2
Author: Xing Yang <xing.yang@emc.com>
Date:   Sun Mar 3 00:06:29 2013 -0500

    Fixed copy image to volume and clone volume.
    
    This patch fixed the following issues in EMC driver found during G3 testing:
    1. VNX array has two storage processors and it is doing load balancing when
    attaching a LUN to a host. The storage processor used to attach a LUN to a
    host is different from the one discovered by the driver sometimes, causing
    Copy Image to Volume to fail.
    2. The clone relationship is removed after a volume is successfully
    cloned. However, this happens too soon sometimes before the cloned volume
    is fully synced with the source volume.  The fix is to wait until it is
    fully synced.
    
    Change-Id: I5b8fab263723c47faf30b950a611c5bde7f29092
    Fixes: bug #1135221

commit 6d2693a13e9b33da6b13e13f587f99a20b2fe2d0
Author: Fei Long Wang <flwang@cn.ibm.com>
Date:   Sun Mar 3 16:48:22 2013 +0800

    Fixes issues found in /os-hosts API
    
    There are some issues found in Cinder /os-hosts API:
    
    1) Bracket in the wrong spot in Cinder HostController show method
    There is an erroneous bracket on the following line in the show method
    that should be at the end of the response:
       'total_volume_gb': str(sum)},
    
    2) XML Attributes Missing for List/Index method in Cinder HostController
    The HostIndexTemplate class specifies mapping for "host" and "topic"
    attributes rather than any of the ones that are actually returned from
    the index method.
    
    3) XML Serialization is commented for Cinder HostController show method
    
    Fixes Bug: 1139984
    
    Change-Id: I881e80b5e109ed6ddcc4f7c4bf5749ab6dca563d

commit bda8dd050e75e11e269bc00fee34917e5ae4f0cf
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Mar 5 10:00:11 2013 +0200

    Fix Storwize/SVC storage_protocol reporting.
    
    The Storwize/SVC driver supports both FC and iSCSI protocols
    simultaneously. Therefore, 'storage_protocol' should be defined as a
    list of enabled protocols, not simply 'iSCSI'. The extra_specs
    key-value would then be, for example, storage_protocol='<in> iSCSI'
    or storage_protocol='<in> FC'.
    
    Fixes bug: 1142196
    
    Change-Id: Ib99a6d4e4e61d07ddb4f173c13fe7e9f5482fa2b

commit 816131eb729b340e8ef1ee8fc9eab49114295296
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Mon Mar 4 15:10:02 2013 -0500

    sync oslo changes for setup / version
    
    this fixes the fact that run_tests.sh wouldn't work in a venv with
    a clean cinder checkout. Yay for fixing being able to run tests.
    
    Fixes bug #1125416
    
    Change-Id: Ic341c3b878cc566f8d2f6a3b2c9d1fa62fc52261

commit 15962a4d13334b2265120e67ab4222b119e95c3e
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Mon Mar 4 16:10:34 2013 +0000

    swift backup service checks version during restore
    
    Modified swift backup service to check metadata version during restore
    and raise an error if the backup version isn't a version that the
    service knows how to handle. The versions which can be handled are
    described in a dictionary mapping versions to methods which can handle
    them. This will facilitate graceful handling of newer backup formats by
    the swift backup service when we introduce changes.
    
    Fixes bug: 1136174
    
    Change-Id: Id7d05848fd448ce21f641e5cd6945477702cbe38

commit f211c150cb60615fc4352bb4145dd15cac0d3fd1
Merge: e997826 0c2ce65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 3 17:18:34 2013 +0000

    Merge "Add some useful log to filter scheduler."

commit 0c2ce65014be15430b37df83e12d970052a028b4
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Feb 28 18:34:07 2013 +0000

    Add some useful log to filter scheduler.
    
    When the filter scheduler is unable to find a suitable host to
    deploy a volume on it simply logged a warning "not hosts found".
    This isn't very helpful, so this patch adds some logging info as
    far as why no valid host was available.  This just focuses on the
    capacity filtering as that's where I've commonly seen this issue
    particularly in tempest runs.
    
    Also noticed that the get status was checking for "if Not capacity",
    but this is wrong because free capacity==0 would be interpretted as
    failing to get capacity.  Change this to "if is None".
    
    Fixes bug: 1136147
    
    Change-Id: Ia1ce508826ee69ae68a250ea68616909c59974e5

commit e9978269901658f5b463f5096661afde5ce8bb58
Merge: 5a6907e ce6e411
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 1 08:10:33 2013 +0000

    Merge "Only use iscsi_helper config option if using LVMISCSIDriver"

commit 5a6907ee72278057b990c60f5da8fc2db5779e0c
Merge: 94c564b a2830e5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 1 03:08:37 2013 +0000

    Merge "Elevate context for delete volume with no host."

commit 94c564b802e9ec40840ed7fa488d2a0ae075ada1
Merge: 218e2fe 3fc515e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 1 02:25:44 2013 +0000

    Merge "Improved fail_reason for cinder-backup swift connection errors"

commit a2830e5417539980249e3ab12d8bf9538d8956c4
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Feb 28 19:01:39 2013 +0000

    Elevate context for delete volume with no host.
    
    So in the case of a volume that is placed in error state
    on create and never actually deployed, the cinder.volume.api delete
    call does a short cut call to db.destroy_volume which is fine because
    all we have is a DB entry (scheduler never deployed the volume).
    
    Unfortunately, this requires admin context, so just add an elevate
    context to the db.destroy_volume call.
    
    Fixes bug: 1084273
    
    Change-Id: I0ef8bf4356047c385bef703b8dce7d5edf537bf6

commit 3fc515e77aa8a6bc3218dbd36b8ffbb9e7bf5b97
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Feb 28 12:11:39 2013 +0000

    Improved fail_reason for cinder-backup swift connection errors
    
    Modified swift backup service to catch socket errors when talking to
    swift and raise a specific SwiftConnectionFailed exception in these
    cases. This allows us to provide a more readable error message
    detailing the problem connecting to swift to the end user when they
    view the backup. Also reduced the default number of swift retries
    so devstack environments fail faster - production environments can
    tune these in cinder.conf.
    
    Fixes bug: 1132791
    
    Change-Id: Ibca744ea5adcbd31d068ac3d858bde6a4a0c9844

commit dd010690330e8304eadddab158ba5c2e3f57d8c8
Merge: 79fcdbe d346346
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 28 06:36:25 2013 +0000

    Merge "Convert from using FLAGS directly in SF driver."

commit d346346f77cd2cafebb7e73910ad77aae6f1c9fc
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Feb 21 22:06:26 2013 -0700

    Convert from using FLAGS directly in SF driver.
    
    In order for the Filter scheduler to be used to it's
    full advantage Cinder drivers need to move away from
    using FLAGS directly and switch to appending their
    specific options to self.configuration.
    
    This patch converts the driver and updates tests.
    
    Fixes bug: 1131553
    
    Change-Id: Id1a7c583894ac368bdcc61facc6f72300db320c7

commit 79fcdbea688075b7c20b22c1a636c54294d8cb8f
Merge: 015095e 9e14e07
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 28 02:33:03 2013 +0000

    Merge "Improve logging for volume operations via manager"

commit 015095ea305f9a7e901bda8c72ca0bdf633bfdef
Merge: 9a006ba 3cff1cb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 23:15:07 2013 +0000

    Merge "NetApp: Fix race condition in 7-mode iSCSI driver with DFM."

commit 9a006ba8882b556ef105480aeebe6c86b74bf64d
Merge: 14d449e 1b33067
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 23:04:00 2013 +0000

    Merge "Fix query filter in volume_get_active_by_window()"

commit 14d449e30c0036c67b676c4d56b683c280557729
Merge: 2664ed3 2a9fbd7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 22:47:23 2013 +0000

    Merge "Fixes the provisioning on selected volumes for NetApp 7 mode."

commit 9e14e07b8cc203506f8e6de515707a2e923cda17
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Feb 27 20:49:53 2013 +0000

    Improve logging for volume operations via manager
    
    A large percentage of the logging information was
    being done using debug.  This change moves some
    of the logging information to be info level and
    also tries to add some consistency in terms of
    the general create/delete operations.
    
    This includes moving logging for the basic operations
    into the manager and omitting the repetive messages from
    the drivers.
    
    Fixes bug: 1133131
    
    Change-Id: I792efde67f30d637431ad2fa45714e50bf9c705d

commit ce6e411e48f2d407286ddcf5ab8e966683e16c97
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Feb 22 11:27:29 2013 -0500

    Only use iscsi_helper config option if using LVMISCSIDriver
    
    _get_iscsi_properties checks for iscsi_helper == 'tgtadm',
    but this is run for drivers other than LVMISCSIDriver.
    
    Only change target_lun based on iscsi_helper if using
    LVMISCSIDriver/ThinLVMVolumeDriver.
    
    Change-Id: I8c63f8d4097682c875bbfdfade665fdacbcf8e22

commit 1b330677b283ce7b5f3fa57efe3a26b00ff38be1
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Wed Feb 27 18:30:38 2013 +0000

    Fix query filter in volume_get_active_by_window()
    
    Fixes LP bug #1131320
    
    Change-Id: Iec51ecbe49a76e3a5b7374b04f20949c77c52984

commit 2664ed38a3dbf54e468ec8a462765bfc63ab2889
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Wed Feb 27 09:15:57 2013 +0000

    Changed to INFO level logging for main cinder-backup operations
    
    Changed create backup, restore backup and delete backup operations to
    log key operations at INFO level instead of DEBUG level (so environments
    like devstack see main operations by default).
    
    Fixes bug: 1132788
    
    Change-Id: I3b4600be8fbc1869054f81752c92936d55395185

commit 218e2fe52c170d00e1975345dd17f76fad9e1db9
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Tue Feb 26 17:45:57 2013 +0530

    NetApp: Clean up lock file left behind by unit tests
    
    The synchronization decorator added to the NetAppISCSIDriver class
    creates a lock file named cinder/openstack/cinder-netapp_dfm
    during the unit tests. This commit cleans it up.
    
    Fixes bug 1135619
    
    Change-Id: Iec41a0f23d4a1c6668bdcb451c2c02efd3f97500

commit 3cff1cb24f7627dd913ce02a0f62c7ef85b5c37c
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Wed Feb 27 06:37:41 2013 -0500

    NetApp: Fix race condition in 7-mode iSCSI driver with DFM.
    
    A race condition was discovered in the driver while creating
    or deleting multiple volumes in a very short interval of time
    (can be reproduced by making successive API calls to Cinder).
    This fix decorates the methods responsible for race condition
    with a synchronized() decorator. The problem was with the
    management software: DFM, and in principle, there should not
    be two processes trying to modify the DFM dataset object at
    the same time. This patch prevents from such a possibility.
    
    Fixes bug 1091480
    
    Change-Id: I11cfc8868171acec356f4140aba52b8078d109df

commit b3aa7988d8bc092eb296b8abff71b6fe939ab1c8
Merge: f44100e edbfe4c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 25 02:22:17 2013 +0000

    Merge "XenAPINFS: Fix Volume always uploaded as vhd/ovf"

commit f44100e404245064a703b49eec3a3d45321dc8c1
Merge: 8e7f0b9 cde01d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Feb 24 19:42:22 2013 +0000

    Merge "allow run_tests.sh to report why it failed"

commit 8e7f0b9adc949281585539a86d99104dc8cc9aad
Merge: 614a23a 778141a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 23 22:32:48 2013 +0000

    Merge "Remove compat cfg wrapper"

commit 614a23a9c54d2b7aef32cd6086c416f7745bb51b
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Fri Feb 22 15:02:57 2013 -0500

    update install_venv_common to handle bootstrapping
    
    old install_venv_common used oslo-config, which makes for bad
    recursive dependencies, and we can't build a venv from a fresh
    tree.
    
    Change-Id: I09336d760842d4eb57f2b70fdfe19afaf6520a48

commit cde01d58104b515422f86ed629b106bd30541b93
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Fri Feb 22 13:22:42 2013 -0500

    allow run_tests.sh to report why it failed
    
    the set -e was suppressing all the echo information about why
    run_tests.sh was failing, which makes it quite hard to figure out
    what is going on.
    
    Change-Id: Ie210ee5b5e9ff0028a89da520580db7cd1d9f03a

commit 778141a382ca44e02a3781226c02571b657adae9
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Fri Feb 22 17:25:07 2013 +0000

    Remove compat cfg wrapper
    
    This wrapper was there to allow oslo-config changes through the gate
    while keystoneclient hadn't been updated.
    
    Change-Id: I3d48673af58ae379e8e4d2c7fb4b4d81f3ed67dd

commit 64ee4ac1aa7e6e334190c6104af6711a9ad817ee
Merge: 03fcb06 c3c31fc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 18:26:48 2013 +0000

    Merge "Fix various exception paths"

commit edbfe4c78cca6c4dd8b8a164de86b1fa4c210ab9
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Thu Feb 21 17:10:42 2013 +0000

    XenAPINFS: Fix Volume always uploaded as vhd/ovf
    
    Fixes bug 1131291
    
    copy_volume_to_image was always using the glance plugin to do the
    upload, and was ignoring the users request. Thus the image was always
    uploaded as vhd/ovf. This patch is using the image utils to fix the
    generic case.
    
    Change-Id: If12c3d175b3d4437305ac4d2f954a2a42ee3a3c1

commit 03fcb0616835f7b2c8a1133bd2e87014a59cc886
Merge: 762f2e1 b138481
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 15:55:46 2013 +0000

    Merge "Fixed cinder-backup start errors seen with devstack"

commit b13848160698a89a46a8d59434a1aa7e173120f3
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Feb 21 11:10:34 2013 +0000

    Fixed cinder-backup start errors seen with devstack
    
    Changes:
    - Added cinder-backup to scripts in setup.py
    - Added service_name to backup manager __init__
    - Switched backup manager to using oslo.config
    - Modified cinder-backup to use ProcessLauncher
    
    Fixes bug: 1131147
    
    Change-Id: I9b02d64def4ee892e9cfde4b4bcd50e5f9f9b707

commit 762f2e19cf60f1de2bb45b6f67c1bee762804712
Author: Tom Fifield <fifieldt@unimelb.edu.au>
Date:   Thu Feb 21 21:10:16 2013 +1100

    Cinder devref doc cleanups
    
    Way back when Cinder was inagurated as a separate project, the docs
    directory from Nova was used as a seed for the one in the Cinder repo
    
    This patch is simply cleaning out images and files which have no
    relation to Cinder at all, and are at best extremely outdated when
    applied to Nova.
    
    Aside from the deletions which are mainly images, and files related
    to the configuration of CloudPipe, there is one modification to
    conf.py which simply removes a reference to a vmware doc that no
    longer exists.
    
    Change-Id: I2140035f98bd332f25d7dd7569993bcd960a869e

commit c3c31fcff7717e0112616902780d4c762bd66702
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Wed Feb 20 15:34:05 2013 +0000

    Fix various exception paths
    
    Fixes bug 1130723
    
    Some bugs were introduced in https://review.openstack.org/#/c/20514/
    this patch fixes the discovered errors. It also removes volume_id
    parameters from error messages.
    
    Change-Id: I9ff75482fe2bc13dbb65e7d666035a13a19d5c98

commit 2a91248183c203b2748f537a7b6bcfe0b9ac4dfd
Merge: 44cd8bd 6670314
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 07:41:46 2013 +0000

    Merge "Implement metadata options for snapshots"

commit 44cd8bd2f7dcfea68cfb2fb256752a6a44eaaff0
Merge: 5ea0215 f2ce698
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 07:34:03 2013 +0000

    Merge "XenAPINFS: Create volume from image (generic)"

commit 667031428bbe750933cd82b07a90116891d74747
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 18 23:39:06 2013 +0000

    Implement metadata options for snapshots
    
    This patch implements metadata for snapshots as well as
    the ability to update/delete that metadata.
    
    Implements blueprint: update-snap-metadata
    
    Change-Id: Iec2b7a51cdc3dffad41f24807067cc6c8e7d5135

commit 5ea0215cf21755d10d748149f96ffd29685ed5d6
Merge: 8aae8ba 8169eb6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 05:26:30 2013 +0000

    Merge "Skip timestamp check if 'capabilities' is none"

commit 8aae8bae07745d7770ec71336fddf1a81600b98a
Merge: c83f23d f7bcf95
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 04:44:46 2013 +0000

    Merge "Fix stale volume list for NetApp 7-mode ISCSI driver"

commit c83f23d348b407d1862f61c855d6fad9b75d503c
Merge: 66532ca f50c8cb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 04:37:22 2013 +0000

    Merge "Implement a basic backup-volume-to-swift service"

commit 8169eb66832101444b0a824c932982966222097c
Author: Mandell Degerness <mdegerne@gmail.com>
Date:   Thu Feb 21 02:59:44 2013 +0000

    Skip timestamp check if 'capabilities' is none
    
    fix bug: #1131011
    
    Change-Id: I6266560627d03d95862a7f2c85ac63e2e9daef6b

commit f7bcf951aa038f23ea32f9215458f3fd59f33590
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Mon Jan 21 21:31:48 2013 +0530

    Fix stale volume list for NetApp 7-mode ISCSI driver
    
    While contacting filer through DFM in order to create volume from
    snapshot, the operation may fail with an error "No entry in LUN
    table for volume". Although the LUN representing the volume was
    created on the filer, the LUN list was not refreshed in time, which
     caused an error. This fix handles this situation for creating
    volume from snapshots.
    
    Note that this fix adds the requirement that the driver host and
    DFM machine should be reasonably time-synchronized.
    
    Fixes bug 1095633
    
    Change-Id: I77fff4c36a3af72d28f2d01988a6067919093718

commit 66532ca83199caf494eb1137a5a27e5f4d734d80
Merge: 17686fe d2742e1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 01:19:09 2013 +0000

    Merge "Uses tempdir module to create/delete xml file"

commit 17686febeab13938d22eeeabf1998fadac183859
Merge: 17753db 217e194
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 01:19:02 2013 +0000

    Merge "Moved cinder_emc_config.xml.sample to emc folder"

commit f50c8cbed1012aac86df2309a944d0e56707b4d6
Author: Duncan Thomas <duncan.thomas@gmail.com>
Date:   Wed Feb 20 18:07:55 2013 +0000

    Implement a basic backup-volume-to-swift service
    
    Implements: blueprint volume-backups
    
    This patch adds the new service, api and basic unit tests
    
    Change-Id: Ibe02c680c5e9201d208c92e796e86ad76b4b54b3

commit 17753db4d02bc48f902c3962e631480ca17bd72b
Merge: 3b0b948 74d1add
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 22:48:40 2013 +0000

    Merge "Add HUAWEI volume driver in Cinder"

commit 3b0b948744bb1150558cd5096692bbe6d7c79900
Merge: 0f08e49 716b67f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 20:45:14 2013 +0000

    Merge "Better error handling around volume delete."

commit 0f08e49bde425a58babe3795430d5ece8ead726b
Merge: c529b1f ea2c405
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 19:13:57 2013 +0000

    Merge "Bump the oslo-config version to address issues."

commit 716b67f4790774858ccc9d4b696ac12f7e793b0b
Author: Michael Basnight <mbasnight@gmail.com>
Date:   Wed Feb 20 10:12:03 2013 -0600

    Better error handling around volume delete.
    
    fixes bug 1130844
    
    Change-Id: I6886bff24194c2ace3d7719b93b5ab79aa8a0e8d

commit 217e19470f1508775ccd28172756d698b1a09062
Author: Xing Yang <xing.yang@emc.com>
Date:   Wed Feb 20 13:34:48 2013 -0500

    Moved cinder_emc_config.xml.sample to emc folder
    
    Vendor unique driver files should not be placed in /cinder/etc/cinder, but
    should stay with the vendors driver.  Moved cinder_emc_config.xml.sample
    to cinder/volume/drivers/emc folder.
    
    Change-Id: I92151abdf46a3597ea94284b6dfcf611153cab19
    Fixes: bug #1130496

commit d2742e15ae14c9ab9f7567a3abf4308b78343c99
Author: Xing Yang <xing.yang@emc.com>
Date:   Wed Feb 20 13:22:59 2013 -0500

    Uses tempdir module to create/delete xml file
    
    The emc test in cinder is leaving behind its test generated
    cinder_emc_config.xml file in /cinder/tests directory.  This
    fix uses tempdir module to create the xml file and delete it
    when tearDown is called.
    
    Change-Id: I7fd1dda83a097d1122c58cd3ed723ed7f5de30d8
    Fixes: bug #1130495

commit 74d1add5b7181b75ca4eb564028e8e07c0c48030
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Tue Feb 19 11:39:25 2013 +0800

    Add HUAWEI volume driver in Cinder
    
    This is an iSCSI driver.It supports HUAWEI OceanStor T and
    Dorado series storage systems.The driver communicates with
    storage systems based on SSH.
    
    Implements: blueprint huawei-volume-driver
    Change-Id: Ib3fd8ff636106e751789f6367a5b57bdaab316f4

commit f2ce6984b7b9a66a88b1b7e0ff319de24f2c78be
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Wed Feb 13 10:48:34 2013 +0000

    XenAPINFS: Create volume from image (generic)
    
    Fixes bug 1130706
    
    Related to blueprint xenapinfs-glance-integration
    
    This patch enables users to use any images recognised by qemu-img to
    create volumes on XenAPINFS.
    
    Change-Id: I9dd8ec237309da82ec7f73db1acb48e5b7411c9e

commit c529b1f6beac63ba4224b7638d431dc7f15d21d7
Merge: ba45662 cbf3bfc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 17:50:07 2013 +0000

    Merge "rbd: implement get_volume_stats()"

commit ba4566242b435a33bded990616b1af4ae7754822
Merge: 34284b7 79551a6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 17:38:28 2013 +0000

    Merge "Add LIO configuration for iSCSI initiators"

commit ea2c40542ffa2948e2acc2bdbae7996352d52ac2
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Feb 20 10:16:15 2013 -0700

    Bump the oslo-config version to address issues.
    
    Cinder unit tests weren't running with b3, b4 has some
    fixes that put things back on track.
    
    Change-Id: I7f8b7e1ab688790577d5ea3e95b4b20c6e552fae

commit 34284b7eb98095d67f6c861d09c101ecd32cff96
Author: Michael Basnight <mbasnight@gmail.com>
Date:   Wed Feb 20 10:12:03 2013 -0600

    Ensure volume exists before deleting.
    
    fixes bug 1130744
    
    Change-Id: I39152dd1caa5ab1b2cfbae56eaec8c8fa309669c

commit 79551a68d3dfc3cfe4113f022dfdb4d26b11d336
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Feb 5 18:02:46 2013 -0500

    Add LIO configuration for iSCSI initiators
    
    LIO requires iSCSI initiator IQNs to be specified in an ACL to be
    allowed to connect to the target. Currently this is only done for
    the IQN of the initiator on the cinder-volume node.
    
    This patch allows setting lio_initiator_iqns in cinder.conf to
    provide access to other nodes.  (Remote Nova compute nodes.)
    
    Change-Id: I7ddee542fcd3fba5b6f142ad15459c08cfedc9d2

commit d5ac3cb692f77aaa38da9e4232038ef57bde8266
Merge: eed5aac 5f2a36c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 10:36:27 2013 +0000

    Merge "Update cinder-manage to use FLAGS.log_dir."

commit eed5aacf79729e519d6aa798ce047345997c5464
Merge: d57828b e5b1d51
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 08:58:50 2013 +0000

    Merge "Add a volume driver in Cinder for Scality SOFS"

commit d57828b25ff017d4c855ae028fceeca8147fb390
Merge: 452ed59 737468e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 08:50:36 2013 +0000

    Merge "Handle maxclonepervolume/node limits in SF driver."

commit cbf3bfcf6339fe4d1fe4e279363db4f899e170d3
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Feb 19 17:11:41 2013 -0800

    rbd: implement get_volume_stats()
    
    Report raw capacity because replication level may change, and the
    cluster may be used by more than one service. If the command fails for
    any reason, return unknown capacity.
    
    Change-Id: If6871124301b51e4768ea64c4d8e5109e0804db8
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit 452ed59e51850c0498365fdf6354bc5a4f71c15e
Merge: 0720fe2 d5a17b4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 07:02:31 2013 +0000

    Merge "Use oslo-config-2013.1b3"

commit 0720fe2b872fbeff186288b9d67f4bc9d9934f85
Merge: 31f34ca 187b349
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 06:16:46 2013 +0000

    Merge "Set rootwrap_config in cinder.conf sample."

commit 737468e5c80a35b859dcda29706c88e2976339a3
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Feb 19 21:34:01 2013 -0700

    Handle maxclonepervolume/node limits in SF driver.
    
    The SolidFire cluster has a max simultaneous clones per volume and node
    limt that we weren't accounting for.  Add some logic to detect this situation
    and loop until enough simultaneous clones are completed to allow processing
    of the next one in line.
    
    Fixes bug: 1129810
    
    Change-Id: Id63c1b142a81df5d9d2c4e39fb821b03ebac63a2

commit d5a17b457059424aba0ad78f21061dd8d8948cb1
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Sun Feb 10 18:55:24 2013 -0500

    Use oslo-config-2013.1b3
    
    The cfg API is now available via the oslo-config library, so switch to
    it and remove the copied-and-pasted version.
    
    Add the 2013.1b3 tarball to tools/pip-requires - this will be changed
    to 'oslo-config>=2013.1' when oslo-config is published to pypi. This
    will happen in time for grizzly final.
    
    Add dependency_links to setup.py so that oslo-config can be installed
    from the tarball URL specified in pip-requires.
    
    Remove the 'deps = pep8==1.3.3' from tox.ini as it means all the other
    deps get installed with easy_install which can't install oslo-config
    from the URL.
    
    Retain dummy cfg.py file until keystoneclient middleware has been
    updated (I18c450174277c8e2d15ed93879da6cd92074c27a).
    
    Change-Id: I4815aeb8a9341a31a250e920157f15ee15cfc5bc

commit 31f34cad309b09d983f753d24715f1bcb9ebfc2c
Merge: a6493bb 91ccd15
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 00:00:31 2013 +0000

    Merge "Add a safe_minidom_parse_string function."

commit a6493bb9857ac2217b3ea7bcce9bab8497b4822f
Merge: d0de85f 83e2053
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:07:14 2013 +0000

    Merge "HP 3PAR Fibre Channel Driver and iSCSI Updates"

commit d0de85ff118c66455409422a1bc3221f7bfc859b
Merge: 5fbf767 af64eac
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:07:10 2013 +0000

    Merge "Fibre Channel base class for Cinder drivers"

commit 5fbf767ddabaa351c4651fc63ac01c744766d2f8
Merge: 00f3d49 008adb2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:05:16 2013 +0000

    Merge "Fix syntax error in  cinder-volume-usage-audit"

commit 00f3d49980320f356fb178822d2e9933a29fbee6
Merge: 532f15b 8466bb3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:05:07 2013 +0000

    Merge "Fix create volume from image."

commit 532f15b3b16bc3b8f3b96efb94ce92e25963a864
Merge: 2b5f287 b3e64b8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 21:50:07 2013 +0000

    Merge "Update Storwize/SVC driver for Grizzly."

commit 2b5f28782e09be68591bab2d6feeaa8205a3fa9b
Merge: 95dad7c 64a1a32
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 21:29:06 2013 +0000

    Merge "Skip tests if cinder is not installed"

commit 95dad7c6fb9cb22c42ba3215a8985eebc422e13b
Merge: 0c52162 b0cdbdf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 21:28:50 2013 +0000

    Merge "XenAPINFS: fix capacity reporting"

commit 008adb25fd14929f2d1be6dd58d382ff6ef62df6
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Tue Feb 19 17:54:59 2013 +0000

    Fix syntax error in  cinder-volume-usage-audit
    
    There was a syntax error in a print statement in cinder-volume-usage-audit
    which caused the script to crash.
    
    Fixes LP bug #1130266
    
    Change-Id: If4b0102ec5218fc8347f97041ac65f633111c26f

commit 83e2053567eeb5649b0af8826b71b50517e17f47
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Feb 13 13:55:43 2013 -0800

    HP 3PAR Fibre Channel Driver and iSCSI Updates
    
    This is the initial FC driver for the HP 3PAR array, along with some
    3PAR iSCSI driver cleanup and changes in the HP 3PAR common class.
    Summary of changes:
    * Initial FC Driver for the Grizzly release (depends on the FC base class
      and nova FC changes https://review.openstack.org/#/c/19992/ &
      https://review.openstack.org/#/c/20003/)
    * Updates to iSCSI Driver include volume type and create clone volume support
      as well as general cleanup(comments, copyright, minor bug fixes).
    * The tests have been updated to add FC test and the file was renamed
      to reflect both FC and iSCSI 3PAR tests.
    * Volume types added for the Grizzly release include cpg, snap_cpg, persona
      and provisioning(thin vs. full)
    
    Partially Implements: blueprint fibre-channel-block-storage
    
    Change-Id: Ie1c2e755aa1bcd5994ea4b02674718721b958e07

commit af64eac392eb8fc490df3efc3e1f217890c44897
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Feb 13 11:30:17 2013 -0800

    Fibre Channel base class for Cinder drivers
    
    This is the base class, FibreChannelDriver, for all fibre channel
    drivers to extend. Currently, it has only initialize_connection
    with comments, but this will be a place to put common functions
    similar to the iSCSI base class.
    
    This patch depends on the following nova and devstack changes
    to be functional(both still in the review process but approved
    for Grizzly):
    https://review.openstack.org/#/c/19992/
    https://review.openstack.org/#/c/20003/
    
    This patch does not support copy_image_to_volume and
    copy_volume_to_image in the Grizzly release. We'll revisit
    this in Havana and add that support.
    
    Partially Implements: blueprint fibre-channel-block-storage
    
    Change-Id: I8bd28b8bd96deaec1db219457f407169ed172f69

commit 5f2a36cce77a9331e233ff96b7c909a6149c1bc8
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Feb 19 12:46:03 2013 -0500

    Update cinder-manage to use FLAGS.log_dir.
    
    We no longer use FLAGS.logdir. This commit updates
    cinder-manage to use the new FLAGS.log_dir option instead.
    
    Fixes LP Bug #1130258.
    
    Change-Id: Id5f1175ec83f0f0b677ab0d75b310fa054459319

commit 91ccd1501acb1316b05a0dc010601ad85a9ebd3b
Author: Dan Prince <dprince@redhat.com>
Date:   Sun Feb 3 21:54:33 2013 -0500

    Add a safe_minidom_parse_string function.
    
    Adds a new utils.safe_minidom_parse_string function and
    updates external API facing Cinder modules to use it.
    This ensures we have safe defaults on our incoming API XML parsing.
    
    Internally safe_minidom_parse_string uses a ProtectedExpatParser
    class to disable DTDs and entities from being parsed when using
    minidom.
    
    Fixes LP Bug #1100282.
    
    Change-Id: Iff8340033c8e8db58184944a1bf705e16b8b3e03

commit 0c5216265d87fe27077b653a367edbc1af75dd5e
Merge: e1815e8 2443e35
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 11:47:41 2013 +0000

    Merge "Install rtslib when installing cinder"

commit e5b1d5111772bb25112753d619a2aa0e1a64ba14
Author: Jean-Marc Saffroy <jean.marc.saffroy@scality.com>
Date:   Mon Jan 14 12:19:52 2013 +0100

    Add a volume driver in Cinder for Scality SOFS
    
    Scality SOFS is a network filesystem mounted with FUSE, with most
    options given in a configuration file. Given a mount point and a SOFS
    configuration file as driver options, the Scality volume driver mounts
    SOFS, and then creates, accesses and deletes volumes as regular
    (sparse) files on SOFS.
    
    Change-Id: I914714e8547a505109514e2072f9e258abca8bd4
    Implements: blueprint scality-volume-driver

commit 8466bb3411bb82411fe51ef86e4c0080678bf753
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Feb 18 15:33:28 2013 +0000

    Fix create volume from image.
    
    Fix for bug 1129199
    
    During creating a volume from an image, the volume status changed
    from creating to active, skipping the download phase. This bug was most
    likely introduced during:
    https://review.openstack.org/20514
    This patch fixes the issue by change image_location back to image_id at
    the correct place.
    This patch also fixes an error in the exception handling, and the update
    of the volume status after creation.
    
    Change-Id: Ib9b647031c029387b776c27f9233388bd2c67e9c

commit b0cdbdf71bdd675da6d601a711265996878a4e6f
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Feb 18 12:45:37 2013 +0000

    XenAPINFS: fix capacity reporting
    
    Fixes bug 1129056
    
    XenAPINFS did not implement the get_volume_stats method, thus
    CapacityFilter fitered out the host, thus no volume was scheduled. This
    fix is working around this problem quickly, by reporting an 'unknown'
    capacity.
    
    Change-Id: I1dc5327e420a3316201318d52f602ced071d459b

commit b3e64b8192d31cf2f28f01dd4e3e97b3e53af979
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Feb 7 21:50:31 2013 +0200

    Update Storwize/SVC driver for Grizzly.
    
    Includes FC support, create_cloned_volume, volume type support,
    get_volume_stats, and minor bug fixes.
    
    Change-Id: I13e3d7921c5127e6b4e0cbb4e91761e0249ec295

commit 187b349bd523661f1dff7dcf313de32e62ea31fe
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 18 17:11:44 2013 -0700

    Set rootwrap_config in cinder.conf sample.
    
    Remove the root_helper=sudo in cinder.conf.sample and
    move to the rootwrap_config=/etc/cinder/rootwrap.conf as
    the default.
    
    Change-Id: Ib4bacf4d24993cb9506b51523a5ba44fe1f85d18

commit e1815e867344d0eee0304c5bb19de98f0dcfc1c5
Merge: 76b5839 e613426
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 23:34:03 2013 +0000

    Merge "Fix undef function call in test_migrations for py26"

commit 64a1a32701c2afba78d3f3e704f36b8417277d63
Author: Chuck Short <chuck.short@canonical.com>
Date:   Mon Feb 18 08:11:20 2013 -0600

    Skip tests if cinder is not installed
    
    Skipp test_restry_disabled and test_retry_attempt_one
    if cinder is not installed.
    
    Change-Id: Iccc36e2ce0f57b5fa67566e1da543f9888bf0f57
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit 76b5839cd8284c56711efeab1b8633a95091eae4
Merge: a497e7a 6c708d1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 20:47:15 2013 +0000

    Merge "Update cinder-volume to enable multi volume support"

commit a497e7a9441a0fa59ab0a1eb922c7eaf914e700c
Merge: d18519d 256b423
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 20:23:56 2013 +0000

    Merge "Fix PEP8 violation (again)"

commit e6134269a124037be1453f3a716c4cbfe8d1d54d
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Feb 18 11:17:26 2013 -0800

    Fix undef function call in test_migrations for py26
    
    unittest does not have this function until later. This uses the already
    imported cinder.test.skip_unless to accomplish the same result without
    outputted error.
    
    Change-Id: Id20add5a0d41e5d8cf6f8bc6aa0e547e5e386dab

commit d18519d6cf9bdd1490991d0d1b173864215c90d1
Merge: 4d6b1d4 db319b1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 17:52:04 2013 +0000

    Merge "Sync latest cfg and log from oslo-incubator"

commit 256b423208247464e4c8d806bc21f397d0aa62fe
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Feb 18 17:31:14 2013 +0000

    Fix PEP8 violation (again)
    
    Change-Id: I91d8d4d879bfdffffe982aafa228c374506921df

commit 6c708d12f58eb20fce6733f1f6fd08d978570775
Author: Michael Basnight <mbasnight@gmail.com>
Date:   Mon Feb 11 15:54:45 2013 -0600

    Update cinder-volume to enable multi volume support
    
    * Added the service wrapper for multi binscripts
    * Added a service_name to manager
    * Added the configuration wrapper so the impls do not need
      to know if they are accessing config values from a option
      group or from the DEFAULT group
    * Updated drivers to use the new configuration wrapper
    * Added an example config set for multi backend
    * Modified service to comply w/ common
    * Added get_volume_stats to iscsi
    * Added config for volume_backend_name
    
    implements blueprint multi-volume-backends
    
    Change-Id: Idb86ac5f1c06b9cd5061bef6a24f17727e9a58c1

commit 2443e35d8c2370f39f9bf0b3cda523103af3f261
Author: Chuck Short <chuck.short@canonical.com>
Date:   Mon Feb 18 08:03:32 2013 -0600

    Install rtslib when installing cinder
    
    It doesnt make sense to put rtslib in tools/test-requires
    since it is not directly using the python module while running
    the tests, since the tests use cinder-rtstool.
    
    Change-Id: Ib39b91e25f22b4943ef17eee50967828f7460b25
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit db319b1fc19962eb64b1724db2ef3048cae61769
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jan 21 16:25:38 2013 +0000

    Sync latest cfg and log from oslo-incubator
    
    Main cfg change is:
    
      c5984ba Move logging config options into the log module
    
    Logging changes include:
    
      c5984ba Move logging config options into the log module
      751c35b Verbose should not enable debug level logging
      edcdd25 Improve millisecond logging
      9e5912f Fix pep8 E125 errors.
      edf14e0 Enable millisecond logging by default
      9b81289 Allow nova and others to override some logging defaults
      90ada0e update deprecated stanza
      efba202 Adjust the logging_context_format_string.
      c8cf6f7 move nova.common.deprecated to openstack-common
    
    Fixes bug #989269
    
    Use new LOG.deprecated() in place of cinder.common.deprecated.warn().
    
    Also pull this cinder/context.py change from nova:
    
      ce098cc Add user/tenant shim to RequestContext
    
    to avoid issues caused by a s/user_id/user/ change in the context
    logging format.
    
    Change-Id: I3913ea54465658d93dc56e014dfe5d911b0541d6

commit 4d6b1d4adb1900d14ecfd4ff6b9eccb01ae35534
Merge: 3b7cd95 d0469bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 07:31:55 2013 +0000

    Merge "Handle 'infinite' and 'unknown' capacity in CapacityWeigher"

commit 3b7cd9567c93afa9c8b803126f99785b5cef0e06
Merge: 71576bf 4ca3b53
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 02:05:55 2013 +0000

    Merge "Update snapshot rest api to be consistent with volumes"

commit 71576bfc1f3ed5e037ad11438c4ccadb3c75b526
Merge: e835c9f bb923d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Feb 17 17:12:22 2013 +0000

    Merge "Add get_cluster_stats to SolidFire driver"

commit d0469bdc510443a2e7cd5a0dce5eab206a247527
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sun Feb 17 16:32:04 2013 +0800

    Handle 'infinite' and 'unknown' capacity in CapacityWeigher
    
    This patch updates CapacityWeigher to transform 'infinite' and
    'unknown' capacity reported by back-ends to float('inf').  They
    are considered the same for sorting purpose.
    
    Change-Id: Ic8f811227c9937c4e09eb8b77457ed7e9231be4e

commit e835c9f817700650adbdbf9b52914a2b2afbeabf
Merge: 1f0aad5 9627e6d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 20:25:39 2013 +0000

    Merge "Add an ID to temporary volume snapshot object"

commit bb923d5eedc922fbfa5cbe755b46a334c5ed9664
Author: john-griffith <john.griffith@solidfire.com>
Date:   Sat Feb 16 09:58:46 2013 -0700

    Add get_cluster_stats to SolidFire driver
    
    With the filter scheduler addition we added get_stats to the
    drivers.  This provides the required data for the filtering
    mechanisms and is called by the scheduler.
    
    The change adds the required call in the driver and also adds
    an update routine to it's init to populate this info on startup.
    This also adds the fake api response so that the tests can perform
    the init routine and get the data, while giving the added bonus of
    testing the new functions at the same time.
    
    Change-Id: Ia75e078f8e73883131cb1e68f6e6713fce1ab518

commit 1f0aad51eac5ea6b9abb53a49c224dea97147481
Merge: f623cdc 06b26a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 16:38:15 2013 +0000

    Merge "Add GlusterFS volume driver"

commit f623cdcc824fc0ab1f5a95bf09977f161a9544c0
Merge: e708025 1fc5575
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 14:42:41 2013 +0000

    Merge "Add LIO iSCSI backend support using python-rtslib"

commit e7080252816775439c3c88106716c2a559f85e10
Merge: 3c7a396 029435c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 10:54:33 2013 +0000

    Merge "rbd: update volume<->image copying"

commit 3c7a3968dc2fd968f2b8d17db8ddb4c087683943
Merge: ee59cc0 edbfa6a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 10:54:27 2013 +0000

    Merge "Update EMC SMI-S Driver"

commit d595d344016719eab810628a62bd276b9e98ea91
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Feb 16 02:30:26 2013 -0800

    NetApp: Fix for snapshot not deleted in error state.
    
    This fix enables cleaning of volumes/snapshots
    in error state by allowing them to delete.
    It will allow the delete call to be
    successful if snapshot/volume are in
    error state. This also fixes the bug
    raised recently with  number 1145409 which seems
    to be duplicate of 1143661.
    
    bug 1143661
    bug 1145409
    
    Change-Id: I38bc13e676404f96db54b12edfa56680489e893e

commit 80c8d32f09634a18e28c3ac63740fd24863fb3eb
Author: Navneet Singh <singn@netapp.com>
Date:   Fri Feb 15 04:41:42 2013 -0800

    NetApp bug fix for multibackend scenario.
    
    The multibackend scenario using filter scheduler
    did not work with NetApp drivers because of use
    of FLAGS. Changed to use configuration to support
    the multibackend scenario.
    
    bug 1132637
    
    Change-Id: I8ac5bd6d4269f703c3b3b0aa062c92f4412c25af

commit ee59cc059b00d36993b327a5a7ee6554eb3d4b49
Merge: 3be9c5c f06f5e1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 06:18:08 2013 +0000

    Merge "Add an update option to run_tests.sh"

commit 3be9c5cd3ece7dccf14f1b89b8b2dfaa20f86ab4
Merge: 39b5856 abd3475
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 04:19:10 2013 +0000

    Merge "Create a RemoteFsDriver class"

commit 39b58569c81a2cb36407aae0218512725fd317c5
Merge: a1deb1c 695e3a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 04:19:07 2013 +0000

    Merge "Adding support for Coraid AoE SANs Appliances."

commit a1deb1cdb0bc5e0af800f2e30be57e13d80d4b0e
Merge: 90971cd d17cc23
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 15 21:38:33 2013 +0000

    Merge "Allow create_volume() to retry when exception happened"

commit 695e3a848ac35a45d5765776641d75782fa1c234
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Fri Feb 8 21:10:39 2013 +0100

    Adding support for Coraid AoE SANs Appliances.
    
    This driver provide support for Coraid hardware storage appliances
    using AoE (ATA Over Ethernet) protocol.
    
    Implements blueprint coraid-volume-driver
    
    Reference to Nova patch libvirt-aoe :
    https://review.openstack.org/21101
    
    The following operations are supported :
    -- Volume Creation with Volume Types
    -- Volume Deletion
    -- Volume Attach
    -- Volume Detach
    -- Snapshot Creation
    -- Snapshot Deletion
    -- Create Volume from Snapshot
    -- Volume Stats
    
    The driver only work when operating on EtherCloud ESM,
    Coraid VSX and Coraid SRX Appliances.
    
    Change-Id: I7c8dde0c99698b52c151a4db0fb1bb94d516db61

commit f06f5e1bd69548502937ab937180c7833c96f9cf
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Fri Feb 15 14:14:54 2013 -0500

    Add an update option to run_tests.sh
    
    This commit adds an update option to run_tests.sh. This option
    is used to rerun install_venv.py on an already installed venv.
    This will then just update out of date packages with pip.
    
    Change-Id: I96dc6940f536feb810d57b3316e9d712aa750d93

commit edbfa6a3a5697da0d39a8cf94cdbf2ed0f726b20
Author: Xing Yang <xing.yang@emc.com>
Date:   Wed Feb 6 13:32:12 2013 -0500

    Update EMC SMI-S Driver
    
    1. Merged with Avishay's changes(https://review.openstack.org/#/c/
    19808/3) and removed copy volume<->image from my driver.
    2. Also did some refactoring based on Mike's comments
    last time (See https://review.openstack.org/#/c/19979/).
    Made the following changes in emc_smis_common:
    - Added a member variable conn to save get_ecom_connection
    and moved exceptions inside the helper function get_ecom_connection.
    - Also moved exceptions inside find_pool and get_storage_type.
    - Added test cases so get_ecom_connection, find_pool, and
    get_storage_type will be covered.
    3. Made changes in emc_smis_common to handle both iscsi and fc.
    
    Change-Id: I56db3ba41215489f6afe840ce5310a31f28bf5ae

commit 1fc557561b711f6edb06cf28edb0f90900e2c21e
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Dec 17 17:31:40 2012 -0500

    Add LIO iSCSI backend support using python-rtslib
    
    This patch enables LIO as an iSCSI backend for Cinder, using
    python-rtslib.
    
    To enable, set "iscsi_helper = lioadm" in cinder.conf.
    
    This requires python-rtslib 2.1.fb27, which is available from pip.
    
    Implements blueprint lio-iscsi-support
    DocImpact
    
    Change-Id: Ifb23de65f26a40997afd6148a1d0be39bcc8d196

commit 06b26a8ab82fa4584f8bc0a217296f7b7510d0a4
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Feb 6 10:26:45 2013 -0500

    Add GlusterFS volume driver
    
    This driver enables use of GlusterFS in a similar fashion
    as the NFS driver.  It supports basic volume operations,
    and like NFS, does not support snapshot/clone.
    
    To enable, set volume_driver to
     cinder.volume.drivers.glusterfs.GlusterfsDriver
    
    Note that this requires a Nova libvirt GlusterFS driver
    as well.
    
    Adds config options: glusterfs_shares_config,
    glusterfs_mount_point_base, glusterfs_disk_util, and
    glusterfs_sparsed_volumes.
    
    DocImpact
    
    Change-Id: I3dd4018f0cb4db48348728ca66bae7918309bb32

commit abd3475fe7e162760424188b7d1b7bdca88091ac
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Feb 6 10:25:51 2013 -0500

    Create a RemoteFsDriver class
    
    This class holds common functions for drivers similar to NFS.
    
    Change-Id: I83d89c971fd0153df7702e2803bed66df1a759f6

commit 90971cd1026728d3061e13843d117e549c0be67c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Feb 15 03:41:15 2013 +0000

    Fix ordering of function args
    
    Previous change swapped context and type-id params in function
    declaration.  Put it back.
    
    Also, no reason for storing the qos dict in the parameters, if
    it's stored then we continuously have to update it, remove that
    for now and come up with a cleaner method later.
    
    Change-Id: I0820a48660bdfd0481be3681e33d7e2ff3246bb1

commit 9627e6db42a5dbf0db5aebfc363cf5d1156a2f06
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Feb 14 12:00:47 2013 -0700

    Add an ID to temporary volume snapshot object
    
    The create_cloned_volum method creates a temp snapshot and
    when it's done it uses the standard snapshot_delete method
    in the LVM driver.
    
    A change was added that logs a statement using the object[id],
    but we weren't actually setting this on our temp object so we
    would get a trace fo key DNE.  This change adds an id key to
    our temp object.
    
    Fixes bug: 1125457
    
    Change-Id: I4d886f2738a3c394a3a3a6373045669cf6bf8aaf

commit d17cc23c648f98d0764748e9007ff4b8742e6572
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Jan 26 02:18:03 2013 +0800

    Allow create_volume() to retry when exception happened
    
    Due to the fact that certain volume back-ends cannot easily report
    simple total_capacity_gb/free_capacity_gb for their internal
    implementation complexity, scheduler is updated to let those back-ends
    who report unclear capacity pass capacity filter, thus there is chance
    create_volume() request would fail. In a more general case, when a
    volume back-end failed to serve create_volume request for whatever reason
    it'd be good that we have a mechanism to 'retry' the request.
    
    So the idea is when volume manager catches the exception from
    driver.create_volume() call, it checks if the request is allowed to be
    rescheduled (requests that are not: clone volume and create volume from
    snapshot while 'snapshot_same_host' option is true), it composes a new
    request back to scheduler with additional information to mark this specific
    back-end has been tried (so that scheduler may choose to skip this back-end
    if needed).  Scheduler is (filter scheduler only, simple and chance
    scheduler is not supported) is updated as well so that it only retry
    scheduler_max_attempts times.  In order to skip/rule out previously tried
    back-ends in next schedule task, a new RetryFilter is added.
    
    Changes:
    1) volume RPC API create_volume() is updated with new parameters
    to save original request information in case rescheduling is needed.
    This bumps volume RPC API to 1.4.
    
    2) implementation of create_volume() method in volume API is
    refactored in order to distinguish if a request is allowed to
    do reschedule (i.e. currently create volume from source volume
    bypasses scheduler, not rescheduling is allowed).
    
    3) add reschedule functionality in create_volume() of volume
    manager so that it's able to send the request back to scheduler.
    
    4) add schedule_max_attempts config option in scheduler/driver.py
    
    5) add RetryFitler
    
    6) change scheduler_driver default option to FilterScheduler
    
    Change-Id: Ia46b5eb4dc033d73734b6aea82ada34ba5731075

commit 2a9fbd76db025c4badb7eed43128db2c59eaeea5
Author: Navneet Singh <singn@netapp.com>
Date:   Thu Feb 14 05:20:03 2013 -0800

    Fixes the provisioning on selected volumes for NetApp 7 mode.
    
    The current direct driver for 7 mode provisions openstack
    volume on all NetApp 7 mode volumes mixing openstack volumes
    with all non openstack volumes. This fix allows volume selection
    by the user to keep openstack volumes separate from non opnestack
    block storage entities.
    
    bug 1132834
    
    Change-Id: I77b78ce304e72482724b6ff7c52795c60992243e

commit 029435c9288d82dee5dd1113c3553ddb5b97c740
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Feb 12 18:18:39 2013 -0800

    rbd: update volume<->image copying
    
    Use fetch_to_raw() to convert from any format when
    copying an image.
    
    Fix two bugs in copy_image_to_volume():
     1) use rbd format 2 if supported
     2) resize to match the expected volume size
    
    Also implement copy_volume_to_image().
    
    Change-Id: I5589666c33ead087876e850363ad869050120882
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit 275ce2d171d847ede99162a3dbf85d87999a7298
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Wed Feb 13 10:18:15 2013 +0000

    Fix PEP8 violation
    
    There was a PEP8 violation in cinder/tests/test_solidfire.py, thus
    ./run_tests.sh was failing. This patch fixes the error.
    
    Change-Id: I444fbfa57550db5c75b80683054c0ca44f4ee657

commit 6f37954f349c0bd5a73bf0bd2512bc7f2a6f519d
Merge: 33fc77d 627dc20
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:43 2013 +0000

    Merge "add postgresql opportunistic testing"

commit 33fc77dfe2e7066af2c07d1f378c87b62e5c64ef
Merge: 26bd5f2 3edcec0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:37 2013 +0000

    Merge "make test_databases instance variable"

commit 26bd5f2f523d185e65683a5e91228edf50b48ca8
Merge: 67ce16b 61a2b36
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:34 2013 +0000

    Merge "v2 volume/snapshot create will correctly give a 202 response"

commit 67ce16bf406902c96a6faabf1647c1bc67efedab
Merge: 015f2a2 aba2280
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:25 2013 +0000

    Merge "NetApp direct to filer drivers for iscsi and nfs."

commit 4ca3b5315a27b96108bc782518b5ce9e6ef552e4
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Feb 11 22:49:26 2013 -0800

    Update snapshot rest api to be consistent with volumes
    
    display_name becomes name and display_description becomes description in
    both parameters to pass in requests and keys returned from responses.
    This does not update the snapshot model as it takes the same approach
    with updating the volume rest api.
    
    Change-Id: I413b5f87882a216b7a847fb12c31f5e5ed91510b

commit 015f2a2f2ec2d0d2d92273c0958aa918d38c5086
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Feb 11 00:00:16 2013 -0800

    change display_description to description in volumes
    
    Rest v2 api volume responses key display_description changes to
    description to be consistent with other modules and projects.
    
    Change-Id: Ibafa2865c6c4a73fc1cf4694ae77a6709fd2e6e5

commit 61a2b3673402f8be8ac97cc7616f610d657d29a4
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Feb 10 12:34:44 2013 -0800

    v2 volume/snapshot create will correctly give a 202 response
    
    Before it was giving a 200 response. Since the request was received fine
    but still has to process things, this is a more correct response. In
    addition this is more consistent with other OpenStack project create
    rest api calls.
    
    Change-Id: I4f29cda7638c257c9cb5be7a5edf2bc4c48626d8

commit 627dc2068345b2cea7014ac9293e7ae881380ac7
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Sat Feb 9 17:22:22 2013 -0500

    add postgresql opportunistic testing
    
    sync _reset_databases from nova, which is needed for working
    postgresql. Add opportunistic testing for postgresql, which will
    run in CI.
    
    Change-Id: I8166c2f723cabc5c5c07c7babaec8ffed5cee650

commit 3edcec0f48329bfbca0b70b747798ec22b8a0156
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Sat Feb 9 10:10:03 2013 -0500

    make test_databases instance variable
    
    eventually we'll need to do this to allow for testr testing, but in
    doing so this also exposed that sqlite downgrade of source_volid
    didn't work when data was in the table (sqlite just happily ignored
    the drop, then failed when trying to added the column for a second
    time during the snake walk.)
    
    This fix also adds the correct sqlite downgrade path for migration
    005 to actually drop source_volid, but ensure we don't loose any
    other data in the process.
    
    Change-Id: I082b53e108c4d564e33ef79979ea8c1642afdbcd

commit 835fb61442b9b2737a6791e1a46e6d3a01fa0e6b
Merge: 9b9a0b1 b8d7170
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 18:04:17 2013 +0000

    Merge "Allow disabling of long-lived SSH connections."

commit 9b9a0b154b9106e71074459e005315ac993f08e3
Merge: 5347b2d 033d21f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 17:57:49 2013 +0000

    Merge "Move create_cloned_volume() to LVMVolumeDriver."

commit 5347b2d79f32cefccc1c02014c06914ca0534863
Merge: 54f83e1 25e5509
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 17:32:36 2013 +0000

    Merge "XenAPINFS: Copy volume to glance"

commit 54f83e1842c94ee7ee905bb33434bd052f095912
Merge: c8a4096 b390454
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 15:50:17 2013 +0000

    Merge "Update to latest oslo-version code."

commit c8a4096b78788311c19e986cebb5515cb941b37d
Merge: 7d1bbc3 1d25f99
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 14:21:28 2013 +0000

    Merge "Allow for specifying nfs mount options"

commit 7d1bbc3f1a7859ddb6c476579d358b32cd17eb48
Merge: 13a84d6 cb417e2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 13:30:18 2013 +0000

    Merge "Don't require importing paramiko for error."

commit 13a84d661f09f865d8b9fedcd1672eaf7ee18580
Merge: 45a02d7 c1f4c93
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 12:43:58 2013 +0000

    Merge "rework migration 004 testing with real data"

commit 45a02d706677e1440296945a4011c9d5ab19674e
Merge: bc6ea76 a84c910
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 12:43:54 2013 +0000

    Merge "XenAPINFS: Copy image from glance"

commit bc6ea7623415d95cc3c75051657be4db3ce904af
Merge: 30ba792 87b1cdc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 12:29:15 2013 +0000

    Merge "Allow tools/install_venv_common.py to be run from within the source directory."

commit 033d21f6f0a93ab664d7615e2c71486c7fbce03a
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Feb 7 11:11:03 2013 +0200

    Move create_cloned_volume() to LVMVolumeDriver.
    
    The implementation of create_cloned_volume() that was in driver.py
    relied on functions that aren't declared there, such as
    _create_volume(), _copy_volume(), and _sizestr().  Moved the function
    to LVMVolumeDriver in lvm.py, where those functions exist.
    
    Change-Id: I5ab77a119b3af0a152a3b5e0c2ff6a5ce196ad0f
    Fixes: bug #1112485

commit b390454b6d26b5dc4b26e115aecbcfa0bcca2bdc
Author: Monty Taylor <mordred@inaugust.com>
Date:   Sun Feb 3 11:33:33 2013 +1100

    Update to latest oslo-version code.
    
    In prep for tag-based versioning, update to latest oslo-version code.
    
    Change-Id: Ic5046006919e20247481fa1ddbde2dfd456b188a

commit 30ba792859eaae4967ebe5084b6c4c489a8f3e5d
Merge: 5d33cf0 f32253f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 08:22:00 2013 +0000

    Merge "Add volume_glance_metadata to volume.api.get"

commit b8d7170711770684b44c5d37088a29c6b0c3e3a3
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Feb 6 23:04:15 2013 +0200

    Allow disabling of long-lived SSH connections.
    
    Currently, SSHPool connections are kept alive indefinitely.  This can
    be good for many cases, but sometimes it is not desirable.  For
    example, this causes unit tests which use SSH to not complete because
    of the open connections.  This patch allows users to revert back
    to paramiko's regular timeout policy.
    
    Change-Id: Ifa96508b38d90610390c9ec3d48a7de75d02f08b

commit 5d33cf07c78141ae91da3fed48f59dd271b51ab0
Merge: da5bfac f884278
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 20:22:41 2013 +0000

    Merge "Copy glance_image_metadata when cloning volumes."

commit cb417e2be13d061d123b448eaed7c1e4c18d6748
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jan 23 13:55:51 2013 +0200

    Don't require importing paramiko for error.
    
    The _run_ssh function raises a paramiko exception, which requires
    functions that use it to import the paramiko class. This should be
    hidden away, and so I created a new exception in its place. Nobody
    but the Storwize/SVC driver use it anyway, and I am updating that
    driver in a separate patch.
    
    Change-Id: Ibf353edc664765897a5fa7a08d126de4b8992863

commit 1d25f99f401c65ce63e68d03815fb69b3a852de6
Author: Rafi Khardalian <rafi@metacloud.com>
Date:   Sat Feb 2 23:01:54 2013 +0000

    Allow for specifying nfs mount options
    
    Fixes bug 1113042
    
    Adds a new config option:
        nfs_mount_options=None (Default)
    
    When not None, anything set here will be passed as -o <options> to
    the mount command. The default behavior is to do exactly as we are
    doing today and relying on the OS/kernel defaults.
    
    Change-Id: I6bd27f9d0e8848a9ba98318ba7288e43ee6b4cb9
    Flags: DocImpact

commit da5bfac8c92081c4146ace0fc93cb80f17c41ad6
Merge: a4518fe 5542c01
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 08:53:34 2013 +0000

    Merge "add data injection on migrations"

commit a4518fe42a8c85c5b9fbfcb80e0eb4ff930ec951
Merge: 0be235e aade297
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 08:53:32 2013 +0000

    Merge "Update some Oslo Packages"

commit 0be235e7f5c6f57a2f46288d00a40becf2afb1e7
Merge: 894fdb0 38dd659
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 02:39:35 2013 +0000

    Merge "sync database connect changes from nova"

commit c1f4c93a6112506c9bb7abb979c41f955ab8484b
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Feb 5 18:12:29 2013 -0500

    rework migration 004 testing with real data
    
    tests that 004 works with real data.
    
    Fix downgrade issue where id conversion needed to happen prior to
    the schema definition change.
    
    Fix pep8 E12* items
    
    Change-Id: I216d649bf081a6d70321e72e06357ef5a729a998

commit 87b1cdc164856bf32dee403c6eab19e2f7f1efab
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Tue Feb 5 20:54:43 2013 -0500

    Allow tools/install_venv_common.py to be run from within the source directory.
    
    (Copy latest update from oslo)
    
    Not doing this raised exceptions when it tried importing modules
    that didn't exist in the path.
    
    Fixes LP# 1112484
    
    Change-Id: I2be7bde0bf873a22318617b987a76b209caef22a

commit 894fdb074eea0d0cfb8488e1904543abd207493f
Merge: cb070fc da25b7b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 23:35:20 2013 +0000

    Merge "Update 3PAR driver"

commit cb070fcf7056c79ae8a02b583aa0ff67dc309421
Merge: 4bfd8ce f2b94c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 23:05:05 2013 +0000

    Merge "Add unit tests for ISCSIDriver._do_iscsi_discovery and ISCSIDriver._get_iscsi_properties"

commit 5542c012f80696fbb60c3604491ac705f76eb656
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Feb 5 07:28:22 2013 -0500

    add data injection on migrations
    
    bring over the data injection from migrations from nova, which allows
    us to inject sample data at every migration in the walk_versions, and
    run a check after the migration to make sure that things look as we
    expected.
    
    Change-Id: I8b1d36f1363c12768dea228a3ecfafc1b919f083

commit 38dd6591b91362a3862a2c05a12409e8f3a08285
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Feb 5 07:20:32 2013 -0500

    sync database connect changes from nova
    
    bring over the changes from nova that let opportunistic testing
    work on pg as well as mysql. Preparitory for data injection changes.
    
    Change-Id: I368f8645cf1be477c25b0fbd1d35cff8859b615a

commit 25e5509d0e83c5675768de8b4a1d824494180024
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Tue Feb 5 13:11:50 2013 +0000

    XenAPINFS: Copy volume to glance
    
    related to blueprint xenapinfs-glance-integration
    
    This patch enables to upload XenAPINFS backed cinder volumes to glance
    by using the nova glance plugin.
    
    Change-Id: Ie41aa6871fec691556b82501ce3bfdf50898471d

commit a84c910c4e4fe3e60c5fc0e8d82658e8ec8bfd1a
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Fri Jan 25 14:44:08 2013 +0000

    XenAPINFS: Copy image from glance
    
    related to blueprint xenapinfs-glance-integration
    
    This change is using the glance xenapi plugin to copy a glance image to
    a xenapinfs backed volume. It slightly differs from the reference
    implementation, as this implementation is composed of three steps:
    - create volume
    - overwrite the created volume with the one downloaded from glance
    - resize the volume
    As opposed to fill the bytes from glance to the created image. This
    approach works more effective with XenServer type semi ovf tgz -ed vhds.
    
    Change-Id: I2345f6bb355aa285eee0455380c580e4724f004e

commit 4bfd8cee7da9ecbc4c00b41525711895aa815bdf
Merge: 5d13878 b4bdd8e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 17:50:29 2013 +0000

    Merge "Fix provider_location column add for PSQL"

commit 5d138780e42fa7427497e01c6e2f8da6fa355a4e
Merge: 9c9fec9 31b938e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 17:50:24 2013 +0000

    Merge "Fix inability to delete volumes in error state for NetApp driver"

commit 9c9fec9e8c09d0058ff89c99e34d5e15aff06841
Merge: 4275a23 f583551
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 16:21:14 2013 +0000

    Merge "Mark password config options with secret"

commit 31b938eae00d5a023bff14567a290eb27de441f9
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Fri Feb 1 23:46:58 2013 +0530

    Fix inability to delete volumes in error state for NetApp driver
    
    While using NetApp 7-mode storage box to create volumes, if the volume
    is not created on the storage box (possibly due to wrong/missing
    options in cinder.conf file), the volume goes in error state, and when
    one tries to delete the volume, an exception was raised which made
    the volume go in error_deleting state, which is unrecoverable. This
    commit quiesces that exception, resulting in successful removal of the
    volume entry from the volume table.
    
    Fixes bug 1090167
    
    Change-Id: I0a25b71ad03e7f7acf58df3952e074ff164b82ff

commit f8842781cdc7a7a2a82333f3f728e0dfac30a501
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 4 17:54:56 2013 -0700

    Copy glance_image_metadata when cloning volumes.
    
    When cloning a volume we were not capturing/copying
    the glance_image_metadata from the source volume.
    
    This change implements a copy_image_metadata_from_vol_to_vol.
    So now we can clone bootable volumes without going back to glance
    or messing with them otherwise, they're just ready to be booted.
    
    Fixes bug: 1115634
    
    Change-Id: I859bb2550267c6a5142e85ec89f1c7ff885588ac

commit f32253f7391da22b6d69a4afebda5cdd99bb40d3
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 4 16:18:29 2013 -0700

    Add volume_glance_metadata to volume.api.get
    
    The dict(rv.iteritems()) agains the volume object from
    volume.api.get does NOT set the volume_glance_metadata k/v.
    
    This is used to show bootable in the show and list api calls,
    the result was that list properly reflected the bootable status
    of a volume, however show would always describe the flag as False.
    
    So we simply check if the rv includes the glance_metadata and if
    so go ahead and create the entry in the volume dict.
    
    Fixes bug: 1115629
    
    Change-Id: Ia0be08f3d2c85b7fe8390fca264803c96cdce7f7

commit 4275a23af9950ba607d703243e3c6a1592286e93
Author: Thierry Carrez <thierry@openstack.org>
Date:   Tue Jan 29 14:58:07 2013 +0100

    Import Oslo's common rootwrap to Cinder
    
    Import oslo-incubator's rootwrap, which contains all the new
    features and bugfixes that were pushed to nova-rootwrap earlier
    in this cycle, including logging support and path search.
    
    Implements bp: cinder-common-rootwrap
    
    Change-Id: I68cbb788a3dda58dc146933be190146607b48801

commit f583551ea65f2fdc4744acfce99812bd38ca3df7
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Mon Feb 4 14:51:29 2013 +0000

    Mark password config options with secret
    
    Config object supports masking values when writing out if the secret
    flag is set on the option definition.  This change flags all cinder
    options containing a password.
    
    Change-Id: Ia0b203417774797c1fe1eaf2946453c9b2509b98

commit 534eb08e78c4bbc35e5f17587a521e1f616db744
Merge: 8735b8d 98fa684
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 4 06:28:32 2013 +0000

    Merge "Skip tests if cinder is not installed"

commit 8735b8d05306a548181feb44ffac65f4171ef5b7
Merge: be7167d b1764fd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 4 06:28:30 2013 +0000

    Merge "Fixes 'not in' operator usage"

commit be7167d6a7752815aed9bd27f6403322fdb84695
Merge: 31e4816 eeb6f8c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 4 05:25:36 2013 +0000

    Merge "import tools/flakes from oslo"

commit b1764fdc8351fa653644bf01812adc6281348ab2
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Thu Jan 31 14:58:50 2013 +0800

    Fixes 'not in' operator usage
    
    Change-Id: Id4c83e32f6dcb4f710c5a8d8b6f130038cf07648

commit 98fa684a048fa7a1f16ebc416fb0101ba0525ac4
Author: Chuck Short <chuck.short@canonical.com>
Date:   Sat Feb 2 19:22:18 2013 -0600

    Skip tests if cinder is not installed
    
    The test_capacity_filter_passes_infinite and test_capacity_filter_passes_unknown
    tests were failing when cinder is not installed. Skip the tests like the other
    tests for test_host_filters.
    
    Change-Id: I5ebfa2dca05b6e89a12e3153598bf4699da888de
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit b4bdd8e20b82f8016030037712094f257af9221f
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Feb 1 19:21:18 2013 -0700

    Fix provider_location column add for PSQL
    
    Migration 006 (commit 690cae58e6bbac5758ea2f7b60774c797d28fba5)
    didn't work properly for postgres,
    this patch corrects the upgrade by ensuring the execute
    is performed and the value is initialized to None.
    
    Since we haven't released a milestone etc with this migration in the
    code it should be safe to just fix it here and submit.
    
    Change-Id: I10a09aed3470c35c8ebbe22f29aa511592167c35

commit da25b7b86dcae00cb380ce5fb9a208b8f7a171a3
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Fri Jan 11 17:13:43 2013 -0800

    Update 3PAR driver
    
    Added support for get_volume_stats()
    Add sanity checks for:
        Ensure the CPG lives in the Domain that's configured.
        On 3PAR systems, the create volume from snapshot has to be
        the same size. The driver now checks to make sure that they
        are the same size.
        Now using volume and snapshot id's instead of the names.
        Checking for optional fields before using them(i.e. description).
        Added a new method get_ports() to gather the active array ports.
        Fixed inline comments, added a space between the comment and # sign
    
    Change-Id: Ie2aed38c6349bb5ee8bbea4d0928cd606427a26f

commit 31e481667db8b98442f69b478b8aa4a18437b191
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Jan 31 22:38:51 2013 -0700

    Fix the generalized copy_image_to_volume operation.
    
    The Generis iSCSI copy volume<->image patch
    (change: Iff097629bcce9154829a7eb5aee0ea6302338b26) did
    not account for the fact that the existing volume reference
    passed in to the copy method would not have the updated
    provider_location and iSCSI info available.
    
    To address this, we simply just get a new ref from the DB
    after creation if a copy image is requested.
    
    Also, the list of acceptable formats was not fully inclusive,
    not only that, but there's no reason to not let the qemu-convert
    handle any errors here.
    
    Change-Id: I7b1910080d285562c7f2d8afa7f65768b1089b73

commit 03f759c4ad28b30574168adb94d7f9a7b4cd3dc2
Merge: 9220cf7 54448d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 1 01:52:39 2013 +0000

    Merge "Set source volume to "in use" during clone"

commit 9220cf75315f392f044dd6e10da64be0f11dfded
Merge: 1bb75dc ee9d30a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 1 01:04:22 2013 +0000

    Merge "Allow volume back-end to report 'infinite' or 'unknown' as capacity"

commit 1bb75dced548069de924a9c04b8070015bbc85db
Merge: d0cc4e4 f02c575
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 22:57:57 2013 +0000

    Merge "Check for non-default volume name template."

commit eeb6f8c77f199028f15bd094a48bb0ceb490b9bf
Author: Joe Gordon <jogo@cloudscaling.com>
Date:   Wed Jan 30 13:33:31 2013 -0800

    import tools/flakes from oslo
    
    Change-Id: Iac52a0cc48de9f29a91545e319c144e3f935799d

commit f2b94c0607dc521d38a95d93312325873e7abf63
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Thu Jan 31 00:16:15 2013 +0000

    Add unit tests for ISCSIDriver._do_iscsi_discovery and ISCSIDriver._get_iscsi_properties
    
    Change-Id: Id62124247e264a248ca071d45c03969ee75a31d3

commit d0cc4e48d2746326af7594ecca3f02691ac4f544
Merge: cfd4c39 31adf9a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 07:13:20 2013 +0000

    Merge "Clean up QTree when deleting volume on NetApp storage box."

commit cfd4c3941efd0a6a2f5c73e5c7d775546cbe8404
Merge: f84b5a3 ff3b905
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 07:13:18 2013 +0000

    Merge "Update osapi_volume_extension default."

commit f84b5a3158e6abd94cd2ae9c4b74688ad5615003
Merge: f619d70 8960e4d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 06:38:57 2013 +0000

    Merge "Fixes "is not" usage"

commit f619d700336f074226c77a88871c486335c1382b
Merge: 342e11b f441b64
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 06:32:10 2013 +0000

    Merge "Use install_venv_common.py from oslo."

commit 8960e4d33c73d79778aa02cfed0c7691a3b7e158
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Thu Jan 31 10:31:51 2013 +0800

    Fixes "is not" usage
    
    Fixes bug #1110987
    
    Change-Id: Iafa9fc548deaf03c229cc9144d85e6c68b3101be

commit 342e11b9129bc646be96b727ad87281ae169644d
Merge: 04b1e3c 6b8ba71
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 18:06:36 2013 +0000

    Merge "Implement LVM thin provisioning support."

commit 04b1e3cdce7f7f9d69fb06fc52cde6a82e41aa5d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Dec 19 14:56:11 2012 +0800

    Pull cfg module from Oslo and update cinder-manage accordingly
    
    New cfg module abandons previous disable_interspersed_args() and
    recommand to use add_subparsers from argparser module instead.
    This patch pull cfg module from Oslo and update the affected
    cinder-manage utils.
    
    Change-Id: I8913fafb8fdb19b3fe0a695a70c8b1e8f59c1027

commit e724f95bd5b9d5d407e4398d5523e55868751aee
Merge: 712f210 9be3801
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 05:30:07 2013 +0000

    Merge "Check for installed cinder in filter tests."

commit 712f2102a1d5afa5b8d7857bd49026fbe3839fd7
Merge: 0de2098 949291c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 04:31:56 2013 +0000

    Merge "Generic iSCSI copy volume<->image."

commit 0de20981289396238b4e60a57ccf9df806c527f5
Merge: 0f8ad21 b79e1f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 01:53:35 2013 +0000

    Merge "Fix typo in cinder/db/api.py"

commit 0f8ad21807e3dcf5f38083c0cb9f227ce7a982c1
Merge: d66ea53 4206954
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 01:42:11 2013 +0000

    Merge "Replace CRLF with unix-style "LF""

commit 54448d5bf8f7ce06f0fb8ffd8c53f8b4cef67f25
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Jan 29 11:52:46 2013 -0800

    Set source volume to "in use" during clone
    
    When we are cloning a volume, we now set the source volume's status
    to 'in use'. This prevents a user from deleting the source volume while the
    backend copies/clones the contents to the new volume.
    When the cloning is complete, we reset the status to it's original
    state.
    
    Change-Id: Ie43345aba77df4671ed2b429645cf8d1af9b975b

commit aade297c9bc8b24defd8e42e939f717083ed6f2e
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Jan 29 09:32:41 2013 -0800

    Update some Oslo Packages
    
    I exluded packages that caused unit tests to fail.   We'll have
    to tackle those individually.
    
    Change-Id: I24c9c29decf1f171a214a837e69fc47d7e763a92

commit b79e1f485c85cbb16280adc8d590886e25694c87
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Tue Jan 29 11:25:27 2013 +0000

    Fix typo in cinder/db/api.py
    
    The api method quota_destroy_all_by_project() calls the implementation
    quota_get_all_by_project()
    
    Change-Id: I11927e1fd29c6248ce755dfd236bf0f9adf39d94
    Fixes: bug #1108766

commit 420695498c7240ef66a0dda65651a8b9d5d6969c
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Jan 29 09:58:50 2013 +0100

    Replace CRLF with unix-style "LF"
    
    Seems to be more welcome, see e.g.
    http://lists.openstack.org/pipermail/openstack-dev/2013-January/004549.html
    
    Change-Id: I35e0fac4bbfc2fdf2dd9c56c264209e0c3a20cee

commit ee9d30a73a74a2e1905eacc561c1b5188b62ca75
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Tue Jan 29 01:12:31 2013 +0800

    Allow volume back-end to report 'infinite' or 'unknown' as capacity
    
    For some reason, some volume back-ends cannot report actual capacity
    that is available or even total capacity (e.g. thin-provisioning),
    Cinder should allow such capability report and make placement/schedule
    decision based on these status.
    
    In particular, we agree to use 'infinite' to mark unlimited space and
    'unknown' to mark unknown/unclear space.  Host manager and CapacityFilter
    are updated accordingly to allow such capacity.  For those back-ends
    report 'infinite' or 'unknown' capacity, CapacityFilter will let them
    pass to give them a chance to try.  Even if failure happened, the retry
    mechanism should take care of the case.
    
    Change-Id: I6871a28745111b1878a606372e6edd664f0ea10c

commit d66ea53e82e862e9660163541c2453e2e3bd104b
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Jan 28 20:28:14 2013 -0700

    Wrap SolidFire size parameter in int.
    
    SolidFire API requires that volume size is specified as
    an int value, ensure an int is provided by wrapping in int()
    
    Change-Id: If251ce2a7095f32aa2a59bb6cc767a4136c5f88c

commit f441b64e1e57c5642e5471442a66217f68a55bef
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Mon Jan 28 13:02:50 2013 -0500

    Use install_venv_common.py from oslo.
    
    This syncs install_venv_common.py from oslo and reworks the
    tools/install_venv.py script to use the new library.
    
    Change-Id: Ia271de047cc80e462fa0850cd8d626d2da777dff

commit ff3b90522b0c6f02d71dc5fdea7092fcf498cd3a
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Jan 28 10:44:57 2013 -0500

    Update osapi_volume_extension default.
    
    Updates the Cinder config default for osapi_volume_extension
    so that it only uses the new cinder.api.contrib.standard_extensions
    loader.
    
    Previously both the new and old extension loader path were listed
    which can cause extensions to be loaded twice thus causing
    log WARNINGs to appear in the Cinder API log file.
    
    Also, regenerates the cinder.conf.sample to reflect this change.
    
    Fixes LP Bug #1107963.
    
    Change-Id: I4e060fc8dcc49d8285e0e7db57489d10aa6d193a

commit 949291c3e59ea922cf6acb6a23ade5fcd65087d0
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jan 16 16:19:40 2013 +0200

    Generic iSCSI copy volume<->image.
    
    Implements a generic version of copy_volume_to_image and
    copy_image_to_volume for iSCSI drivers.
    
    Change-Id: Iff097629bcce9154829a7eb5aee0ea6302338b26
    Implements: blueprint generic-iscsi-copy-vol-image

commit 6b8ba716d2300add4f3d89b57501aaeee21bf59f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jan 11 14:38:23 2013 -0700

    Implement LVM thin provisioning support.
    
    As of LVM2 version 2.02.89 the ability to do thin provisioning
    was made available in LVM, this provides some cool new features
    but also addresses some problems with things like terrible
    LVM snapshot performance.
    
    Currently the version of LVM in Ubuntu 12.04 does NOT support LVM thin,
    however an experimental PPA from brightbox which is a backport from
    Quantal has been proposed to Cannonical to be pulled in.  For some
    users the experimental PPA is a better option than dealing with some of
    the current issues in the standard LVM2 version of Precise (including
    the dd hangs on secure delete). See BP for more info.
    
    This change will create the thin pool if it doesn't exist
    using pool_size flag, or by default using entire VG space.
    
    Implements BP: implement-lvm-thin-provisioning
    
    Change-Id: I8a30a1283e1992c64e8ac96841ae4a6f82f7018a

commit 602da5b06b7bd2b16079305d2b2b90f88301f675
Merge: 86a6133 ac7031b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 25 05:50:25 2013 +0000

    Merge "Fix hosts extension and enable its tests"

commit 86a61330f5b7cf204425bb69faacc56ab4ff1d63
Merge: a4ccddd 4c2cfaa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 25 02:49:44 2013 +0000

    Merge "Update EMC SMI-S iSCSI Driver"

commit a4ccddd053702b73e01d0bcd49bdca62b7e46929
Merge: 5739ed1 2c84413
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 25 00:25:10 2013 +0000

    Merge "Get updated vol status in volume.api.reserve."

commit 9be3801e5bd3a73208485354d8370104792ef35c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jan 21 21:50:20 2013 -0700

    Check for installed cinder in filter tests.
    
    Some of the filter tests require that the cinder pkg is
    installed on the system, specifically cinder.egg-info/entry_points.
    
    This change check that the egg-info directory exists in the root
    cinder directory and determines whether to skip or not.
    
    Change-Id: I36145f170e802aed5dfae8eec4684e60ad3d6f2c

commit ac7031b1b61496086394340f6bf15677f24bd39b
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Jan 25 01:21:44 2013 +0800

    Fix hosts extension and enable its tests
    
    This patch corrects the import in hosts.py, fix the DB API
    service_get_by_host_and_topic raises ServiceNotFound exception with
    right parameter and move tests to the right place so that they are
    enabled.
    
    Fix LP bug: #1104231
    
    Change-Id: I07c486f456196a3812eb5274b950ab9560a51cf3

commit 5739ed173e7f0bef903e7bc609bb87286bb4304f
Merge: 6c0bc85 0005745
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 24 07:14:29 2013 +0000

    Merge "Add LUN# to provider_location in Nexenta driver."

commit f02c575b4b28b69cade6c1c06dd772c62754fc9c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sun Jan 20 22:52:52 2013 +0000

    Check for non-default volume name template.
    
    The iscsi delete methods in iscsi.py had hard-coded volume names
    'volume-%s'.
    
    If a user configured volume_name_template to
    something other than default the result is failure to remove
    the iscsi_target.
    
    volume create worked appropriately and created the correct name
    in the DB, so the persistence files were the only thing affected
    or named incorrectly.
    
    Fixes bug: 1101071
    
    Change-Id: Id5575874b2cebd9b3509d739cb92abf06c503c4e

commit 6c0bc85b640af44010a77ce66262399caca91f62
Merge: 7978247 fee9b2a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 24 00:44:44 2013 +0000

    Merge "Fix error for extra specs update with empty body."

commit 7978247b209b5a6846eae991b56bcf98167fce0c
Merge: 4c2477e bf6f0d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 24 00:07:51 2013 +0000

    Merge "Improve error message for missing NFS share config"

commit 4c2477ebb307ca207a374f961ad192664955a3f4
Merge: 7dc0cb5 0007d25
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 23 18:55:18 2013 +0000

    Merge "ensure zeros are written out when clearing volumes"

commit 7dc0cb5c7650481393ab5ab80b70565292d45211
Merge: 4e15bca 24a84d0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 23 18:37:26 2013 +0000

    Merge "Clean up IPV6 config checks in test_wsgi."

commit 2c84413c74e6481abe4af716ea12d8c75b405c25
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jan 23 04:15:40 2013 +0000

    Get updated vol status in volume.api.reserve.
    
    A race condtion was discovered where a nova volume attach
    could easily be performed twice for the same volume.  Although
    the cinder attach update would fail, this occured after the BDM
    updates were made and in essence the attach to the compute instance
    had already been issued.
    
    This change simply forces a get from the DB of the volume-ref in the
    reserve call and checks if an attach is already in progress.
    
    Fixes bug: 1096983
    
    Change-Id: Ie0e4156d691ee92b6981078ef0ba62f8c4cdf0c8

commit 4c2cfaa985c57c14400d5c8604b4215c41a66f65
Author: Xing Yang <xing.yang@emc.com>
Date:   Thu Jan 17 16:33:47 2013 -0500

    Update EMC SMI-S iSCSI Driver
    
    Refactor EMC SMI-S based iSCSI driver.  There are lots of common code
    that can be shared between iSCSI and FC drivers using SMI-S.  Break
    the original emc.py into two files: emc_smis_common.py and
    emc_smis_iscsi.py.  Also added support for get_volume_stats() and
    create_cloned_volume().  get_volume_stats() will be revisited after
    winston-d's changes.  copy volume<->image will be revisited after
    avishay-il's changes.
    
    Change-Id: I90dc3599ec2fd5bb86a3e988111a8aee5de7efea

commit 4e15bcab84a58d2a9f5626984cfacb20d593d9fb
Merge: 846061e bd71987
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 22 10:53:10 2013 +0000

    Merge "Add capability to update volume metadata."

commit 31adf9abc57225fddd0f6d956f271f24bb8f576c
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Tue Jan 22 06:28:58 2013 +0530

    Clean up QTree when deleting volume on NetApp storage box.
    
    Previously, deleting a Cinder volume would leave a QTree on NetApp
    storage box. This commit fixes the issue.
    
    Fixes bug 1099414
    
    Change-Id: I95f1d6b802f4abfad421d34f1c000b75fb72c41e

commit 846061e526b95804c377718b084f144a79f16690
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Jan 21 17:57:04 2013 -0500

    Fix NFS volume creation
    
    NfsDriver uses an undefined method _sizestr.  This patch removes it.
    
    Change-Id: I7cd4d04f404a00c22021f3971eb9f9593c657896

commit bf6f0d5f368dd79e8e5a8883b9bb0d24d7434cf4
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Jan 21 16:50:31 2013 -0500

    Improve error message for missing NFS share config
    
    If FLAGS.nfs_share_config is not defined, the error will reference
    the name of the config option to set.
    
    If the nfs_share_config path doesn't exist, the error will reference
    the path that was configured.
    
    This will hopefully simplify troubleshooting of NFS configuration.
    
    Change-Id: Ica6a60a63330554dc880f36962f3a081926ce5cf

commit 0007d255d9b20da4e5bbcdbaf5813104fbc092da
Author: Pádraig Brady <pbrady@redhat.com>
Date:   Wed Jan 16 16:23:48 2013 +0000

    ensure zeros are written out when clearing volumes
    
    Note O_DIRECT is _not_ used when copying from /dev/zero
    and there are issues with enabling that (see 444cd542).
    Therefore we arrange to have dd issue an fdatasync()
    to ensure the data is persisted, lest it be discarded
    from the write cache when the device is unprovisioned.
    
    * cinder/volume/drivers/lvm.py (_copy_volume): Add 'conv=fdatasync'
    to the dd option list if O_DIRECT isn't used when clearing
    (which it won't as descrived above).
    
    Fixes bug: 1100363
    Change-Id: I76789557754ebaeb6d52bb34548a2ef17808fbf6

commit fee9b2ad61bb69d356e1280f0556afd808c5f128
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Jan 21 10:19:02 2013 +0200

    Fix error for extra specs update with empty body.
    
    Fixes: bug #1090320
    Change-Id: Ia2792d477f7670ecb2eb0c9c10dcbf1cf5b2389e

commit 24a84d04e7e5fd06083a8e8ee383c0abaceeebc1
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Jan 18 10:07:10 2013 -0700

    Clean up IPV6 config checks in test_wsgi.
    
    Two tests in test_wsgi require a configured IPV6 interface.
    We added a check/skip for this but it wasn't very graceful and
    didn't work on OS-X or platforms other than Linux.
    
    This patch implements the checks a bit cleaner using the skip_if
    decorator, and combines the linux/path check and configured interface
    check.
    
    Change-Id: I950fdfeb8135912faf5dcaabe52fb87abd73dd1e

commit bd71987bbf67715c8b84519b3ba3ac80552a901e
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Jan 15 23:38:11 2013 -0700

    Add capability to update volume metadata.
    
    This addresses some cleanup and bugs with volume metadata updates
    on the cinder side.  Mostly this implements v1/volume_metadata api
    and adds things like propery checks to cinder.volume.api.update_volume_meta.
    
    NOTE: This is only for api V1, a seperate patch will be provided for
    V2 once this lands.
    
    The remainder of the bp will be implemented in a cinderclient patch to follow.
    Implement cinder side of blueprint update-vol-metadata
    
    Also fixes bug: 1096018
    
    Change-Id: Ie11931f657d3dcd69680fe5fcae435ff89549d97

commit 6cfe5f2a6d99c9fff9386794149b273bd2442bd1
Author: MORITA Kazutaka <morita.kazutaka@gmail.com>
Date:   Thu Jan 17 16:40:24 2013 +0900

    Fix sheepdog volume creation
    
    SheepdogDriver uses an undefined method _sizestr.  This patch removes
    it.
    
    Change-Id: Id157df5c4d69148257060926dbac7b5bc2804ee0
    Fixes: bug #1100655.

commit cd67c4dc8c4c52a7e7fc4f15dcbac44f44ba8c4f
Merge: e26653b 690cae5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 18 17:35:35 2013 +0000

    Merge "Snapshot support for XenAPINFS"

commit 00057454f6609871c2cabf874876d26a6d0d0641
Author: Yuriy Taraday <yorik.sar@gmail.com>
Date:   Fri Jan 18 17:44:22 2013 +0400

    Add LUN# to provider_location in Nexenta driver.
    
    Fixes bug 1088411. Lets Nexenta driver work with any iscsi_helper.
    
    Change-Id: Ib70ed94fa472c7281de077f0f36575216741678f

commit e26653b0ee23617d5b271384445eb39269f90838
Merge: 5e31dc7 ad45eb3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 18 01:11:37 2013 +0000

    Merge "Check for configured IPV6 before running tests"

commit ad45eb32a6be5b47b89508d3dfba409434a049e1
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jan 17 16:30:32 2013 -0700

    Check for configured IPV6 before running tests
    
    Some folks don't/can't have IPV6 configured on their systems,
    the new IPV6 tests in test_wsgi require that you do, so
    let's add a check and skip if there are no IPV6 configured interfaces.
    
    Change-Id: I7cbdcbc3ad4cc4690634f6464d6e28d9f4dfd791

commit 5e31dc7982c26494644e769d25ab0cfa38c11685
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 17 16:21:54 2013 -0500

    New cinder.conf.sample format
    
    Based on recent changes in Nova, this provides a cleaner/simpler looking config file:
    
    - Move help message before each option, rather than after.
    - Print types like "string value" instead of "(StrOpt)"
    - Use fewer pound symbols
    
    Switch to a new format that looks much more like a normal config file.
    
    Change-Id: I69f9b7b84215a2a69bdb0c4af9d5e1cb1e105a45

commit d3324a35adc6bdba9b58a1bc2dbb6d9654e8936a
Merge: 7a58d2e 67c3006
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 17 18:49:10 2013 +0000

    Merge "Move iscsi flags back to driver.py"

commit 7a58d2ebaae8164abd20245f2608faa706b6f295
Merge: 1b27b38 2268705
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 17 15:36:54 2013 +0000

    Merge "Relax various version constraints."

commit 67c300604afa2d0c7e702f439fe1d4e45b90a7d8
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Jan 16 18:49:07 2013 -0700

    Move iscsi flags back to driver.py
    
    During the lvm class create the iscsi flags were moved.
    This is NOT correct, the flags belong with the ISCSI class
    and should have been left in driver.py where ISCSIDriver
    is defined.
    
    Moving these breaks the inheritance structure for all those that
    inherit from ISCSIDriver.
    
    Change-Id: I1fda9158d9f8f01005875b87265d2dd87bcbc67f

commit 690cae58e6bbac5758ea2f7b60774c797d28fba5
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Dec 31 15:52:18 2012 +0000

    Snapshot support for XenAPINFS
    
    Related to blueprint xenapinfs-snapshots
    
    Add support for snapshots, by implementing it with deep copies. Each
    snapshot is a copy of the volume. Snapshot object has a new,
    provider_location key, to store volume parameters.
    
    Change-Id: Iea06246319ce82d5fcfe417419156ec83ef0a895

commit 1b27b3835e4f24ba264a75ea4f979c837ec9b124
Merge: 8394b46 bb06ebd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 16 06:34:12 2013 +0000

    Merge "support a configurable volume wiping method"

commit 8394b468d5e25aaa0b58414effb837f961ec1d4f
Merge: 7dc70b3 7c6e8b8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 16:58:38 2013 +0000

    Merge "Update SolidFire Volume driver"

commit 7dc70b323b5aecb1345fc88104316f0c36eaea7d
Merge: a3bbe08 24d9610
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 16:53:42 2013 +0000

    Merge "Support for SSL in wsgi.Server"

commit a3bbe080213f240a90fb00e2031b93794dd3802d
Merge: 7905b6b b8fca65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 16:50:29 2013 +0000

    Merge "Enhance wsgi to listen on ipv6 address"

commit bb06ebd0f6a75a6ba55a7c022de96a91e3750d20
Author: Pádraig Brady <pbrady@redhat.com>
Date:   Thu Sep 6 16:36:50 2012 +0100

    support a configurable volume wiping method
    
    Add a clear_volume() method that is called from delete_method().
    This is only implemented at present for the base LVM driver.
    This new clear_volume() method now supports these config vars:
    
      volume_clear = none, zero, shred
      volume_clear_size = size_in_MiB
    
    'zero' is the default method and unchanged from previously.
    'none' is used if security isn't a concern, or there is
      independent volume scrubbing.
    'shred' is for more security conscious situations where
    an overwrite count is required. Currently this defaults to 3 passes.
    
    size_in_MiB can be used to limit the cleared area to the first
    part of the volume, which can greatly speed up the operation,
    and can be useful with encrypted volumes for example where
    overwritting the encryption keys at the start is sufficient.
    
    Fixes bug: 1022511
    Change-Id: I7312678ff5d66156578501483a1b74e2a69e19a0

commit 2268705e7d044754064b38a5cd6e9ca0d07df729
Author: Sascha Peilicke <saschpe@suse.de>
Date:   Tue Jan 15 14:53:20 2013 +0100

    Relax various version constraints.
    
    The current 3rd-party module requirements for cinder are still from the
    nova git import. Usually, having an upper bound for requirements makes
    only sense where API-incompatible changes are expected (like WebOb). For
    the others it is better the only require a minimum version because
    usually distributions differ on the shipped versions of these Python
    modules. For instance, openSUSE has newer versions for almost all of
    those and running the testsuite there works flawlessly.
    
    Change-Id: I4614a2ea87084f927a557b9fb85dcd10ae9dfeff

commit 7905b6b233cf9013b3592ce25a1f9d81f88fd5ba
Merge: 5f41390 bf46a11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 07:02:25 2013 +0000

    Merge "Upgrade WebOb to 1.2.3"

commit 24d961023f2a32ca3454991a7891199d2da796dc
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Sat Jan 12 16:16:19 2013 -0500

    Support for SSL in wsgi.Server
    
    SSL are entirely optional. Support for SSL as well using code from glance. We
    have some new options for configuring the SSL support. There are tests for
    accessing a sample app w/o ipv6 or ssl, one with just ssl and one with
    ipv6 and ssl
    
    DocImpact
    
    Change-Id: I9aa1db6c9563868bf68ced7c4311daa870216ced

commit b8fca650b41e894d057a10970c6eec412716ff57
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Thu Jan 10 11:26:03 2013 -0500

    Enhance wsgi to listen on ipv6 address
    
    Check if the hostname is ipv6 and set the family appropriately.
    Picking up the snippet from glance.
    Picked up some code from nova as well to get the test case running
    properly
    
    Change-Id: Ic79fcda2371f0907d75a142ea18b26b3e8d92e51

commit 5f41390dde7305e8374fe9bd193c396e6ea04350
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jan 9 09:31:19 2013 +0200

    Factor out LVM code.
    
    Currently volume drivers inherit from VolumeDriver and ISCSIDriver,
    which contain LVM-specific code. The LVM-specific functions are
    generally overridden. The problem is that there is no place for
    generic code for all drivers to inherit, which the LVM driver can
    override. This patch basically makes the VolumeDriver and ISCSIDriver
    classes mostly empty and moves the LVM-specific code to lvm.py. Also,
    moved the global _iscsi_location() and _iscsi_authentication()
    functions into the new LVMISCSIDriver class since nobody else used
    them.
    
    Change-Id: I067c975de97913bdc39086ad203cddef0c393c7a
    Implements: blueprint factor-out-lvm-code

commit 643f9169c4aae46f8c2ce0b8ad725c55946a4afd
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Oct 6 00:08:09 2012 +0800

    Implement filter scheduler
    
    In order to do more sophisticated scheduling (e.g. schedule based on volume
    type), filter scheduler is introduced. Several changes are made to make this
    possible, some of them are similar to the counterpart in Nova:
    
    - add HostState class to host_manager in order to store volume capabilities
    - implement get_volume_stats() method of iSCSIDriver as an example to
    demonstrate how volume backend driver reports capabilities as well as status
    - add scheduler_options.py and 'scheduler_json_config_location' flag to be
    allow loading json configuration file for scheduler at run time
    - port common filters/weights from oslo
    - add capacity weigher (scheduler/weights/capacity.py) for picking up
    target volume backend by weighing free capacity of the host. The default
    behavior is to spread volumes across hosts; by changing the
    'capacity_weight_multiplier' to negative number, volume placing behavior will
    become stacking.
    - add capacity filter which filters those hosts have insufficient storage space
    to serve the request.
    - add 'reserved_percentage' config option to indicate how much space is
    reserved. Capacity reservation is needed when volume resize is enabled.
    - add 'publish_service_capabilities()' method to volume RPC API to allow
    scheduler to have volume service report capabilities. This bumps volume RPC
    API to version 1.2
    - remove 'volume_force_update_capabilities' config option, volume status will be
    report to scheduler in every checking.
    
    The implication of this change to storage/backend driver developer:
    - implementation of get_volume_stats() of the driver is now a *MUST*, filter
    scheduler heavily relies on the status/capabilities reported by backend driver
    to makeplacement decision.  To ensure Cinder works seamlessly on the storage
    system, driver should at least report following capabilities/status:
    ----------------------+---------------------------+---------------------------
      Capability/Status   |      Description          |         Example
    ----------------------+---------------------------+---------------------------
     'volume_backend_name'| back-end name, string     | 'Example_Storage_Backend'
    ----------------------+---------------------------+---------------------------
      'vendor_name'       | vendor name, string       | 'OpenStackCinder'
    ----------------------+---------------------------+---------------------------
      'driver_version'    | version, string           |  '1.0a'
    ----------------------+---------------------------+---------------------------
      'storage_protocol'  | supported protocols,      | 'iSCSI', 'RBD', 'FC', 'NFS'
                          | string or list of strings | ['iSCSI', 'NFS', 'FC']
    ----------------------+---------------------------+---------------------------
      'total_capacity_gb' | capacity in GB, integer   |  102400
    ----------------------+---------------------------+---------------------------
      'free_capacity_gb'  | available capacity in GB, |  1000
                          | integer                   |
    ----------------------+---------------------------+---------------------------
    'reserved_percentage' | reserved space in         |  0, 10
                          | percentage, integer       |
    ----------------------+---------------------------+---------------------------
    
    The implication of this change to Cinder administrator:
    - the default setting for filter scheduler should work well with the benefits
    of:
      * being able to fully utilize capacity of backends (driver now has to report
      actul total space and space utilization and scheduler uses these info) not
      limited by the 'max_gigabytes' config option any more;
      * being able to choose placement policy between spreading & stacking for
      volume creation (by modifying the 'capacity_weight_multiplier' in
      CapacityWeigher)
    - with filter scheduler, Cinder is now able to utilize the advanced features/
    capabilities provided by different storage back-ends via: defining different
    volume types with proper extra_specs. Volume types can be considered as sets
    of back-end capabilities requirement.
     For example, a volume type which has 'storage_protocol':'FC' key/value pair
    definition in its extra_spec can only be served by those back-ends who report
    they support FiberChannel protocol. Another example is volume type has 'QoS'
    requirement can only be served by back-ends support QoS.
    
    Note/TODO:
    * Currently scheduler makes its decision based on the status and capabilities
    information reported by volume nodes, and these information is stored in memory
    of scheduler process. More sophisticated way may be add on table in DB to
    record status/capabilities of all volume nodes, like Nova does for compute nodes.
    
    implement bp volume-type-scheduler
    
    DocImpact
    
    Change-Id: I296b3727db8de0d4cf085fac602d122a7b474842

commit 9e3a254f6d94a42b23f9f2dec85d6db5e19d380a
Merge: 141a4ca 28df9f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 10 00:35:09 2013 +0000

    Merge "Revert "Implement filter scheduler""

commit 28df9f3de838e7b5eeb8461e15d0da11f95440d8
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jan 9 23:55:26 2013 +0000

    Revert "Implement filter scheduler"
    
    This reverts commit 8dd2140c4c03582965d74232c7b61aef34e43661

commit 7c6e8b8487a72ac4f001a3267cbed3f7647c7bb7
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Dec 31 16:16:19 2012 -0700

    Update SolidFire Volume driver
    
    Adds support for clone volumes and set QoS use volume type / extra_specs.
    Also includes some minor cleanup and some hardening for known pre-release
    XDB issue in SolidFire Cluster API.
    
    Change-Id: I4b39b301b9a1f9b859a694decfee48c74d22a74a

commit 141a4cab68cae6eef7f3fcc22b40e6c708e19126
Merge: c622cc7 8dd2140
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 09:59:11 2013 +0000

    Merge "Implement filter scheduler"

commit c622cc7a103e946726bd968a05990140dd1836b7
Merge: 9853972 027b78a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 07:28:18 2013 +0000

    Merge "Provide HP 3PAR array iSCSI driver"

commit 985397225ba942c086ffa6c5ab14a0d79c01e597
Merge: ba9604b c6f7f19
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 04:02:39 2013 +0000

    Merge "Use tempdir for lock_path in tests."

commit ba9604b0d8abe353926899eee2b072cd56e24262
Merge: cba4194 f791565
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 02:19:50 2013 +0000

    Merge "Enable cinder exception format checking in tests."

commit cba41944b54caf6e5bdd244c63c9e0f298fc2dfc
Merge: a3a28fe 3cb7ee4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 02:12:36 2013 +0000

    Merge "Update exceptions to pass correct kwargs."

commit a3a28fe010437878d17f0b31f51b9139873794a9
Merge: edb5491 a363c41
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 02:12:33 2013 +0000

    Merge "Add option to make exception format errors fatal."

commit 027b78a214e1f7ab7bbda342a024cb13dae8944d
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Dec 18 14:16:33 2012 -0800

    Provide HP 3PAR array iSCSI driver
    
    implements blueprint hp3par-volume-driver
    
    We have the driver broken into 2 files:
    hp_3par_common.py and
    hp_3par_iscsi.py
    
    The reason we do this is because we have a fibre channel driver
    that will be submitted shortly after this is committed.   The
    fibre channel driver and the iscsi driver share a lot of the same
    code that talks to the 3PAR array for provisioning.  So,
    it made sense not to have duplicate code.  The fibre channel driver
    will be dependent on the fibre channel support I am actively working
    on for nova/cinder grizzly release.
    
    The driver uses a 2 mechanisms to talk to the 3PAR array:
    1) a python REST client (hp3parclient) that lives in the pypi
       repository here:
       http://pypi.python.org/pypi/hp3parclient
    
    2) SSH.  We had to pull in some of the ssh code from the base san
       driver to help fix an issue with executing commands on the 3PAR
       array.  The 3PAR has the ability to turn on CSV output for command
       results, which makes this easier to parse.  Unfortunately, there
       is no way to turn CSV mode on permanently for all ssh requests.
       So, we have to turn on the CSV output for every single ssh command
       issued.  Since we use ssh as well, we require the san_* options
       to be set.
    
    We use a dual mechianism because the REST API that ships with the 3.1.2
    firmware doesn't support all of the capabilities a cinder driver needs
    to export volumes.
    
    When a newer version of the firmware comes out that supports host
    management on the 3PAR array, then we will get rid of the SSH code.
    
    Change-Id: I9826ba1a36e27a9be05457ee9236a491dbfd0713

commit edb5491070f7a6bab257089e7b98278b68949cb1
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 14:00:09 2013 -0500

    Fix CinderClient exception name in EMCISCSIDriver.
    
    Change NovaException to CinderException in the emc driver.
    
    Change-Id: Id84ca2a354afc6a7b795aef779a9fdd2567ce0d6

commit f791565c5bff7b08bc10af538e54d0505457ef41
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 13:24:49 2013 -0500

    Enable cinder exception format checking in tests.
    
    Updates the Cinder test runner so that it enables
    'fatal_exception_format_errors' for testing.
    
    Includes a bunch of fixes to test exceptions as well so they
    will continue to pass.
    
    Change-Id: Idd30a810fb81e8e14490644779c3e03b6af25ff3

commit 3cb7ee45557ad68458bb96c3f4bcea1f796dcde9
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 13:23:15 2013 -0500

    Update exceptions to pass correct kwargs.
    
    Updates a variety of Cinder exceptions so that they pass the correct
    kwargs for proper exception message formatting. Previously
    these exceptions would work but have incorrect error messages
    because of how CinderException handled exception formatting errors.
    
    Change-Id: Id1d15b112cad46a698227fa172d81a9ab586e66e

commit a363c410a0900a113293b14fef5b3d14814cc05e
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 13:20:57 2013 -0500

    Add option to make exception format errors fatal.
    
    Adds a new fatal_exception_format_errors config option which
    defaults to False. This option is use to control how the base
    CinderException class handles errors which can occur when it
    formats error messages.
    
    The motivation for this change is to be able to enable exception
    format checking in our tests by setting fatal_exception_format_errors=True.
    
    Change-Id: I2df952558d3f30a557cbb094f8bddcc37af9b5aa

commit 8dd2140c4c03582965d74232c7b61aef34e43661
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Oct 6 00:08:09 2012 +0800

    Implement filter scheduler
    
    In order to do more sophisticated scheduling (e.g. schedule based on volume
    type), filter scheduler is introduced. Several changes are made to make this
    possible, some of them are similar to the counterpart in Nova:
    
    - add HostState class to host_manager in order to store volume capabilities
    - implement get_volume_stats() method of iSCSIDriver as an example to
    demonstrate how volume backend driver reports capabilities as well as status
    - add scheduler_options.py and 'scheduler_json_config_location' flag to be
    allow loading json configuration file for scheduler at run time
    - port common filters/weights from oslo
    - add capacity weigher (scheduler/weights/capacity.py) for picking up
    target volume backend by weighing free capacity of the host. The default
    behavior is to spread volumes across hosts; by changing the
    'capacity_weight_multiplier' to negative number, volume placing behavior will
    become stacking.
    - add capacity filter which filters those hosts have insufficient storage space
    to serve the request.
    - add 'reserved_percentage' config option to indicate how much space is
    reserved. Capacity reservation is needed when volume resize is enabled.
    - change default scheduler to 'filter.FilterScheduler'.
    - add 'publish_service_capabilities()' method to volume RPC API to allow
    scheduler to have volume service report capabilities. This bumps volume RPC
    API to version 1.2
    - remove 'volume_force_update_capabilities' config option, volume status will be
    report to scheduler in every checking.
    
    The implication of this change to storage/backend driver developer:
    - implementation of get_volume_stats() of the driver is now a *MUST*, filter
    scheduler heavily relies on the status/capabilities reported by backend driver
    to makeplacement decision.  To ensure Cinder works seamlessly on the storage
    system, driver should at least report following capabilities/status:
    ----------------------+---------------------------+---------------------------
      Capability/Status   |      Description          |         Example
    ----------------------+---------------------------+---------------------------
     'volume_backend_name'| back-end name, string     | 'Example_Storage_Backend'
    ----------------------+---------------------------+---------------------------
      'vendor_name'       | vendor name, string       | 'OpenStackCinder'
    ----------------------+---------------------------+---------------------------
      'driver_version'    | version, string           |  '1.0a'
    ----------------------+---------------------------+---------------------------
      'storage_protocol'  | supported protocols,      | 'iSCSI', 'RBD', 'FC', 'NFS'
                          | string or list of strings | ['iSCSI', 'NFS', 'FC']
    ----------------------+---------------------------+---------------------------
      'total_capacity_gb' | capacity in GB, integer   |  102400
    ----------------------+---------------------------+---------------------------
      'free_capacity_gb'  | available capacity in GB, |  1000
                          | integer                   |
    ----------------------+---------------------------+---------------------------
    'reserved_percentage' | reserved space in         |  0, 10
                          | percentage, integer       |
    ----------------------+---------------------------+---------------------------
    
    The implication of this change to Cinder administrator:
    - the default setting for filter scheduler should work well with the benefits
    of:
      * being able to fully utilize capacity of backends (driver now has to report
      actul total space and space utilization and scheduler uses these info) not
      limited by the 'max_gigabytes' config option any more;
      * being able to choose placement policy between spreading & stacking for
      volume creation (by modifying the 'capacity_weight_multiplier' in
      CapacityWeigher)
    - with filter scheduler, Cinder is now able to utilize the advanced features/
    capabilities provided by different storage back-ends via: defining different
    volume types with proper extra_specs. Volume types can be considered as sets
    of back-end capabilities requirement.
     For example, a volume type which has 'storage_protocol':'FC' key/value pair
    definition in its extra_spec can only be served by those back-ends who report
    they support FiberChannel protocol. Another example is volume type has 'QoS'
    requirement can only be served by back-ends support QoS.
    
    Note/TODO:
    * Currently scheduler makes its decision based on the status and capabilities
    information reported by volume nodes, and these information is stored in memory
    of scheduler process. More sophisticated way may be add on table in DB to
    record status/capabilities of all volume nodes, like Nova does for compute nodes.
    
    implement bp volume-type-scheduler
    
    DocImpact
    
    Change-Id: I8b5305bce3b24bcc85365037356a8f36d0107133

commit 93bb58732ddb1f2e561347f35699f66c5263ac02
Merge: d6dc273 d99fb60
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 8 04:10:32 2013 +0000

    Merge "Implement ability to Clone volumes in Cinder."

commit d6dc273cb72ce0ffe09251436332d9b12605f0f9
Merge: e57cd51 e3132d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jan 7 18:22:05 2013 +0000

    Merge "Add service mgmt extension."

commit e57cd5171d89fb60c41e5a301bbc442374d34fb8
Merge: 9c29408 3068391
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jan 7 17:57:24 2013 +0000

    Merge "Make WebOb version specification more flexible"

commit c6f7f1920e52ff3d44ab16e1fe77b895b5a4ab16
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Jan 7 10:08:16 2013 -0700

    Use tempdir for lock_path in tests.
    
    Commit: 2331d3336a6adf4fc13a3b187e91a5d1b1f7c723
    introduced use of lockutils but wasn't setting a lock_path, in the tests.
    As a result we were polluting cinder/openstack/ with cinder-xxxx lockfiles.
    
    This patch adds a tempfile and cleanup to the test so we don't leave any
    junk behind.
    
    Change-Id: Idd9fee928ff0fcf3f8d1c30ee88c5306b88e290c

commit bf46a11fa375b564ac6cf1144ffecfde258db775
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Thu Jan 3 11:09:36 2013 -0500

    Upgrade WebOb to 1.2.3
    
    The version of WebOb being used in OpenStack was more than
    1 year old. This change updates to the latest stable release.
    
    Upgrading WebOb resolves a version conflict between OpenStack
    and Pecan, the web framework used by the Ceilometer team for
    version 2 of the ceilometer API.
    
    Refer to http://docs.webob.org/en/latest/news.html
    for the list of changes between 1.0.8 and 1.2.3.
    
    bug 1092227
    
    Change-Id: I44fdd11acbf1d5245e0c9c5a6199fd53200928ed
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 3068391b52d8b86d2560bfea9014f4c70e10fd72
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Mon Jan 7 10:52:39 2013 -0500

    Make WebOb version specification more flexible
    
    Change the WebOb version to >=1.0.8 as an temporary
    measure to allow the actual version update to 1.2.3
    to roll out across the projects one at a time without
    breaking the integration tests.
    
    Change-Id: I9969b02a6896f7b952301e40e96f0ef6df8f34c0
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 9c294087e4cebf04bc87b32ffd3afdf8f91a2436
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 3 15:08:53 2013 -0500

    Fix cmds clearing in TargetAdminTestCase.
    
    clear_cmds() should reference self.cmds rather than cmds.
    
    Change-Id: I1d191aee6a713cf9f2b08c46bf47c1959235cc15

commit 0b93217fa75959f9f83b259e38c356a43eb8a720
Author: Chuck Short <chuck.short@canonical.com>
Date:   Thu Jan 3 09:50:57 2013 -0600

    Add missing library
    
    According to pyflakes:
    
    cinder/api/common.py:246: undefined name 'minidom'
    cinder/api/common.py:254: undefined name 'minidom'
    cinder/api/common.py:272: undefined name 'minidom'
    cinder/api/common.py:284: undefined name 'minidom'
    
    Add from xml.dom import minidom
    
    Change-Id: Iadb1586ac15c29bb1f2154324e529976f82c19f0
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit f8e683f13bfa435ddbd221b8832b9c7ae65f6a2e
Merge: 9963cb7 f0d5dee
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 3 05:13:59 2013 +0000

    Merge "Adding marker, pagination, sort key and sort direction to v2 api"

commit 9963cb70fd4d07227077e7269fa7b325faa3868f
Merge: d833297 2adf688
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 3 05:12:07 2013 +0000

    Merge "Add pyflakes"

commit d833297d5a8d27a2aeab6b035eaf1590e294dccb
Merge: 5f6cb2f 2331d33
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 2 23:48:08 2013 +0000

    Merge "Adds synchronization to attach volume."

commit 5f6cb2f1c19687ef3a40cf6988f12b25c5269193
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Wed Jan 2 14:16:19 2013 -0500

    use deleted = False, not 0 for update
    
    Fixes bug #1095401
    
    When running tempest on cinder on postgresql we get a number
    of errors because this call was trying to set deleted = 0.
    On mysql 0 == False, but on postgresql this is a type error.
    
    Change-Id: Ice85550e8138e0656c93a8a800afdbc5935e4bcc

commit d99fb6011cc610b78d42891800189feed0391742
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Dec 12 15:23:56 2012 -0700

    Implement ability to Clone volumes in Cinder.
    
    This implements the capability to create usable volume clones in Cinder,
    for the LVM case we create a temporary snapshot to copy from so that
    volumes can remain attached during cloning.  This works by passing
    in a source-volume-id to the create command (similar to create-from-snapshot).
    
    Currently we limit clone to the same Cinder node, and only for the base LVM driver.
    All other drivers should raise NotImplemented, most inherit from the SANISCSIDriver,
    so move the function there and raise until we have a general implementation
    for SANISCSI based drivers.
    
    Those drivers that inherit from ISCSI directly instead of SANISCSI,
    add the function explicitly and raise NotImplementedError there as well.
    
    Implements blueprint add-cloning-support-to-cinder
    
    Change-Id: I72bf90baf22bec2d4806d00e2b827a594ed213f4

commit 2adf6889233273f5bd03260d408dce91aa9c6275
Author: Chuck Short <chuck.short@canonical.com>
Date:   Wed Jan 2 08:43:53 2013 -0600

    Add pyflakes
    
    Add tox option to use pyflakes.
    
    Change-Id: Ic77ec3f54cb89341d5b01feb3417e07f43d20c9c
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit 2331d3336a6adf4fc13a3b187e91a5d1b1f7c723
Author: Rohit Karajgi <rohit.karajgi@nttdata.com>
Date:   Fri Dec 28 04:58:46 2012 -0800

    Adds synchronization to attach volume.
    
    This patch adds the following changes:
    1. Move db update for volume status during attach to volume.manager
    2. Add lock synchronization to volume attach operation
    3. Related unit tests
    
    Fixes Bug 1087253
    Change-Id: I15242766bf4cfa4da67789c485fdf6886983eb45

commit 18269eaad82bae89a21929ece49f145f299e4632
Merge: 4c42d1e 21788e4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 28 01:47:36 2012 +0000

    Merge "Add EMC Volume Driver in Cinder"

commit 21788e4a42118d45fbcb3649110cf6c92363d4fc
Author: Xing Yang <xing.yang@emc.com>
Date:   Fri Dec 14 00:05:14 2012 -0500

    Add EMC Volume Driver in Cinder
    
    Add support for EMC storage in the Cinder-Volume service.
    This driver is based on the existing ISCSIDriver, with the ability to
    create/delete and attach/detach volumes and create/delete snapshots, etc.
    The Cinder Driver executes the volume operations by communicating with the
    backend EMC storage. It uses a CIM client in python called PyWBEM to make
    CIM operations over HTTP.
    EMC CIM Object Manager (ECOM) is packaged with the SMI-S Provider. It is a
    CIM server that allows CIM clients to make CIM operations over HTTP, using
    SMI-S in the backend for EMC storage operations.
    SMI-S Provider supports the SNIA Storage Management Initiative (SMI), an
    ANSI standard for storage management. It supports VMAX/VMAXe and VNX
    storage systems.
    
    Implement bp: emc-volume-driver
    
    Change-Id: Iafce98603d31d66a7297ef11c92d5e6ac6ba3737

commit bbc4b9abd7c2034ef78f87abae143b9c7bfd7f56
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Sun Dec 23 16:47:58 2012 -0800

    Added extra-spec key scoping to the 3PAR drivers
    
    The Filter scheduler uses the extra-specs data to determine capabilities
    and back-end, and it also enforces strict checking. As a result previous
    method of setting all the 3PAR settings(cpg, snap_cpg, persona, provisioning)
    on the 3PAR volume using extra-specs on a volume type will not work with the
    default scheduler. The filter scheduler will look at these keys and fail to
    schedule deployment of the volume because no suitable back-end reports those
    capabilities.
    
    This fix will allow the custom keys (ie: hp3par:cpg=TEST_CPG,
    hp3par:provisioning=full,...) to be scoped, unfortunately this requires
    additional checks in the common driver to parse the keys.
    
    I'll update the 3PAR driver section of the OpenStack Block Storage Admin
    Guide in a follow-up patch.
    DocImpact
    Fixes: bug 1194289
    
    Change-Id: Id3fde3b3a185eedf2b8193fd0dc6324d904e8834

commit f0d5dee0d3aed14d9c49df073a220c19e695461c
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Dec 18 00:42:49 2012 -0800

    Adding marker, pagination, sort key and sort direction to v2 api
    
    Taking a cue from quantum, use glance's pagination function.
    
    bp api-pagination
    
    Change-Id: Ida7ade8d9332c88679849f7c640651df7e855abb

commit 4c42d1eb86a44fb3c3ee3a3f446103dce95be8ec
Merge: c2e9e2f 035cd28
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 22 07:00:09 2012 +0000

    Merge "Make the NetAppISCSIDriver._is_clone_done() method able to handle empty responses. Add unit tests to exercise this case."

commit c2e9e2f37804e1fe55830e221df584844c5390f2
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Fri Dec 21 09:33:22 2012 -0800

    Fix typo in image_utils tempfile handling
    
    Commit cbcd340 changed from NamedTemporaryFile to mkstemp, but
    mkstemp returns a file descripter, not a file object. We therefore
    need to close the fd using os.close(). This was tested using
    devstack.
    
    Change-Id: I808fa470a141e249fe30ee762ee94f47ecfd3f63

commit 035cd28ed36c4ec34c20e7cedf0815af72e3f2c0
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Fri Dec 21 00:24:46 2012 -0500

    Make the NetAppISCSIDriver._is_clone_done() method able to handle
    empty responses. Add unit tests to exercise this case.
    
    bug 1090168
    
    Change-Id: Ia51a73b8ebead7a0f3be9202794ca8549bdf3e5b

commit cbcd340c67c914e38342471c8a1a0aba984c15ff
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Thu Dec 20 13:43:09 2012 -0800

    Make sure we don't double remove tmp on exception
    
    The fetch_to_raw code would fail if an exception is thrown during
    fetch because it would attempt to delete the same file twice.
    
    Fix this by using mkstemp and our wrapper which only deletes the
    tmp file if it exists.
    
    Change-Id: I7bb3171d3c7dc023fc743578c2ce6e804bbc49f5

commit e3132d29f40333e66500a454ac8f68b652d4ef12
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Dec 18 23:02:32 2012 +0000

    Add service mgmt extension.
    
    Add capability to list, enable and disable cinder services on a node.
    
    Change-Id: I6728fee46d7b15a009bc6c329414ede8c01852b4

commit 3b02985805a1442c97edb119ec01c013f3ab36cb
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Dec 11 11:26:16 2012 -0800

    Added the lockutils, fileutils, gettextutils
    
    The 3par driver, for both iSCSI and Fibre Channel,
    that I will commit soon, needs the lockutils to ensure thread safety in
    each of the driver entry points.  The driver uses a single shared http
    session for all of it's connections to the 3par drive array.
    This is required for the driver because of the limitation on the
    3par's WSAPI only supporting a very small number of open connections.
    
    For example without this, the driver will have problems when 2 users try and
    create a volume at the same time.   I've discovered this in my threaded
    stress test tool.
    
    Change-Id: Ic9d7295e7bcbf5c06086ddf5bd9b8b2fe771faa5

commit 319221d567e7a1c237fcf0eb1706181ea4cdf53c
Merge: deb88ed afe1d21
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 18:02:27 2012 +0000

    Merge "Moving host admin extension with other extensions"

commit deb88ed7cbe8a5d018b03cbdc71dd41dd1d5ecc3
Merge: 10c6c7c 147e30b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 18:02:06 2012 +0000

    Merge "Fixes a Windows volume driver bug on disk export"

commit 147e30b4a8a9ce8361b048239a0187ac04679db1
Author: Alessandro Pilotti <ap@pilotti.it>
Date:   Wed Dec 12 22:10:35 2012 +0200

    Fixes a Windows volume driver bug on disk export
    
    Fixes Bug #1089168
    
    When a VHD created by Cinder using the iSCSI Target Server is deleted
    manually, at the next startup the cinder-volume service terminates with an
    exception.
    This fix adds a check to verify if the disk exists.
    
    Change-Id: I830cb8332dcef845591bd88cccef1e0e9781ffcc

commit 10c6c7cfcbe767ae16b29f29625d2617efd921b1
Merge: f61e854 349d5bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 05:00:51 2012 +0000

    Merge "Add image metadata API extension"

commit afe1d219883c99b98e8850d07dad88417e9b3334
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Dec 18 20:26:29 2012 -0800

    Moving host admin extension with other extensions
    
    Think this was merged during the big api changes in g1. This allows the
    extension to actually be enabled.
    
    Change-Id: I07bb9646fd11368fe5ffd7f85617ecbf103dc788

commit f61e854460c5ad8129b2230686465884eb6b8852
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Mon Dec 17 14:38:53 2012 -0800

    Allow the lvm backed drivers to use mirrrors
    
    Adds a new configuration option called lvm_mirrors. If this is
    set to a value > 0, it will create the specified number of mirrors
    when creating volumes. Note that lvm_mirrors + 2 pvs are required
    in the volume group for lvm mirroring to work properly.
    
    Change-Id: I7e28d11c48cdbb99e17b0930b720fbd805bf9931

commit 792d3a166b7ac8478e21bcd255ac53f7bdec719e
Merge: 5bda255 be3d8ea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 17 04:13:51 2012 +0000

    Merge "CHAP support for IBM Storwize/SVC driver."

commit be3d8ea90a9238b7afc5558db14c080e15001685
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Nov 29 12:22:00 2012 +0200

    CHAP support for IBM Storwize/SVC driver.
    
    This implements support for CHAP authentication of hosts by the IBM
    Storwize/SVC controller. A host entity was created on the controller for
    each server that logs in with iSCSI. Now a randomly-generated CHAP
    secret is added to the host entity on the controller (passed via the
    controller CLI over SSH).
    
    Implements blueprint add-chap-support-to-storwize-svc-driver
    
    Change-Id: I60b5ddd0ea2e1ede3070779e5293820480aa0401

commit 5bda255e64ad8394ca4e39393db4114aa613464f
Merge: e10da6e 33b21f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 15 04:29:12 2012 +0000

    Merge "Remove instance quota re-sync code"

commit e10da6e8eedd96dc8c4e5b680659e6509a8742c3
Merge: 403142a db9cf2b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 14 16:24:39 2012 +0000

    Merge "Support glance servers over https"

commit 33b21f3f466d94b83df95d4a756b60ec2a02437d
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Fri Dec 14 14:19:20 2012 +0000

    Remove instance quota re-sync code
    
    Obviously came in inadvertantly in a copy'n'paste from the
    nova quotas logic.
    
    Not relevant to volume quotas and would fail if ever called
    (as instance_data_get_for_project is not part of the cinder
    DB API).
    
    Change-Id: Ib52b962b51003955430ad292084a3e3010736a2c

commit 349d5bdf0ed6fb18308c1e1e352d726ed9e00d8f
Author: Nikola Dipanov <ndipanov@redhat.com>
Date:   Fri Dec 7 15:53:28 2012 +0100

    Add image metadata API extension
    
    This patch introduces an API extension that will expose the volume
    metadata inherited from the image if the volume was created from an image.
    
    This data will be used by Nova when booting from volume without any
    image supplied.
    
    In addition, the patch introduces a helper method on the volume.API
    class for accessing the image metadata and also updates the policy.json
    files to be aware of the new extension.
    
    This patch is part of the blueprint improve-boot-from-volume
    
    This patch also introduces DocImpact as it extends the cinder API
    
    Change-Id: I64515cc02f8de863e65e96c66eb1fda1a1954ac7

commit 403142a43f553b1488eae795c6dfff3967825bf1
Author: Sam Morrison <sorrison@gmail.com>
Date:   Fri Dec 14 13:49:46 2012 +1100

    Raise NotImplemented for drivers that don't support images
    
    Fixes bug #1090169
    
    Raise NotImplementedError on copy_image_to_volume and
    copy_volume_to_image on drivers that inherit from
    driver.ISCSIDriver that don't support this feature yet.
    
    Change-Id: I516d424a75dd21260f2ccc68467a8f6e6ac08e4d

commit 11c80571ae7b4c4afff99edd30f51e060fbac396
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Dec 13 13:17:31 2012 -0700

    Add *.swp to gitignore.
    
    Add swap files and alphabetize the list.
    
    Change-Id: Idaa9aec831740aa965a8d2d2486f4d9ffbb50746

commit db9cf2bca1cc6158ca129c7bfc6bead59ff1c7de
Author: Sam Morrison <sorrison@gmail.com>
Date:   Wed Dec 12 10:54:54 2012 +1100

    Support glance servers over https
    
    Fixes bug 1089147
    
    Updated glance.py from nova's version to support glance over ssl
    eg. glance_api_servers=https://glance.mydomain:9292
    
    New Flag: glance_api_insecure
    Set to True to disable certificate checking
    
    Change-Id: I53e62900265fea2de9b0ec20bbff0c40f1b14c91

commit 97ec98530331b590ab736252aa2cbe3ef7a557c6
Merge: 65b3421 484fb9e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 12 18:17:30 2012 +0000

    Merge "Changing display_name to name in v2 api"

commit 65b3421f4b66b1e26be54f4bcb93fd3f6c7fb6f8
Author: Carlos Goncalves <cgoncalves@av.it.pt>
Date:   Thu Dec 6 14:50:29 2012 +0000

    Add commands used by NFS volume driver to rootwrap
    
    Fixes bug 1087282
    
    Change-Id: Ib873c334633b4d586c2e53bac5d1cae0dcf65be7

commit 484fb9e1c748e718349e451e80a0e025ed007b1d
Author: Mike Perez <thingee@gmail.com>
Date:   Sat Dec 8 12:16:43 2012 -0800

    Changing display_name to name in v2 api
    
    This allows the v2 api responses to be more consistent with other
    projects. This approach is making the idea compatible in v2, rather
    than changing the model.
    
    blueprint name-attr-consistency
    
    Change-Id: I74e46b4204353d5712be788fe2138784b2a72305

commit 29b9290cb9f9556d5f9e1e90af4cfaba64e4ba2f
Merge: 0c507aa 6a31bf3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 8 04:21:13 2012 +0000

    Merge "Make copy_to_volume a bit more useful."

commit 0c507aa6d08a9471bf896961cc99d40f337f1e4d
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Dec 3 10:38:27 2012 -0800

    Make summary and detail view consistent with other projects
    
    This introduces the v2 volume view builder for ease of response
    changing.
    
    blueprint vol-api-consistency
    
    Change-Id: If061e069d3b09ee5de15f1cbc7a46fa29c95a4cd

commit 29b3da71bfb3389c7826efaa3ad76045e74c463e
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Nov 30 16:23:37 2012 -0800

    creating separate v1 and v2 stubs and general fakes
    
    For now contribs will use v2, but in the future will test against all
    supported versions.
    
    Change-Id: I47c30f8c2fc8a89f92065122bf1ca6aec1ce8b2d

commit 6a31bf3e436c1b975630615af0b381df3b7c8756
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Dec 3 21:02:19 2012 -0700

    Make copy_to_volume a bit more useful.
    
    The current implementation of cinder.driver.copy_to_volume
    does not take in to account image type and is only valid
    for raw images.  This doesn't do much good for the majority
    of cases, and rather than require folks to have a raw version
    uploaded to Glance, let's just do a convert if needed on the fly.
    
    This simply creates a temp file, does the conversion and then
    writes the temp file directly to the volume.
    
    Change-Id: I849b04b8aae76da068abcd2a20c1fcecca8a5caa

commit ad770a3eaeaea9c00871a8b45157adc85dba6c79
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Dec 6 13:36:23 2012 -0700

    Delete type call in api needs update to use ID.
    
    https://github.com/openstack/cinder/commit/51a438c8f3f0d13c6779602264d72cde82feab9c
    Introduced UUID's for volume_type ID and also changed delete to use ID
    instead of name.
    
    That changed neglected to update the call in contrib/types_manage,
    this patch fixes that.
    
    Fixes bug 1087161
    
    Change-Id: I839228cd656afaf68caedfe673f9191488ccc397

commit 51a438c8f3f0d13c6779602264d72cde82feab9c
Author: john-griffith <john.griffith@solidfire.com>
Date:   Sun Dec 2 00:01:49 2012 -0700

    Convert volume_type id from int to uuid.
    
    This converts the volume_type id from int to uuid.  In
    addition, this also corrects an issue of deleting volume_types
    by name.  Even though the client/api is taking the id, it was
    converting to the name of the volume_type for the db access.
    
    We also want to continue enforcing that the name is unique on creation
    so as to avoid any confusion and for clarity in Horizon.  The api
    has also been enhanced to allow you to specify the type by name
    or by uuid.
    
    This does NOT modify the things like the volume details display field
    (currently shows the type 'name' not 'uuid'), these types of changes
    will go in to V2 of the API.
    
    Implements blueprint vol-type-to-uuid
    
    Change-Id: I1c54ff2a1e0c5df5891408fc11b15176db4028c3

commit 02e19529b1b9b4b98293cd7eb15da1dffd1f7ac4
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Sun Dec 2 18:25:23 2012 -0800

    Fixes the 3PAR drivers CPG validation
    
    The 3PAR drivers were not checking if the Common Provisioning
    Group(CPG) exists in the virtual domain at volume create time when
    the default was being overwritten by volume type extra_specs value.
    It was also reporting the default CPG in the metadata returning
    after creating the volume. Now it reporting the correct CPG and
    setting the correct snapshot cpg if different from the default
    or not set.
    
    Fixes bug 1186427
    
    Change-Id: Idef7a4f29854c82980789786f2414e5046c8d8fb

commit b1e423299632016b7ee0528cba8ecb44016cf941
Merge: c4a4a4e 842521c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 3 15:09:52 2012 +0000

    Merge "Rename Config osapi_compute_link_prefix to osapi_volume_base_URL"

commit c4a4a4e59d52f10e88830fb4cbe52956e7b819b9
Merge: 9d73415 44a2b89
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Dec 2 16:10:34 2012 +0000

    Merge "Revert changes to monkey_patch."

commit 9d73415f11602032c75fd87a46cf2349275b8b2f
Merge: e1b834a 503e923
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 30 23:17:51 2012 +0000

    Merge "Fix exception when size is None."

commit 842521cb1267413025c47248dae8cd622d1d104c
Author: sathish-nagappan <sathish.nagappan@nebula.com>
Date:   Fri Nov 30 14:53:21 2012 -0800

    Rename Config osapi_compute_link_prefix to osapi_volume_base_URL
    
    fixes Bug #1046451
    
    Renamed the config option.
    
    Change-Id: Ia6eb057a11828bdc216e0bddbd29855285ba938c

commit 503e92332db78a2469fcc853a2be1c5dee9c8da4
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Thu Nov 29 17:48:03 2012 -0500

    Fix exception when size is None.
    
    If an incoming create request has a size of None raise
    an exception.
    
    Fixes: bug 1084711
    Change-Id: I5ad377073cc6853b502889ad9292b5758522ca88

commit e1b834a294244030b7fd48b10a88aafdaa60c202
Merge: 31629f6 e27b171
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 30 17:42:58 2012 +0000

    Merge "attaching volumes will set instance_uuid instantly"

commit 31629f637b6b18ca762604a24278249eeb6cfaf1
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Nov 30 09:19:05 2012 -0500

    Ensure request_spec can be serialized.
    
    request_spec includes some objects that must be converted to primitive
    types to ensure they can be serialized by any of the rpc drivers.  In
    this case, it's the volume type.  It's a sqlalchemy model.
    to_primitive() will ensure that it gets converted to a dict so that it
    can be serialized for messaging.
    
    I saw this error in a smokestack log that was running tempest with qpid.
    You won't see this error if you're using rabbit with the kombu driver.
    We have some magic with the kombu driver that will fix these problems
    automatically if they are missed.
    
    Change-Id: I9a1b7662bca7caa2acb61d1e3879ac2654d5b32e

commit e27b171883c1b87b8d2fdf0994947d4b93e640d9
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Nov 29 03:18:08 2012 -0800

    attaching volumes will set instance_uuid instantly
    
    This change allows the instance_uuid field to be set instantly when
    beginning an attach action. The user will no longer have to wait for the
    attachment to be complete to know what it is attaching to. If attaching
    fails on the driver layer, we got error state and keep the instance_uuid
    set for troubleshooting purposes.
    
    blueprint instance-attached-field
    Change-Id: Ie9860876ab865f766c0ae4cb616a45fd363931f8

commit de14700f955bd8393d016abe6644f646c0e0baf4
Merge: 79e0052 70e4f2c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 19:25:15 2012 +0000

    Merge "Unpin lxml requirements"

commit 44a2b8949fba07d9a3427137d59fe81fafbc3458
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Nov 28 12:19:14 2012 -0700

    Revert changes to monkey_patch.
    
    As a work-around to deal with bug 1075838, we modified
    monkey_patch in the Cinder binaries.  The root cause of the
    issue is/was actually a bug in eventlet but this was a quick
    work-around.
    
    Since the change Change-Id: I69ba75136e32e95c6fdf108f0c4fe21a5e3bdbe6
    to do this landed, the problem has also been addressed in Keystone.
    
    So, let's revert this patch to get back the greenthread performance
    that we may have lost with this change.  For now, everything should
    be addressed as long as we don't implement multi api worker in Cinder,
    if we do and the evenlet fix hasn't been released we'll need to turn
    the modification back on for bin/cinder-api.
    
    Change-Id: Ie845bade85dbceacd91f15e082325602d9a79c74

commit 79e0052e79fc8411b385c36cb1533d039ab09333
Merge: 4b6ba6e e78667d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 05:44:37 2012 +0000

    Merge "Provide i18n to those messages without _()"

commit 4b6ba6eeb97cbac6c23be82d4d14ad056e1649cf
Merge: e40ec2d de289a6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 05:21:24 2012 +0000

    Merge "Use auth_token middleware from keystoneclient."

commit e40ec2d83258690929fe89e85b971d9706af5970
Merge: d030c5b 2bdc7a7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 03:54:29 2012 +0000

    Merge "Fix import order to make it alphabetical."

commit d030c5b10e9e8d73d967562259e7db6146347108
Author: Adam Gandelman <adam.gandelman@canonical.com>
Date:   Tue Nov 27 17:51:26 2012 -0800

    Improve provider_location cleanup code for RBD.
    
    The RBD driver does not make use of the 'provider_location' field
    but the current cleanup code assumes it does.  Ensure the field
    is in use before testing whether or not it needs fixing.
    
    Fixes bug 1083818.
    
    Change-Id: Id6ff85101f85e70575ba244c2df7aca0196cf224

commit 2bdc7a7feb37dbf05dc98383bc0d6faff2f503b7
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Tue Nov 27 11:01:05 2012 -0500

    Fix import order to make it alphabetical.
    
    Change-Id: I159d9f5a6d131485d6063985a4e1638878b7463e

commit d81113f55e7a40adceae5bdab9878acbee42e518
Merge: dc9f039 3fe5bd6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 27 21:08:17 2012 +0000

    Merge "Fix None being passed into as_int()."

commit dc9f03901abd68f292bd1911777f43b05aa02b27
Merge: 461ae54 51418bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 27 16:32:23 2012 +0000

    Merge "Make pep8 checks a bit stricter."

commit 3fe5bd6a7112315a978be38a9e51a1787b300af3
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Tue Nov 27 10:41:25 2012 -0500

    Fix None being passed into as_int().
    
    Currently when a create is received and the size is of NoneType
    a stack trace is dumped because of the TypeError. This will
    correct it so the functionality won't change, but the TypeError
    is will be caught now.
    
    Change-Id: Ic83dd182e0083c887af8f6209a23af38bfff2be7

commit de289a666fd9f03725ade1f6ffb5ad3904295a94
Author: Yaguang Tang <heut2008@gmail.com>
Date:   Tue Nov 27 17:06:25 2012 +0800

    Use auth_token middleware from keystoneclient.
    
    auth_token middleware has been move from keystone to python-keystonecient,
    so add python-keystoneclient dependence instead of keystone.Also adds
    missing signing_dir option.
    
    Change-Id: I24a4f422c35b721338c7519212c21ed2fbc255b3

commit e78667da0dbcb6b65dc9017822854c9e97f5a4ab
Author: daisy-ycguo <daisy.ycguo@gmail.com>
Date:   Thu Nov 22 00:16:04 2012 +0800

    Provide i18n to those messages without _()
    
    bug 1081498
    
    There are a few log messages without _(), but a lot messages with _().
    Wrap these log messages with _() in order to make the code consistent.
    
    Change-Id: Ie8961453569e9a75bd0fd0733344db8059d05222

commit 461ae5443d1816eefa1bd8877a4b085a5cb7fda3
Merge: 0fb9897 444cd54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 27 07:18:34 2012 +0000

    Merge "Revert "use O_DIRECT when copying from /dev/zero too""

commit 444cd5429cc00f3a4ddb5cde4b8b1c974b886e19
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 27 05:46:58 2012 +0000

    Revert "use O_DIRECT when copying from /dev/zero too"
    
    It turns out running oflag=direct against the LVM snapshot fails for an IO error every time.  Works fine against the regular volume, but fails on snapshot.
    
    This reverts commit 1405a6440d646524d41adfed4fc1344948e2871f

commit 51418bdd5b44496694998b8123c0b62e9166d547
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Nov 24 20:17:32 2012 -0700

    Make pep8 checks a bit stricter.
    
    Along with moving to pep8 1.3.3, we also want to standardize
    on what we ignore. This patch get's us most of the way there
    by setting the ignore list to:
    N4,E125, E126, E711,E712.
    
    Almost all changes made here are white-space/indentation changes.
    
    The removal of Hacking N4 errors from the ignore list will
    be handled in a seperate patch.
    
    Change-Id: If45f156600485d23769449018590f60b4f69b0c5

commit 0fb98971a7d7836335906197a1bf7c7d448b8dab
Merge: 9922541 6da9686
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 26 18:21:45 2012 +0000

    Merge "Remove redundant db.volume_update() in volume manager create_volume()"

commit 9922541a05148da5e2e1d0344090b4128caa8dd0
Merge: df3f9d7 1405a64
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 26 17:04:28 2012 +0000

    Merge "use O_DIRECT when copying from /dev/zero too"

commit 70e4f2cdad6100cf73c59f60c741c11f69acbe30
Author: Chuck Short <chuck.short@canonical.com>
Date:   Sun Nov 25 15:42:19 2012 -0600

    Unpin lxml requirements
    
    Ubuntu is using a much newer version of lxml so
    we shouldn't lock the versions in our infrasctructure.
    
    Change-Id: I73589af70e4156968f14d2494b3af36fa8f4794e
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit df3f9d76b9bc353133cbcc7cea20c572cd302733
Merge: 5023fb5 67168a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 23 16:54:11 2012 +0000

    Merge "Add CONTRIBUTING file."

commit 1405a6440d646524d41adfed4fc1344948e2871f
Author: Pádraig Brady <pbrady@redhat.com>
Date:   Fri Nov 23 11:24:44 2012 +0000

    use O_DIRECT when copying from /dev/zero too
    
    We need to avoid trying O_DIRECT with virtual
    devices like /dev/zero and /dev/urandom etc.
    as it's not supported there, which because of
    our later check, would cause O_DIRECT to be
    not applied to the output device either.
    
    Related to bug 937694
    Possibly related to bug 1023755
    Change-Id: I034d8345c3d00689c1f1fffcc2c110735c49ee01

commit 67168a8d8024b2369963fd1ae98b6c12df100f72
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Nov 22 09:44:53 2012 -0700

    Add CONTRIBUTING file.
    
    If the CONTRIBUTING[.md] file exists, Github will show a link to it to
    anyone who files an issue on Github or opens a pull request on
    Github. This files points folks to the OpenStack wiki page which
    provides the proper instructions on how to contribute to OpenStack.
    
    See also <https://github.com/blog/1184-contributing-guidelines>.
    
    Change-Id: I8fef06b71aa993c4c68a1ec92c39a540318aaf31

commit 5023fb58d448ad2baad6139c34353f70b27a7ed2
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Tue Nov 13 17:15:41 2012 +0800

    Add the persistency to the volume created by iscsi IET.
    
    Bug 1070649.
    
    Change-Id: Ia2e095a8a60a5d5ca028272ed2a35c20b4ad45a7

commit 683344f6e7baa31c17e4b500542b3da67d4e85bc
Merge: 75ca60f 71d9f11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 07:27:57 2012 +0000

    Merge "Add hosts extension to Cinder."

commit 75ca60f619c953df1d95ff2eab7de78f7d5aebe8
Author: Mike Perez <thingee@gmail.com>
Date:   Wed Nov 21 00:15:39 2012 -0800

    adding copy of v1 as v2
    
    finishes blueprint bp/apiv2
    
    Change-Id: I36dff480aacc438565875cdd23dc396e369da9bd

commit 2581554921281dc6c8271d8eb1f357f208811512
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Nov 12 21:13:55 2012 -0800

    Moving contrib to cinder.api
    
    This moves over all contrib to a common place for all api versions to
    use. Test directory structure has been adjusted to match.
    
    For compatibility with old cinder config settings, we ignore the old
    contrib path and use the new location.
    
    progress on blueprint apiv2
    
    Change-Id: If1a24fd3c4d15db559674a021f6928613966e3a1

commit 9009948b43109632bbeb0bcf234d6c48d005e926
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Nov 9 01:57:44 2012 -0800

    Moving api v1 implementation into v1 directory
    
    Adjusts paste to use composite factory for routing properly to v1 and
    future api versions. Tests have been adjusted to match directory
    structure.
    
    progress on blueprint apiv2
    
    Change-Id: I2cd3908705d224872b2d615cabe210fb1c453232

commit 6a2573a15314db781beeda50271b1e13d90baed7
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 11 21:37:14 2012 -0800

    Switching api to use base extension manager
    
    progress on blueprint apiv2
    
    Change-Id: I68640a88c7c2b7ee4c6661fa26a4f82d9c63b00f

commit c15d5eae48c42d5b885b8a6557d091a75713015f
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 4 01:20:47 2012 -0800

    moving all middleware code in cinder.api.middleware
    
    This includes auth, sizelimit, and faultwrapper middleware. Test
    directory struture has been adjusted to match.
    
    progress on blueprint apiv2
    
    Change-Id: I62eecb208553abfee8dc8d2679264884b4cec153

commit 30f8d3f8d62251023cceef21eca19fd508950f37
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 4 01:34:27 2012 -0700

    Moving common api code into cinder.api
    
    This is progress for beginning to have separate versions of the
    cinder api. Common code that would be shared by v1, v2 etc will use
    these modules, so we'll just move them to a common place. Test directory
    structure has also been updated.
    
    progress on blueprint apiv2
    
    Change-Id: I99fd95fc3bb5d4f4fc3d9ef5b76b6372a1f6033d

commit 7bc6264fa1c293ef6878fa94ff2e16e20f35786c
Merge: 88fba03 040d930
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 05:12:27 2012 +0000

    Merge "Add volume bootable information to api response"

commit 88fba03c06b8836d2b6d0156bdb919a1445c01b1
Merge: fe914a3 db39d32
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 02:14:03 2012 +0000

    Merge "Cleaning up volume driver paths"

commit fe914a383fc8e191b57d2498f0aa1013907765dd
Merge: 3f18307 aa87498
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 01:03:23 2012 +0000

    Merge "Removes the xensm driver"

commit db39d32c2f3fd0ef0b9f173e33793ea86503479d
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Wed Nov 21 11:44:27 2012 -0600

    Cleaning up volume driver paths
    
    Moved all the remaining drivers under
    cinder.volume.drivers. Updated the tests with
    the new module paths and add backwards compatibilty
    for the existing paths.
    
    Implements bp driver-cleanup
    
    Change-Id: I7673b5209cc072ac859d7d32cdeed2e7a17331e8

commit 040d9309c52a517c4236b3750fdde7a69c4be5e7
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 18 21:27:39 2012 -0800

    Add volume bootable information to api response
    
    If there is any glance metadata associated with a volume, we'll consider
    the volume bootable. This will return the information for both /volumes
    and /detail calls.
    
    blueprint list-bootable-volumes
    
    Change-Id: Id9dbe5cb648be62fb19bb8bd6a97d8eab05ec25a

commit 3f183070f72c949eb65d25c9c532d953f996a3e4
Merge: 1a431ed 09f98c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 21 17:33:35 2012 +0000

    Merge "Add XenAPINFSDriver"

commit 09f98c9caa495bc648f624ba3c46b912a88e6e2f
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Nov 5 09:57:52 2012 +0000

    Add XenAPINFSDriver
    
    Related to blueprint xenapi-storage-manager-nfs
    
    As xensm was not pulled to Cinder, this change shows an implementation
    example for using an NFS export for volumes. This change contains the
    volume create and delete functions, as a minimal set of functionality.
    The connection information structure is compatible with the previous
    xensm implementation.
    
    Activate the driver with the following configuration entries in
    cinder.conf:
    
    volume_driver=cinder.volume.xenapi_sm.XenAPINFSDriver
    xenapi_connection_url=http://<yourxenserver>
    xenapi_connection_username=root
    xenapi_connection_password=<secret>
    xenapi_nfs_server=<nfs_server_address>
    xenapi_nfs_serverpath=/exported_catalog
    
    Change-Id: Ieaf077f540fc026c5bc37f2e3eb9d48fb96d0b74

commit 1a431edff622ad62707cce085d2af6683a995e3f
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Thu Nov 15 11:48:27 2012 +0000

    Add db table for Glance Metadata
    
    This commit implements the blueprint
    https://blueprints.launchpad.net/cinder/+spec/retain-glance-metadata-for-billing
    
    It creates the new table volume_glance_metadata in the cinder
    database, provides the CRUD methods for it, and populates the table
    when a volume or snapshot is created from a Glance image.
    
    Patch set 2: remove superflous line
    
    Patch set 3: Fix incorrect column types in sqlalchemy/models.py
    
    Patch set 4: Define exception class GlanceMetadataExists
    
    Change-Id: I8f98f6eaae005a33bfd49cea783774407b7aa120

commit 6da9686ca64ef2a559d7120910d15cb495bc3b50
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Nov 21 01:02:37 2012 +0800

    Remove redundant db.volume_update() in volume manager create_volume()
    
    Since scheduler has already updated db to set the 'host' field and
    recorded 'scheduled_at' time, it's not necessary to do db.volume_update()
    again in volume manager create_volume() method.  Also let volume api
    to update db when creating volume from snapshot while snapshot_same_host
    is true, thus the behavior is consistent (updating db when placement
    decision is made).
    
    Change-Id: I43aaee8e2a5d0ceadb98bd608cc147467488349e

commit ceee1fdaf2f54666ac72c6aa8076f92b6289327c
Author: Chuck Short <chuck.short@canonical.com>
Date:   Tue Nov 20 09:05:57 2012 -0600

    Pin pep8 1.3.3
    
    Apart of making pep8 version standard across all openstack
    projects.
    
    Also fix tools/hacking.py so it is compliant for pep8 1.2
    and beyond, taken from fbc4568 in the nova tree.
    
    Change-Id: I801c98a01960fa113dae1b6174c1a06bb149fea3
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit aa874981998d605209b7cd0614800552db10a957
Author: John Garbutt <john.garbutt@citrix.com>
Date:   Fri Nov 9 14:38:56 2012 +0000

    Removes the xensm driver
    
    This code does not work, and is slowly being replaced by
    alternative XenServer specific drivers.
    
    Fixes LP bug #1077011
    
    Change-Id: I1af92ecdbb49a57a0ff4c05a70d77bcb69958cb2

commit 55c09da1b0ff4e2a147b07fcfa986a76815c7703
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 20 00:50:27 2012 +0000

    Pass in correct volume_ref to create_from_snapshot.
    
    The new rpc versioning change introduced a bug in the
    create_from_snapshot code.  The originating volume_ref
    was being passed in instead of the newly created volume_ref
    as expected.
    
    Fixes bug 1080898
    
    Change-Id: I6ba4f4989c77e29685abb2649af8e003c447ab0f

commit aba228075d779547f5e866671fadc8e12ef77da2
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Nov 10 16:07:15 2012 -0800

    NetApp direct to filer drivers for iscsi and nfs.
    
    The drivers are designed to work with 7 mode and cluster storage systems.
    The drivers are designed to communicate with the NetApp storage controllers
    directly without requiring any intermediate management softwares in place using
    the NetApp api. Hence these represent the direct to filer versions of NetApp drivers.
    This also contains conventional nfs driver for cluster systems which requires
    NetApp management software as middle layer. Implementation for cloning support
    and basic volume type scheduler support in driver added. All NetApp drivers
    shifted into separate NetApp package. NetApp api refactored into a separate file
    other than drivers.
    
    blueprint netapp-direct-volume-drivers
    blueprint netapp-cluster-nfs-driver
    
    Change-Id: If3f5389d1f98eba899c4928a8ae1c1d3430bd847

commit 71d9f1170a5fe087de5a957e46d8c9e0fe9fb574
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 13 19:03:50 2012 +0000

    Add hosts extension to Cinder.
    
    This adds the hosts extension to Cinder which is similar to
    the extension by the same name in Nova.
    
    This extension allows an admin user to check the status of
    Cinder services on different hosts.  In addition it also
    provides the capability to get host and project specific information
    regarding volume count and space allocated for volumes on a specified
    host.
    
    Implements blueprint cinder-hosts-extension
    
    Change-Id: Ic3679cfcd900baecdc2da17e42194cac99c9d422

commit a8f838177748a3bb371468ff6bc65f29ad0e1c7c
Merge: c64c7ea 2940ce4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 16 09:14:04 2012 +0000

    Merge "Volume RPC API Versioning"

commit c64c7ea6705fda832c3538a99221c78caa32cab4
Merge: 099bc8b 5d986e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 16 05:33:38 2012 +0000

    Merge "Make tox.ini run pep8/hacking checks on bin."

commit 099bc8b4240dfe5d9b53d05a08240f6384edfdd4
Merge: 69ae5c1 6217a3d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 16 01:27:31 2012 +0000

    Merge "Remove unused python-daemon dependency"

commit 69ae5c145fd892b60922ae31b1c222c6f7ebe9ef
Merge: 402a169 41c37d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 15 21:55:26 2012 +0000

    Merge "Various pep8/HACKING fixes for Cinder."

commit 6217a3df0a34b1d0ac6fad8e9ea5044d2056c45d
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Nov 15 15:26:16 2012 -0500

    Remove unused python-daemon dependency
    
    python-daemon is listed as a dependency, but it is not needed.
    
    Change-Id: I4d6eadfef5d60cd277ff7395a12f5ad255db7155

commit 5d986e3121e8fb275f011c2cb347d9d24edca7c3
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Nov 15 11:27:06 2012 -0500

    Make tox.ini run pep8/hacking checks on bin.
    
    This updates the pep8 checks in our tox.ini file so that
    we are also scanning the bin directory.
    
    Additionally, it updates the main pep8 check so that it scans
    cinder properly as well. Previously there were a bunch of files
    getting skipped due to some of the pep8 pattern matching.
    
    Change-Id: Ib47a590303409e62546a75625ee356c9fa7af6ad

commit 41c37d3666c4d46aaf3daa9bb4236e7cdcf3af57
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Nov 15 11:26:31 2012 -0500

    Various pep8/HACKING fixes for Cinder.
    
    Fix some ordering/pep8/hacking issues in preperation for re-enabling
    full pep8/HACKING checks in tox.
    
    Change-Id: I7151ac73d1ace5d98046580e6d1c6a1dcc6c4cef

commit 402a1696352197550a96ba2f506e8f8f4366e4a8
Merge: 4206f0d f51e4af
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 15 18:03:18 2012 +0000

    Merge "Remove gen_uuid()"

commit 2940ce438f76dba20ff45095c90f0a29292c827c
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Nov 10 01:32:22 2012 +0800

    Volume RPC API Versioning
    
    Add versioning to Volume Rpc API version.  This is initial version
    1.0, which is compatible with previous non-versioned RPC API.
    
    Note: this patch slightly change the db.volume_update() behavior,
    which now returns updated volume info.
    
    Change-Id: I78036b6ed97c5bc369d8c85307ecaaad8e31ff90

commit f51e4af121b9289fa6ab4c634cb525d7c3d840e4
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Nov 14 22:49:07 2012 +0900

    Remove gen_uuid()
    
    Removed gen_uuid and uuid related unittests
    Replaced utils.gen_uuid() with uuid.uuid4()
    
    Change-Id: If34096f47fdea719e2dc180b448654519ede9bc9

commit 4206f0db05fc5ea70cb05bcd46bafbd14c26cce7
Merge: 780529e 4b8670a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 14 17:02:06 2012 +0000

    Merge "Remove obsolete use_local_volumes"

commit 780529e950865b8e935b6280b9a3a574a30b9891
Merge: db59270 f70cc1a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 14 16:50:39 2012 +0000

    Merge "Remove unused volume API method - remove_from_compute()"

commit 4b8670aa74e025f0b871918c596240d3760a5629
Author: Julien Danjou <julien@danjou.info>
Date:   Tue Nov 13 15:26:48 2012 +0100

    Remove obsolete use_local_volumes
    
    Reading documentation, I felt on that option, but grepping the source
    everywhere saw no use at all, and removing seems to be safe.
    
    Change-Id: I0ec22bcc406402420bc06fd28c352b84a4e21b69
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit db592705d996ddc0e353c13d0e1e0e62262f8df9
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Nov 7 15:56:33 2012 +0800

    Import order cleanup per HACKING
    
    Change-Id: I5540a5d24f45aa51e0ef58b43427fbaf7726da89

commit f70cc1aceb8abab6de69ac970fcc35ea23f70c25
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Nov 9 14:37:21 2012 +0800

    Remove unused volume API method - remove_from_compute()
    
    remove_from_compute() method in cinder.volume.api is never used
    by others and it is also broken since the interface in Nova has
    been changed to remove_volume_connection(), thus it should be
    removed from Cinder.
    
    Change-Id: Ibcb2cf7f88606d9a540cc9a03b5c95990fca8c3e

commit fc4cae50f53643e2093170530eb0dc758a0b3f63
Merge: eedc857 7e26d13
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 9 06:11:58 2012 +0000

    Merge "Scheduler API clean up and refactor"

commit 7e26d1354af23668591d9df39ab61e67eeb37528
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sun Oct 7 01:11:41 2012 +0800

    Scheduler API clean up and refactor
    
    Unlike Nova scheduler, which has to consider serving compute and volume
    scheduling, Cinder scheduler only serves volume scheduling, so there's no
    need to keep generic interface 'schedule'. Instead, 'schedule_create_volume'
    is added (if missing) to manager/driver class and chance/simple scheduler
    driver implementation.
    
    Also this patch changes the interface between API service and scheduler to
    allow more information about volume is passed to scheduler for advanced
    scheduling while maintained backward compatibility. And this change bumps
    scheduler RPC API to version 1.2.
    
    Change-Id: I42be05675cd73f89a03c84105ec512d7ee4f3c3a

commit 5aa1e72911ef690c64c670c6605a189d7d11ae29
Merge: c5f3a32 6602bbf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 7 02:15:42 2012 +0000

    Merge "Add 'create_volume' to scheduler RPC API."

commit c5f3a32178c09f03d617998d7b6d0559ea9e0ca3
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 6 11:08:58 2012 -0700

    Remove dm_setup(remove) call in volume_delete.
    
    While it makes sense to perform the dm_setup(remove) before
    performing the lvm remove, it seems to cause some buffer IO
    errors as evident by kern.log.
    
    I'm also a bit suspicous in that it seems the delete timeouts
    we see seems to have increased in frequency with this addition.
    I propose this step is removed until we completely understand the
    impact of the kernel error on Precise kernels.
    
    Fixes bug: #1075675
    
    Change-Id: I7ae4decea42d8f070d774d3e6376686b3e5b4f83

commit 84c9dd1ea899796793e9c9c79b0366b71e4a285a
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Nov 5 23:26:07 2012 -0700

    Add ability to disable secure volume delete.
    
    Due to gating issues caused by secure delete on LVM volumes,
    add the ability to disable via flag.secure_delete.
    
    Default will be set to True, but we add a way for the gate tests
    to disable this until we can come up with a fix for
    https://bugs.launchpad.net/cinder/+bug/1023755 OR implement an alternative
    secure delete method that doesn' suck.
    
    Change-Id: I2a06e4f0021ba1f5d5aad7d0a5997a992e268858

commit 07d4f002d056e90c520d49fe94d21183be5defe5
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Nov 5 22:11:52 2012 -0700

    Remove the zeroing out of the volume altogether
    
    Temporary change to get in new version which will
    make the secure_delete configurable.
    
    After pushing this and modifying the gate setup we'll
    push the flag version.
    
    Change-Id: Ic8a08566e02d822ab0eb309f61993fd8b7d21232

commit 6602bbfc0854c4b014100c00e1b821f8a3190255
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Thu Oct 4 17:34:01 2012 +0800

    Add 'create_volume' to scheduler RPC API.
    
    Instead of directly call RPC methods, 'create_volume' should be
    implemented in scheduler RPC API in order to do versioning.
    
    This increases scheduler RPC version to 1.1
    
    Change-Id: I22d5a097ec3a73c3460f4acd35c602da57f8b52d

commit eedc857008a122ee38661581f27f102de52a4886
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Sat Nov 3 12:21:28 2012 +0530

    Fix run_tests.sh ambiguous usage msg and behaviour for -x option
    
    In commit
    https://github.com/openstack/cinder/commit/
    50792c2ff41fdc7e73b3e3c51f4510366debfd14,
    the committer wanted to add an option in run_tests.sh for generating XML
    coverage report, but ended up accidentally overriding the default nose
    option -x. But, the usage message still showed that using option -x will
    'Stop running tests after the first error or failure'. So, I changed the
    option to generate XML report to  -X (capitalized 'x'). So now both -x and
    -X options are available, with different purposes.
    
    Fixes bug 1070047
    
    Change-Id: Ie8c30c14629d4811d6db74f3eea9cdecb1d27c8a

commit 956731973ee872d38eebacfb519ed62d6767a319
Author: clayg <clay.gerrard@gmail.com>
Date:   Thu Oct 25 02:55:13 2012 -0700

    Add admin only action for force detach
    
    This action calls the same methods nova would after it successfully
    detaches a volume.  By exposing it to the administrator it makes it's
    easier to repair un-syncronized state between services.  Generally when
    the host is no longer attached, but the volume state is wrong.
    
    Future work: The Iscsi based drivers don't seem to use
    initialize_connection and terminate_connection to create the export for
    the volume.  This would be more useful with drivers that do that.
    
    I added the force parameter to terminate_connection for drivers that may
    want to differintiate between a normal terminate and the force detach.
    
    Future Nova work:  Nova will want an admin action to update the bdm
    tables - today it's a bit of nova-manage shell work.
    
    Change-Id: Icc1cff0f50a5ace9ebdae62c85524ee8d6ec23e0

commit 92f6aca556530f27ec090b87e295c319770b0748
Merge: 2f3bab4 bad23ce
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 7 17:20:59 2012 +0000

    Merge "Splitting out volume drivers in driver.py"

commit 2f3bab4a695579826a93bc986fbd10aa4e1deacc
Merge: c16a7c5 2946477
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 7 16:43:14 2012 +0000

    Merge "Port openstack-common/uuidutils to Cinder"

commit c16a7c541abece400ca94a104c81511beb49e118
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Nov 7 15:59:35 2012 +0800

    Changes bit mode of zadara.py to 644
    
    Change-Id: I0b4693d7da4ecfe5242dc302630c40ed2b8268ef

commit 2946477556e7bd04cbc6a797323be20176e7097e
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Tue Nov 6 01:46:09 2012 +0800

    Port openstack-common/uuidutils to Cinder
    
    openstack-common has a new uuidutils to handle is_uuid_like(),
    port it to Cinder.
    
    Change-Id: I0ccc6166854193137af6a3210d3c465dd38fd955

commit 4e619fbef8671697bfec8e752818944c9f96cd72
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Tue Nov 6 20:12:00 2012 -0800

    Fix 401 from auth_token middleware
    
    The openssl popen call to verify the token returns an error code
    of 2 when a file doesn't exist. Normally this is caught and the
    relevant file is downloaded, but monkeypatching os causes this
    error code to be eaten and cinder to return a 401. Note that this
    is likely a race condition that depends on exactly when greenthreads
    are switching that is causing the return code from Popen to get
    overwritten.
    
    It is possible that this is exposing an underlying bug in eventlet
    but the workaround is simply to make sure that we don't monkeypatch
    os.
    
    Fixes bug 1075838
    
    Change-Id: I69ba75136e32e95c6fdf108f0c4fe21a5e3bdbe6

commit bad23ceff8257d955e4247423e3d3ce95dd19743
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Sun Oct 21 14:07:13 2012 -0500

    Splitting out volume drivers in driver.py
    
    Moved RBDDriver, SheepdogDriver into their own respective driver
    files under cinder/volume/drivers/*. Moved FakeISCSIDriver and
    LoggingVolumeDriver into a fake driver file under the tests,
    since that's the only place where those are used.
    
    Implements bp driver-cleanup
    
    Change-Id: I39d91ac8e498a9e42c5443db16706203b988444b

commit 3e82bf10ea755e7120ef5934dc22a81b98cc781b
Merge: 88d6be0 b864a08
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 3 00:08:05 2012 +0000

    Merge "Adding a SSH Connection Pool."

commit 88d6be0c66694021847574d2e255d69bcd0bda73
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Fri Nov 2 11:49:17 2012 -0500

    Minor optimization in create_volume in HpSanISCSIDriver
    
    Removing extra call to getClusterInfo in HpSANISCSIDriver
    on every create_volume call. The cluster info is now
    being lazily stored in a local variable.
    
    Fixes bug 1074201
    
    Change-Id: Iadf8383dbf87a8e82c649c312c67978c7dd3df71

commit b864a08b2aa7e7ba953dd4afce2c3042ba963ae7
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Thu Nov 1 23:05:35 2012 -0500

    Adding a SSH Connection Pool.
    
    Adds a connection pool using eventlet.pools
    which works well with greenthreads. Adding new
    parameters ssh_min_pool_conn and ssh_max_pool_conn.
    
    Updating the _run_ssh method in san.py to use the
    connection pool and cleaning up the existing
    single connections, also added retries.
    
    Fixes bug 1074185
    
    Change-Id: I90dd89ffc025d09fc6ad060c4273508103b85456

commit 29378ef7a588b8930329800423d6fc5e344072c7
Merge: 1cb3a4f ecc664d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 1 17:02:07 2012 +0000

    Merge "Return volume type name on volume create"

commit 1cb3a4f69cdb9706666b5d2a4679ef31adb4d0a1
Merge: f5cc528 9fe4477
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 1 03:48:14 2012 +0000

    Merge "Allow the user to update a volume's metadata"

commit f5cc52817af52e0e0c78925c56ca74556a0b80f9
Merge: 4645e63 9ea375c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 1 03:44:20 2012 +0000

    Merge "Log the body of an /action"

commit 0ee20a008746a83069c5465b74866f6e41731752
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Oct 31 17:20:29 2012 -0700

    Fixes 3par driver methods that were double locking
    
    There were many cases where the 3par drivers(FC and iSCSI) were double
    locking, e.g. we were locking in the individual driver and in ‘common’.
    This patch set removes all the locks in ‘common’ except the one on
    ‘create_cloned_volume’.
    
    The methods ’_get_volume_state’ and ‘_copy_volume’ are only called in
    ‘create_cloned_volume’, so those locks were removed as well. All the other
    methods in ‘common’ are only called by the driver which provide the lock,
    except ‘create_volume’ which is also called by ‘create_cloned_volume’.
    
    Change-Id: I660fbd04824bd2837e06480c8298ea5a709fc82a
    Fixes: bug 1175791

commit 4645e6326846a20b393fb218fce067b04df7decf
Merge: 80654f8 524c7fa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 31 22:01:29 2012 +0000

    Merge "Detect and fix issues caused by vol ID migration"

commit ecc664dca2c6844a7963da63d3495281ef5866c8
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Wed Oct 31 15:25:55 2012 -0500

    Return volume type name on volume create
    
    Update openstack api controller for volumes to fully inflate the
    returned volume model on create to populate the volume_type fields so
    the response serializer will return the name of the volume_type instead
    of the id on volume create requests.  Returning the name on create is
    consistent with the show and index commands.
    
    fixes bug #1071436
    
    Change-Id: Ie091cf824a2df40211d8bcfa7f177fc851d737f5

commit 80654f8bcda3db3f55c838f17dee2fccfc77f854
Merge: 04794c2 a105733
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 31 18:29:20 2012 +0000

    Merge "Add VolumeTenantAttribute API extension"

commit 04794c28b783193ec051e0bb1fd0293763a4a402
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Wed Oct 31 10:10:29 2012 -0400

    pin sqlalchemy to the 0.7 series
    
    sqlalchemy 0.8 beta has hit mirrors, and changes dependencies, thus
    breaking jenkins. This pins it to 0.7 series until all the projects
    agree to move forward to 0.8.
    
    Fixes bug #1073569
    
    Change-Id: If11f39d311ba9ef5cb2b198c9649a8997b2a52b5

commit a105733cc970eaac2f4bc28f04b48f9149a2c801
Author: Brian Waldon <bcwaldon@gmail.com>
Date:   Tue Oct 30 15:06:12 2012 -0700

    Add VolumeTenantAttribute API extension
    
    Expose the ID of the project to which a volume belongs through a
    new API extension. This is only presented to Admins by default.
    Visibility can be controlled with the 'volume_tenant_attribute'
    policy rule.
    
    Change-Id: If85d9759af6a9457bf3230375cc64af9efe4a088

commit 4b6da60361f16e30da7233919b967069ce8f6285
Merge: 826c452 39e763d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 30 18:28:08 2012 +0000

    Merge "Split out drivers in san.py"

commit 9ea375c5dce105c657694ce296fbb24b03a0c6ab
Author: Derrick J. Wippler <thrawn01@gmail.com>
Date:   Fri Oct 19 14:53:18 2012 +0000

    Log the body of an /action
    
    The inability to deduce an /action request from the logs
    makes diagnosing integration with nova difficult. This change
    logs the action method and arguments
    
    Change-Id: Iea4f46c7da9c61e07aa23e897b60992b8fdb6663

commit 524c7fa6dfade6efcabda19b105d58cab8c434e2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Oct 24 16:28:02 2012 -0600

    Detect and fix issues caused by vol ID migration
    
    The migration from volume ID to UUID neglected to update the provider_location
    field on the volume.  As a result the iqn and volume name no long match and
    existing volumes are no longer able to be attached after an upgrade
    (essex -> folsom and then nova-vol->cinder).
    
    This patch adds a method to the volume driver that will check for the
    mismatch of volume name in the iqn during service start up.  If
    detected it will update the provider_location field in the database
    to include the new ID.  Also it will create a symlink to the device backing
    file that also has the correct naming convention.
    
    Note: We don't disturb an connections that are currently attached.
    For this case we add a check in manager.detach and do any provider_location
    cleanup that's needed at that time.  This ensures that connections
    persist on restarts of tgtd and reboot.
    
    Change-Id: I8224824b793c98a9767c5d8dd741d892be720c4f
    Fixes: bug 1065702

commit 39e763d3aff5181a00e88b1ff2707bff209240ea
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Sun Oct 21 11:38:45 2012 -0500

    Split out drivers in san.py
    
    The SolarisISCSIDriver and HpSanISCSIDriver have been removed from
    san.py and placed in their own files. The default SanISCSIDriver
    implementing some common methods still resides in san.py. These
    san drivers have now been grouped in the san module.
    
    Implements bp driver-cleanup
    
    Change-Id: I68802f01a4a8c7e93e097777d305fbee0d15128a

commit 826c4520d093f5e0809a08e10b5d18bf69adc698
Author: Brian Waldon <bcwaldon@gmail.com>
Date:   Sat Oct 27 15:36:30 2012 -0700

    Add VolumeHostAttribute API extension
    
    Expose the host on which a volume resides through a new API
    extension. This is only presented to Admins by default. This
    can be controlled with the 'volume_host_attribute' policy
    rule.
    
    Fixes bug 1035350.
    
    Change-Id: I0a74a0dfbd78e853219150fbe0d3fba77c6f9bb6

commit 61917c2193ec4ca822af946a808dd0061cb77ef4
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Oct 3 17:10:57 2012 +0800

    Add default volume type flag
    
    Where using volume type scheduler, 'volume type' is an essential input for
    scheduler to perform sophysticated scheduling.  This patch adds a new
    flag 'default_volume_type to allow admin to set one volume type as the
    default type for volume creation if user doesn't specify any.
    
    Also add more clear 404 message to API if create request provided non-existing
    volume type.
    
    Note: Setting the 'default_volume_type' flag to non-existing volume type
    is problematic and should be avoided, and the outcome of such behavior is
    equivlant to setting default volume type to None.
    
    This is part of patch set implementing 'volume-type-scheduler'.
    
    Change-Id: Ib2b2bbdc9bc96ab097cca2821c9aef04c65c2857

commit 452b92a13bcf4cc2afdf97c742f0773455608a26
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Thu Oct 25 16:14:07 2012 -0700

    Fix typo so setting volume_tmp_dir works
    
    This can be controlled by environment variables without setting
    volume_tmp_dir as well, so there's an easy workaround for
    Folsom.
    
    Fixes LP bug #1071536
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>
    
    Change-Id: I50996c7c7a870d8e2bab1d3f44fd4d15b8ced6a6

commit 628adc99b41c097b0c071087a274ded850ff7df5
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Tue Oct 23 12:12:30 2012 +0000

    Rollback for resources during volume creation failure
    
    Fixes bug #1070258
    
    Add a single QUOTAS.rollback for all exceptions. Ensure that no stale
    "reservations" are left in place after a failed volume creation.
    
    Change-Id: Iedb193b213b8ee700a5765278ac4d00dac66d53a

commit 9fe4477f9b1f4e825941cb1ce42ced1a1a862b33
Author: jking-6 <jking@internap.com>
Date:   Wed Oct 24 13:15:03 2012 -0400

    Allow the user to update a volume's metadata
    
    The fix mainly involves updating the VolumeController's update method
    to allow the 'metadata' key to be a valid key in a request body.
    
    The _translate_volume_summary_view method is updated to check for a
    'metadata' key in the vol parameter after checking first for
    'volume_metadata'.  This is to avoid making a third call to the
    database after updating the volume model.  This solution introduces
    the least amount of new code.
    
    Change-Id: I41256d03f9c4c7a0866ff0f2d35fce8e4fd26b11
    Fixes: bug #1046382

commit df2f070604dad61738ccd3113016f76f2af20cae
Merge: b7df13c 5ddcf35
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 24 17:52:45 2012 +0000

    Merge "Drop unused quota_usage db methods"

commit b7df13c7b698556c5c43601a109231e843195eca
Merge: 02755f3 b3b1d48
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 24 17:22:53 2012 +0000

    Merge "Update HACKING.rst and related changes from Nova/PEP8."

commit 02755f322104617936c0aaec8ae81c7f6adefce3
Merge: f004634 1a7c6f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 24 15:00:39 2012 +0000

    Merge "Adds support for Windows 2012 Storage Server blueprint windows2012driver https://blueprints.launchpad.net/cinder/+spec/windows2012driver"

commit f004634ac16839f543efdfae8c3b1ac0cb36ea35
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Mon Oct 22 13:50:56 2012 +0800

    Add the generation of the username and password for iSCSI target.
    
    When a volume is created, a pair of username and password is generated by the
    driver for tgtadm and ietadm.
    
    Implementation of bpiSCSI-CHAP.
    
    Change-Id: I4f382a96ba4553158dc609e8caf9e70486e30603

commit c24a82a54e1a4be6d1e6f333763f15b435561573
Merge: 00251c0 7dbc23c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 23 01:17:19 2012 +0000

    Merge "Add trove classifiers for PyPI"

commit b3b1d48d5384cb9f70fdc4b27e07006ba44daa14
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Oct 22 18:37:11 2012 -0400

    Update HACKING.rst and related changes from Nova/PEP8.
    
    Sync up with changes made in Nova, this adds information
    about line continuation (PEP8), OpenStack capitalization,
    and commit messages.
    
    Change-Id: Id6637307411bcc7a3637ac514c4ec34e26481e0d

commit 00251c0e16f1149d3cee2719173490f3f0e8868e
Merge: f41e596 8b58a46
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 22 22:39:03 2012 +0000

    Merge "Ensure device node exists before wiping during volume deletion"

commit f41e596607f0a6ef29985a571fb8316132d09932
Merge: 921e13f 71994f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 22 22:37:53 2012 +0000

    Merge "Update volume and snapshot status on delete"

commit 7dbc23c01eba6172a30448447084f4210457d99f
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Mon Oct 22 18:25:01 2012 -0400

    Add trove classifiers for PyPI
    
    Add classifiers so we can eventually register the project
    on PyPI to reserve the name, even though we won't release
    packages there.
    
    Change-Id: I11fa429d34301ba9a1ec9a543f88d57eb3ac56bb
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 8b58a4605f83de6a6286ac9de2634dd3269c22b1
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Oct 22 18:02:17 2012 -0400

    Ensure device node exists before wiping during volume deletion
    
    If the LVM device node is missing when a Cinder volume is deleted,
    a large amount of data will be written to /dev/.  Check that the
    device node exists before performing a _copy_volume('/dev/zero'...)
    to wipe it.  Fixes bug 1070023.
    
    Change-Id: I77a0a5545a54a4adc905a781ed8120db7adccc27

commit 71994f45f51bde72b3323fb84a2461ae452b6949
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Oct 22 16:47:12 2012 -0500

    Update volume and snapshot status on delete
    
    Change the status of "deleting" resources at the same time we update boolean
    flag for deleted.  Makes dumb queries looking for stuck statuses a little
    easier.
    
    Change-Id: Iaf3386526a369f9bf281eb4be42eb11277038c92

commit 5ddcf35d6889464182173c0524801d20d807e3b6
Author: Brian Waldon <bcwaldon@gmail.com>
Date:   Mon Oct 22 14:37:26 2012 -0700

    Drop unused quota_usage db methods
    
    The quota_usage_update and quota_usage_destroy db methods are
    not used anywhere - drop them.
    
    Change-Id: Iaa23d1de1642ac7ec9ab4b4cbe119ec742346505

commit 921e13f644db987295d22530434f16319f2643aa
Author: Brian Waldon <bcwaldon@gmail.com>
Date:   Mon Oct 22 14:17:40 2012 -0700

    Drop duplicate sqlalchemy db api methods
    
    Several methods were redefined at the bottom of
    cinder/db/sqlalchemy/api.py. They have been removed:
    - quota_get
    - quota_get_all_by_project
    - quota_create
    - quota_update
    - quota_destroy
    - quota_destroy_all_by_project
    - quota_class_get
    - quota_class_get_all_by_name
    - quota_class_create
    - quota_class_update
    - quota_class_destroy
    - quota_class_destroy_all_by_name
    - quota_usage_get
    - quota_usage_get_all_by_project
    - quota_usage_create
    - quota_usage_update
    - quota_usage_destroy
    
    Fix bug 1070033
    
    Change-Id: I64b0b0045af7251853da97a8a8c4b2cb09b1dd53

commit 186e32da976b5b9a28952fceb967e2a7119b5851
Merge: f3ecc59 1ea9588
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 22 19:11:22 2012 +0000

    Merge "Update common."

commit f3ecc59364b9adf0bee60fa0dee81bf54587f712
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Mon Oct 22 03:39:04 2012 +0000

    Change output strings to i18ned
    
    Fixes bug #1069601.
    
    Ensure visible message in cinder-volume-usage-audit got through
    translation.
    
    Change-Id: I5c32ce3b2ef2541b8a5520ed53feaf8e00f43c9d

commit 1a7c6f4a09ef9980ead0c46d080078a7bbc81d10
Author: Pedro Navarro Perez <pednape@gmail.com>
Date:   Thu Oct 18 22:44:59 2012 +0200

    Adds support for Windows 2012 Storage Server
    blueprint windows2012driver
    https://blueprints.launchpad.net/cinder/+spec/windows2012driver
    
    Change-Id: I3f7efb1b976fedc4afb736b87d550a34c330c839

commit 1ea9588c4df4ec5d36c2d56c66204138d6b68361
Author: Michael Still <mikal@stillhq.com>
Date:   Thu Oct 18 11:43:12 2012 -0700

    Update common.
    
    policy.py is not updated as it causes test failures. I will investigate
    that separately.
    
    Change-Id: I9936137c1ab5b368ba6c3c35c423568b38bf913f

commit a4104b76d62c4aa7035891e94ab7bce8469324b6
Author: Cory Wright <corywright@gmail.com>
Date:   Thu Oct 18 08:00:41 2012 -0700

    Fix incorrect class path for legacycinder formatter in logging_sample.conf
    
    Change-Id: I313609f7b996650dfa2c804ebe964aa31549f5ea

commit 1fa8442a525a49d4cf63a8f2b3fab00f2e6405ae
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Oct 10 10:38:22 2012 -0400

    Error message references incorrect variable
    
    In remove_iscsi_target() for the TgtAdm class, the "Failed to
    create iscsi target for volume id:" message references a
    variable that doesn't exist -- use the correct variable name.
    
    Fixes bug 1065073.
    
    Change-Id: I55acb0dd2ee368fdc62a0ded6280d7ef7cd8ab7f

commit 69ab5832e8f4a6614903339c79a67faff06e61e4
Merge: 6912195 45ca339
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 9 02:32:13 2012 +0000

    Merge "Configuration Options clean up"

commit 69121952feba0d0046ba6df24258f6011b0325ce
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Thu Sep 27 22:03:16 2012 +0100

    Loosen anyjson dependency to avoid clash with ceilometer
    
    Ceilometer depends on anyjson 0.3.1, whereas cinder requires
    exacly 0.2.4.
    
    The net effect is a devstack with ceilometer installed will
    appear to work initially, as ceilometer is sparked up after
    cinder. However, if any of the cinder services are subsequently
    restarted, they fail with:
    
      pkg_resources.DistributionNotFound: anyjson==0.2.4
    
    By simply allowing the cinder anyjson dependency version to
    be greater than as opposed to an exact match, we can avoid
    the clash.
    
    Change-Id: I21737a2504705f15dd16e6762b44624678177442

commit 45ca3393b2e0348754fd943a00c4fcb2cf5c60d5
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Oct 8 15:36:39 2012 +0800

    Configuration Options clean up
    
    Small clean up of configuration options including:
     * unused config opts:
       - reclaim_instance_interval
     * rename 'instance' in config opts name/help message to 'volume'
       - 'instance_usage_audit_period' to 'volume_usage_audit_period'
       - help message of 'volume_name_template'
    
    This change also re-generates cinder.conf.sample file.
    
    Change-Id: I3d6c43cf56a5335b4bf768c51d65d76735213431

commit 6205ef6f074a16ebe858c6721f37b00ec3373f9d
Merge: 1a524f8 6750acc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 5 18:16:35 2012 +0000

    Merge "Add snapshot force delete admin action"

commit 1a524f8b8088af65eb4551e6683b24a2fde17849
Merge: 61a5ab8 121a519
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 5 17:49:44 2012 +0000

    Merge "Mock out sleep in some retry tests"

commit 61a5ab81d3f784e498ff918a210767221f320785
Author: Julien Danjou <julien@danjou.info>
Date:   Fri Oct 5 14:29:19 2012 +0200

    Fix typo in policy documentation
    
    Change-Id: I61df9dc9b752e1598f4a472771e581091f4de18f
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit 12678167d1b620e85413f2887c173ad2e238364d
Merge: 30ac574 bdee787
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 5 04:32:15 2012 +0000

    Merge "Use policy based rule to define context.is_admin"

commit 6750acc73420490172d557302d715433351f1373
Author: clayg <clay.gerrard@gmail.com>
Date:   Thu Oct 4 02:31:28 2012 -0500

    Add snapshot force delete admin action
    
    Change-Id: I289030cf0db42aa78cd2d8441d89610dad6cbeaa

commit 121a51911b6c88f97783cf57967506d81de12188
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Wed Oct 3 13:00:07 2012 -0500

    Mock out sleep in some retry tests
    
    Stub sleep in storwize tests
    Stub sleep in glance tests
    
    Change-Id: Ia935d561d104a4cd6373624208dedf5891b516e3

commit 30ac5746c1c8a93c50ee65b66340fa59f33936a6
Merge: 08a1b5b 1fde9df
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 3 17:29:41 2012 +0000

    Merge "Fix typo in sample configuration file"

commit 08a1b5b2bf7638131bda890ed5cd360d26e10f86
Merge: 3a654b7 4662fa2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 3 17:19:08 2012 +0000

    Merge "Replace builtin hash with MD5 to solve 32/64-bit issues."

commit 3a654b7c4495f890caf508521f1dd5bb00d15368
Merge: 6d841d3 adc8340
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 3 17:15:11 2012 +0000

    Merge "Remove unused code: check_for_export."

commit 6d841d3d0df00fdef5b16c588b20049d4708dca1
Merge: 4cfb90a 38f4d6e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 2 22:58:34 2012 +0000

    Merge "Update distribute version in test requires."

commit bdee787cf79c359cc4583483e010ddf3d356cb18
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Oct 1 11:33:25 2012 -0500

    Use policy based rule to define context.is_admin
    
    When creating a context set is_admin based on policy instead of
    hard coded requirement for a role named 'admin'.
    
    Fixes: bug# 1053181
    
    Change-Id: I9c05b8ecde887467557c4f01e074145b6a6372aa

commit 4cfb90a9b82c52c476187204f8b0a83d9ba7c186
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Fri Sep 28 16:27:09 2012 -0500

    Sync openstack common and add policy
    
    openstack-common.conf now includes network_utils and policy
    
    The default kombu imple for openstack.common.rpc seems to depends on
    network_utils.
    
    Fixes: bug #1058353
    
    Change-Id: I2526c7355e7f2be67b25bf22854c56ec65741d9a

commit 1fde9df9a5a82edcb8125e34906520fa4813fb6c
Author: Julien Danjou <julien@danjou.info>
Date:   Fri Sep 28 11:49:46 2012 +0200

    Fix typo in sample configuration file
    
    Change-Id: I9f7f6c7c15969fe8cd701ac7580f33d173ea1375
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit 38f4d6ef58ae6f89958a4cdc025d0c7aa0dcfb0c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 27 18:45:39 2012 -0600

    Update distribute version in test requires.
    
    Changes in openstack-infrastructure have upgraded version of distribute.
    We should match this to keep things consistent.
    
    CI systems are installing virtualenv>=1.8 which gives distribute
    0.6.28, so we'll add that to our test-requires.
    
    Change-Id: I44ad33fd0e96576379ee62a6f584f742e466ce74

commit 2a15ffc589fc5f96fc91c40a27403128d100775b
Merge: df818cc 5b61536
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 25 21:13:07 2012 +0000

    Merge "Fixes remove_export for IetAdm"

commit df818cc2bbd31d91d2055d0ec164736a36317f4d
Merge: 94c4ec8 b2627b2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 25 20:55:17 2012 +0000

    Merge "Fix NetAppCmodeISCSIDriver._get_lun_handle() method"

commit 94c4ec8a1e68fe7a764732a65a48322c7d1cc724
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Tue Sep 25 15:52:38 2012 +0100

    Revert explicit usage of tgt-adm --conf option.
    
    Fixes bug 1056246.
    
    This reverts commit 0903603971033536751ba40df98a3c39175d3189.
    
    This ensures that we fail-fast if the tgtd configuration does
    not include the directory for volume iscsi target configs,
    instead of only blowing up when tgtd is restarted.
    
    Change-Id: I30aa3f1d8944eb33cd4a42d65e227031023406b4

commit 5b61536fdf17332f48af4b422fe23c2e153934a1
Author: MotoKen <motokentsai@gmail.com>
Date:   Tue Sep 25 13:08:34 2012 +0800

    Fixes remove_export for IetAdm
    
    * Corrects indentation.
    * Uses specific iqn as keyword argument.
    
    Fixes bug 1055401
    
    Change-Id: Ie99dd8a34924f0d7f447cf41a305353659a51d11

commit 7f00d13640edac8136241e546076f2106f7bfa61
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Sep 24 12:59:15 2012 -0600

    Add missing entries in setup, fix up pip-requires
    
    setup.py still has references to nova/compute and was missing some
    requires statements, and more importantly didn't hvae the install_requires.
    
    Also, tools/pip-requires needed lxml versions set, as well as
    added the missing setuptools_git entry.
    
    This was exposed when trying to run Grenade as the requires.txt
    file was never generated.
    
    Fixes bug #1055693
    
    Change-Id: Iaf9669d66e89507989ef3fde630dc2b488a97cfc

commit b2627b27dae521d719b90831dcc41695b389712f
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Mon Sep 24 12:30:48 2012 -0400

    Fix NetAppCmodeISCSIDriver._get_lun_handle() method
    
    bug 1055578
    
    Change-Id: I06da6a9a59fa2320f1cae9698e5e63562e534916

commit 0f0a90ca0d16935fbd8d9af481a0ae0c263f133b
Merge: 454d596 186143e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 21:56:48 2012 +0000

    Merge "Fix cinder-volume-usage-audit"

commit adc83405e599bd51abb8f3617916c8f80c8a9d4f
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Sep 21 14:51:17 2012 -0400

    Remove unused code: check_for_export.
    
    This code has been unused since cinder was split from nova.  It used to
    be used as a safety check during live migration.  The check was removed
    recently in nova, since it wasn't being used with Cinder anyway (just
    nova-volumes).
    
    An alternative approach would be to expose this from Cinder somehow if
    we feel it's important, but until then, there's no reason to keep dead
    code around.
    
    Change-Id: I5adfb405c1bd04bcc1ad61d511afb227a198f4ed

commit 454d596b65569eedcd6dc1e9bece66f2a13871f8
Merge: 414757d c678b04
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 17:23:25 2012 +0000

    Merge "Return 400 if create volume snapshot force parameter is invalid"

commit c678b045c9839ed30e13fe5e7e655e3cb2e2c3f9
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Wed Sep 12 10:18:31 2012 +0000

    Return 400 if create volume snapshot force parameter is invalid
    
    Fixes bug #1014689
    
    * Add is_valid_boolstr function in utils.py
    * Add force parameter check in SnapshotsController.create()
    * Add unittest for invalid force parameter.
    
    Change-Id: I0f64326f33eb4fad1cf384bd825f56f09e935f40

commit 186143ecc81369c02aca51b81feb976259bcad41
Author: Julien Danjou <julien@danjou.info>
Date:   Thu Sep 20 18:37:36 2012 +0200

    Fix cinder-volume-usage-audit
    
    It seems many point in the internal API and openstack.common changed, but
    this binary has been forgotten.
    
    Also, context ie needed when using the notifier, so import it.
    
    This fixes bug #1053502
    
    Change-Id: I306b8671e7b0ed8c2ce2548a51a4c5e6393e13cb
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit 414757d8c336ef791f9654a425693918e1ecd792
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Fri Sep 21 15:58:27 2012 +0300

    Sync with nova change I135ed85a.
    
    This patch syncs the cinder driver code with that of the nova code,
    as we received comments in the review process there.  All changes are
    minor: (1) removing unnecessary type checks of the flags, (2) not
    using getattr to access the FLAGS, and (3) using the self.flags()
    infrastructure that test.TestCase provides.
    
    Change-Id: Id740be6441862f048c3a9267394492a7ed65db84

commit 5c74bf51f6ef131db7c47606949b99c57cbbe217
Merge: 52de540 bc0fb11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 04:45:51 2012 +0000

    Merge "Remove cinder gating hack"

commit 52de54082cd0dbacd2c79ccc8c6b0cbbd7609884
Merge: a978780 a1cbbe2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 04:04:42 2012 +0000

    Merge "Stop double logging to the console"

commit a978780f710a9eff34cd3720160ba2757d3215b9
Merge: f551985 d051ca9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 03:32:03 2012 +0000

    Merge "Set the default availability zone back to nova"

commit bc0fb113af225878b4305da7d834673a6b7f5e97
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Fri Sep 21 00:32:56 2012 +0000

    Remove cinder gating hack
    
    The hack was necessary while we switched the name used for az's
    in the gating tests. Now it can be removed
    
    Change-Id: I970205910ac0950ab4a961aa0537eb964d7f0d3c

commit d051ca9cdf828b1e47ef5158c4b83beb9484109e
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Thu Sep 20 16:34:59 2012 +0000

    Set the default availability zone back to nova
    
    Currently nova and cinder have to have the same set of az's for
    the ec2 api to work properly. Therefore, set the default az for
    cinder to nova so they will match.
    
    Includes a hack to az to set cinder to nova to work around gate
    issues. The hack can be removed once the gate sets the zone to
    nova properly.
    
    Fixes bug 1053508
    
    Change-Id: I9c30ccc5c79b9c4e6c1ebeb3e80d0098e1ffbb11

commit f55198570fd59b7a2a4ddd2f5e77b3d03d0a3d64
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 20 17:27:13 2012 -0600

    Add lun number (0) to model_update in HpSanDriver
    
    The HpSanDriver was not setting the lun number in model_update
    and as a result default value of 1 was being used.  Trouble is the
    Lun number used by LeftHand is 0, so the connect info would be
    wrong and fail when trying to attach the volume.
    
    Fixes bug #1053717
    
    Change-Id: If82a66c6a78ab03da09223a7b79abe559a6f702f

commit 6929fa2166b44e47da40e798148ed901ede673f1
Merge: 730ebab 3b8a630
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 20 22:59:47 2012 +0000

    Merge "Fixes to the SolarisISCSI Driver"

commit 3b8a6303e6c04f0c7b45043c2fcd53948910d37e
Author: Yosef Berman <yosef@cloudscaling.com>
Date:   Thu Sep 20 10:34:24 2012 -0700

    Fixes to the SolarisISCSI Driver
    
    Even when the san_is_local config option was set to false, the
    SolarisISCSIDriver's _execute method was accidentally set to
    util.execute by the VolumeDriver's __init__ method.
    
    Fix bug 1053041
    
    Change-Id: Ie3299f5065e2b084644ec2956f0c6ebae4264a49

commit a1cbbe2e9e5d7a5ec55ec1197571cd68fcdbad15
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Thu Sep 20 16:52:51 2012 +0000

    Stop double logging to the console
    
    The code in nova for logging added an extra root handler to be
    able to log messages to the console during log setup. This handler
    was removed in the setup method. The common setup method no longer
    removes this handler, so don't create it. Note that there may be
    a small period before the logging setup is finished where messages
    will not appear.
    
    Fixes bug 1053512
    
    Change-Id: I559cca8ffc2a33beff22025e42a9713487245980

commit 730ebab71e11812b6b5990180e7bd9cabfe237c4
Author: Thierry Carrez <thierry@openstack.org>
Date:   Thu Sep 20 14:21:00 2012 +0200

    Restore SIGPIPE default action for subprocesses
    
    Python ignores SIGPIPE on startup, because it prefers to check every
    write and raise an IOError exception rather than taking the signal. Most
    Unix subprocesses don't expect to work this way. This patch (adapted
    from Colin Watson's post at http://tinyurl.com/2a7mzh5) sets SIGPIPE
    back to the default action for cinder.utils.execute and cinder-rootwrap
    created subprocesses.
    
    Fixes bug 1053364
    
    Change-Id: I4b3307bd2f0f5d0da529d8b7d80fabae28c57732

commit 32721a67ae2936093aef5ecea4efd8b32a516c32
Merge: 321d323 f14e955
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 20 05:05:14 2012 +0000

    Merge "Correct IetAdm remove_iscsi_target"

commit 4662fa29af88783cd9e95b553c044c733ea94753
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Sep 19 17:07:47 2012 -0400

    Replace builtin hash with MD5 to solve 32/64-bit issues.
    
    It seems that Python's builtin hash returns different
    values on 32-bit and 64-bit architectures, so it's
    safer to use a well-defined hash like MD5.
    
    bug 1050359
    
    Change-Id: I0a4f11b34a1f76cda279ec801cede1440c6e5966

commit f14e955735065a998cd78280661f6d33c850d9e2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Sep 19 11:18:51 2012 -0600

    Correct IetAdm remove_iscsi_target
    
    Remove logical units should be done before delete the target while
    unexport iSCSI volume. Or ietd will show "No such file or directory"
    error.
    
    Fix bug 1043107
    
    Change-Id: Iab5b97044c5a30c788fcabce827923ff82a84b91

commit 321d32379cd6044378f2f9c32c068de18f514df5
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Sep 18 13:29:20 2012 -0600

    Add nova migrate_version check to cinder import
    
    Cinder-manage migrate import only works from Nova/Folsom--->Cinder/Folsom
    this change adds an explicit check of the nova migrate_version (133)
    to make sure we have all of the volume id/uuid changes that are needed
    to be compatable, and presents an error message if that's not the case.
    
    Addresses bug #1052598
    
    Change-Id: I7f32cf35e33320f4348b7bc44a8e92b5716b71d8

commit 45e67e8b77ffbc783da111dda96add68f1687341
Merge: cbf2e46 04ca527
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 20:13:30 2012 +0000

    Merge "Add update to volume and snapshot controllers"

commit cbf2e466ad47c0911b10d5b16b734ed8311d250a
Merge: a5e9461 8cf45c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 17:30:17 2012 +0000

    Merge "Bump version to 2013.1"

commit a5e9461d47238579509fd558cc5e83a8102bb102
Merge: 8c99195 58dd238
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 16:30:19 2012 +0000

    Merge "Clean up db.volume_create()"

commit 8cf45c9382461d29c5449d2ab542d9746064df24
Author: Thierry Carrez <thierry@openstack.org>
Date:   Tue Sep 18 15:41:42 2012 +0200

    Bump version to 2013.1
    
    Bump version to 2013.1 on master branch to open Grizzly development.
    
    Change-Id: Iad73bf47c4ff77216ee27c3b08117dcaa9487ddf

commit 8c9919582ce329822259474c55fec12f4a0dbf82
Merge: 2693b40 f9cf780
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 08:12:09 2012 +0000

    Merge "Fix volume deletion when device mapper is used"

commit 58dd2385365e7f5b79dc0c151092795d02bfe802
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Sep 17 15:36:10 2012 -0600

    Clean up db.volume_create()
    
     Adding the metadata return to db.volume_create() introduced some
     messy and unnecessary repitition in the code.  This patch
     cleans that up and makes use of existing volume_get functions rather
     than duplicating the code in volume_create.
    
     This syncs cinder up with the patch as it's been submitted for nova
     in https://review.openstack.org/#/c/10461/
    
     Addresses bug #1052176
    
    Change-Id: I17aca069fbb0240770613f176430a1b2fcf2b25a

commit 2693b405b4c0667e1cec3295472331172d641cb4
Merge: 644a98a 9696bd9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 17 20:37:07 2012 +0000

    Merge "Update quota when deleting volume that failed to be scheduled"

commit f9cf780678078c77881fee41addc093abb15c136
Author: Rafi Khardalian <rafi@metacloud.com>
Date:   Wed Sep 5 05:51:43 2012 +0000

    Fix volume deletion when device mapper is used
    
    Call dmsetup remove if there is a /dev/mapper/nova--volumes-
    element present.
    
    Resolves bug 979020
    
    Change-Id: Iddaaed411a77dda4bd32f9a97687ff17744119eb

commit 644a98a9eb1b0cedfc82f6e4efe0f12aeab93de4
Merge: 1a40881 a3e7da8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 17 18:14:34 2012 +0000

    Merge "Fix FLAGS.volumes_dir help message"

commit 9696bd9a8c11618edf970812de822ad0ba99498c
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Sep 17 17:26:09 2012 +0800

    Update quota when deleting volume that failed to be scheduled
    
    If one volume was failed to get scheduled, removing such volume should
    also clean up reservation.
    Also when create_volume is ready to send to scheduler, reservation
    should be committed no matter backend can successfully create that
    volume or not since deleting volume call will do a minus reservation
    even on volume with 'error' status.
    
    Fix bug 1052052
    
    Change-Id: Iaec9926024ad5adb38b08b07772095f49b8593c2

commit 1a408818e96434778d34415e880d81c6f176233f
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Sep 14 13:50:47 2012 -0400

    Sync a change to rpc from openstack-common.
    
    This commit pulls in the following change from openstack-common:
    
        ee44222 Change the qpid_heartbeat default to 60 seconds.
    
    Fix bug 1050661.
    
    Change-Id: I999e16c18227f9aab4dc8c2ff88cd6907c7c8191

commit 26f5b0c7563bd89326715647e24ae284e70ec865
Merge: 8c7cf10 e255311
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 14 03:43:28 2012 +0000

    Merge "Sync notifier changes from openstack-common"

commit 8c7cf1087681c283d010aa7a2d6f10d94ef4536f
Merge: 0223924 2aa5015
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 14 03:43:06 2012 +0000

    Merge "Add a resume delete on volume manager startup"

commit 02239242ebf451ba7316d6ed9c4aef70147d6d29
Merge: 4ae3c1f dcecb58
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 14 03:41:14 2012 +0000

    Merge "Improve entity validation in volumes APIs"

commit 2aa501560384205b0fd3891ed5dd2a3864afcdc2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 13 10:53:52 2012 -0600

    Add a resume delete on volume manager startup
    
      Currently if for some reason the volume service was stopped
      during the zero out operation of a volume delete there was
      no way to get the volume removed from the system (it would
      be present in deleting status forever).
    
      This change adds a simple check of volumes in the DB with status
      of deleting, and if any are found it restarts the delete process
      on them.
    
      addresses bug #1011150
    
    Change-Id: Id4c4a3bc61f95245ebc6658234b4b88029956562

commit 4ae3c1fabaa807eec2e7639b4c2bc7208e9e86e9
Merge: 974cbd7 3dcb3fd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 16:45:10 2012 +0000

    Merge "Add entity body validation helper"

commit dcecb586a0578688656d5420c40c26e5a8caa942
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 12 12:51:40 2012 +0100

    Improve entity validation in volumes APIs
    
    Fixes bug #1048565
    
    Use the new Controller.is_valid_body() helper to validate the entity
    body in various volumes related POST/PUT handlers and return 422
    as appropriate.
    
    Change-Id: I04127972981522c1ed81903893396c4f9665bcd3

commit 3dcb3fdba791639ab3fe7ab20b3398babcd27512
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 12 12:51:23 2012 +0100

    Add entity body validation helper
    
    Add a _valid_body() helper for the to avoid repeating the same tests in
    multiple methods. Include a check that the entity itself is actually a
    dict.
    
    (Cherry-picks part of commit d1ad73ee from Nova)
    
    Change-Id: If8114cc76d68567005c85c803f29e30e034db89a

commit 974cbd718d9c66a33b8ae6b0e3c4f7dcc5563015
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 13 08:50:09 2012 -0600

    Should've added super().tearDown() in test_iscsi
    
      Made changes to use tempfiles and implemented teardown,
      but should have also called super().tearDown as well.
    
      Associated with chage: I9b9a2400
    
    Change-Id: I2e9d1cb7bfbe78323630eb2f3270698a7ce7e4c4

commit a130956e667da9d040f99de4edb0c0f72afde25d
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Sep 11 17:11:41 2012 +0300

    Fixes bug 1050135.
    
    Regenerate cinder.conf.sample and fix a couple related bugs.
    
    Change-Id: I3e472f9c69ad4888dc15f901f4bc7cd825fb5ba1

commit a3e7da8c515e3d10217ebc5bf708da13479ab80c
Author: Joe Gordon <jogo@cloudscaling.com>
Date:   Wed Sep 12 18:06:34 2012 -0700

    Fix FLAGS.volumes_dir help message
    
    And other nova/volume/iscsi.py typos
    
    Change-Id: I781a07b4f11b6cf336c278a6994bd5575ae1a70a

commit fde1827200b9b4ea1bec964df4dcd7f12de6b342
Merge: 924d8dd 96f72f2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 00:16:08 2012 +0000

    Merge "Use tmpdir and avoid leaving test files behind"

commit 924d8dd3a3a0f4ad5dc0fa872e4ad76f8153b050
Merge: 1f3c412 08bfa1c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 00:15:40 2012 +0000

    Merge "Sync log format changes from openstack-common."

commit 1f3c412e19b4120604453094c2583183aaeff116
Merge: 81061b1 b6cf220
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 00:15:16 2012 +0000

    Merge "Update rpc from openstack-common."

commit 96f72f2cfd0afa6e60399dadd30bb83b0ab8ee0e
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Sep 12 16:52:02 2012 -0600

    Use tmpdir and avoid leaving test files behind
    
     We were just creating a file for testing iscsi persist files and
     weren't cleaning up after the test.
    
     Change this to use a tmpdir and make sure we leave no tracks.
    
     Fixes bug #1050086
    
    Change-Id: I9b9a2400a172d52987d76f3132793cb042fd201c

commit 81061b1b251a568697836a91d6e5dff08872cf3a
Merge: b4e63d4 a955730
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 12 23:24:55 2012 +0000

    Merge "Add volume quota in volume/api.py and olume/manager.py"

commit b4e63d4269c658d412d0e635e396993ea0a2dc86
Merge: 24b3cd5 190c49e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 12 17:40:45 2012 +0000

    Merge "Fixes bug 1049446."

commit 08bfa1c5b9ed168f0edda03e63b2e445068c514c
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Sep 12 12:34:43 2012 -0400

    Sync log format changes from openstack-common.
    
    This patch pulls in the following change from openstack-common:
    
        9f88d84 Improve logging of process id
    
    Change-Id: I6c5be346ed332d14357441b2b147ad1f09157f41

commit b6cf220db95391ee6c85ad07903478ca03d42873
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Sep 12 12:30:04 2012 -0400

    Update rpc from openstack-common.
    
    Fix bug 1049843.
    
    This commit syncs the following commit from openstack-common:
    
        commit 7e9f72bb28456c912aa80945dbdb8d200f81b462
        Make projects define 'control_exchange'.
    
    This change allows cinder to set a project-specific default of 'cinder'
    for the 'control_exchange' option.  The option is now defined in
    cinder.flags.
    
    Change-Id: Ia91c172ca0665798d616f9faf5880770074235c8

commit a955730b569be6f1132cbd254d8f21828c54d2f2
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Wed Sep 12 07:10:53 2012 +0000

    Add volume quota in volume/api.py and olume/manager.py
    
    Fixes bug #1048158
    
    volume.api.API.create() call QUOTAS.reserve(), then
    volume.manager.VolumeManager.create_volume call QUOTAS.commit().
    volume.manager.VolumeManager.delete_volume call QUOTAS.reserve() and
    QUOTAS.commit().
    
    It also fixes bug #1049459.
    
    Change-Id: I764aeec83cce93595fbe9aa00205a7d8c9e13c35

commit 190c49e1381cc39160ced743cb11e140c9be4825
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Sep 11 13:31:01 2012 +0300

    Fixes bug 1049446.
    
    Removed the "vtype" option which did not work in the driver, and
    added the "easytier" option. Added another check to _check_flags
    and made sure -warning flag is passed properly. Added unit tests
    to check all option variations.
    
    Change-Id: I4e66436f8f62d851a079ec80209fe9d6b27fb5b4

commit 24b3cd56967193e789564245352acecb4c80f767
Merge: 6b612c1 e756bb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 11 22:58:09 2012 +0000

    Merge "Remove null_kernel option."

commit 6b612c14eae150727cd24736bdb512d11b3a4f21
Merge: 2ed3eeb ea71637
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 11 22:15:46 2012 +0000

    Merge "Revert "Don't zero out snapshot volume on snapshot_delete""

commit ea716377a8a04937acfe637086b3657c4527f2ed
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Sep 11 21:41:30 2012 +0000

    Revert "Don't zero out snapshot volume on snapshot_delete"
    
    This reverts commit 1b3322d45fe2c5ed72cc7f8674e5e319928065ad
    
    Turns out that although it's less likely we can still see this issue when zeroing out regular volumes.

commit 04ca527aa394376b20e1fc09b1cdd1ca8a0a105a
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Aug 27 21:38:25 2012 +0000

    Add update to volume and snapshot controllers
    
    Add update method to api.openstack.volume.volumes and snapshots
    controllers.  Url mapping automatically routes a PUT on the resource to
    the update method.  Implementation closely matches updates to server
    resource for the openstack compute api.
    
    e.g.
    
    curl http://localhost:8776/v1/${PROJECT_ID}/volumes/${VOLUME_ID} \
        -H 'x-auth-token: ${ADMIN_AUTH_TOKEN}' \
        -H 'content-type: application/json' \
        -XPUT -d '{"volume": {"display_name": "new-name"}}'
    
    Add volume.api.API.update_snapshot method to avoid making db calls
    directly from the SnapshotsController.
    
    Add tests for new methods.
    
    Update return value of test_volume.VolumeTestCase._create_snapshot
    to return the whole model like _create_volume
    
    fixes lp bug #1042904
    
    Change-Id: I887178f9b7834cc7afd54bba8fb902b630faf8c0

commit 2ed3eeb13514ce502ce1df873970404084b50999
Merge: f070460 2c7c976
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 11 17:20:55 2012 +0000

    Merge "Remove unused utils.wrap_exception"

commit f070460b70cae09014c0f3799f21306d391f7506
Merge: 8d4c1cf b51265a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 18:40:17 2012 +0000

    Merge "Nail the pip requirement at 1.1."

commit 8d4c1cfffc9f672716da25464eb95a4fab09d10e
Merge: 200151a 848d5de
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 18:26:00 2012 +0000

    Merge "rename nova.pot => cinder.pot, nova.po => cinder.po"

commit b51265a9f61c8ef445fba4110ea5684bc918e682
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Sep 6 21:54:16 2012 -0400

    Nail the pip requirement at 1.1.
    
    The most recent version of pip (1.2.1 as of a couple days ago) fails
    to install the required Cinder .venv packages. Nailing the installed
    pip version when using run_tests.sh seems like a reasonable solution
    to this issue.
    
    Fixes LP Bug #1047120.
    
    Change-Id: I8d831f747b0d25b5d0f6e74a234e764ff448965b

commit 200151a36eaa421c8c2b5e45cec72f88bc2e469e
Merge: 97e1e71 1b3322d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 02:48:37 2012 +0000

    Merge "Don't zero out snapshot volume on snapshot_delete"

commit 97e1e712078e5d5b564b215a8e1c77fbf8103df7
Merge: dad3f66 6060836
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 02:19:56 2012 +0000

    Merge "Recent changes to SolidFire API changed iqn format"

commit dad3f665a1e018012647b758bfc9a3a58b2db0ec
Merge: 0f8269a 3eaf43a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 9 17:45:46 2012 +0000

    Merge "Prevent from bug #1008866 is reverted"

commit 0f8269afcab478dfbfbc3dc744468402bc11c8d1
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Sun Sep 9 18:49:19 2012 +0800

    Clean up .gitignore
    
    remove:
    * nova.egg-info
    * .nova-venv
    * tools/conf/nova.conf*
    
    Change-Id: I6578a75314b86628a5afbd4c4282fb271b9a830e

commit 3eaf43a9f5a26a51a89347cffe39bfae2b12c2d6
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Sun Sep 9 15:35:26 2012 +0800

    Prevent from bug #1008866 is reverted
    
    Fixes bug #1047841.
    
    Commit 2f5360753308eb8b10581fc3c026c1b66f42ebdc (Adds new volume API
    extensions) reverted a part of commit
    99456bd690445443ae05c0d4fe1ec43ba6090f6f (Send 'create volume from
    snapshot' to the proper host), so bug #1008866 is reproduced. I make
    API.create_volume to call _cast_create_volume in cinder/volume/api.py,
    it Prevent from bug #1008866 is reverted.
    
    Change-Id: I1bf0b7c5fc47da756bce95128f8fd770d14399b0

commit 848d5dee9666cd7ea92559bb4023281481f09a4b
Author: Hui Cheng <freedomhui@gmail.com>
Date:   Sun Sep 9 13:04:09 2012 +0800

    rename nova.pot => cinder.pot, nova.po => cinder.po
    
    Fixes Bug #1047195
    
    	renamed:    cinder/locale/bs/LC_MESSAGES/nova.po -> cinder/locale/bs/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/nova.pot -> cinder/locale/cinder.pot
    	renamed:    cinder/locale/cs/LC_MESSAGES/nova.po -> cinder/locale/cs/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/da/LC_MESSAGES/nova.po -> cinder/locale/da/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/de/LC_MESSAGES/nova.po -> cinder/locale/de/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/en_AU/LC_MESSAGES/nova.po -> cinder/locale/en_AU/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/en_GB/LC_MESSAGES/nova.po -> cinder/locale/en_GB/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/es/LC_MESSAGES/nova.po -> cinder/locale/es/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/fr/LC_MESSAGES/nova.po -> cinder/locale/fr/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/it/LC_MESSAGES/nova.po -> cinder/locale/it/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/ja/LC_MESSAGES/nova.po -> cinder/locale/ja/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/ko/LC_MESSAGES/nova.po -> cinder/locale/ko/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/pt_BR/LC_MESSAGES/nova.po -> cinder/locale/pt_BR/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/ru/LC_MESSAGES/nova.po -> cinder/locale/ru/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/tl/LC_MESSAGES/nova.po -> cinder/locale/tl/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/tr/LC_MESSAGES/nova.po -> cinder/locale/tr/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/uk/LC_MESSAGES/nova.po -> cinder/locale/uk/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/zh_CN/LC_MESSAGES/nova.po -> cinder/locale/zh_CN/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/zh_TW/LC_MESSAGES/nova.po -> cinder/locale/zh_TW/LC_MESSAGES/cinder.po
    
    Change-Id: I3a7894ac90793f270fb27444034b197b7c4f2841

commit 1b3322d45fe2c5ed72cc7f8674e5e319928065ad
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Sep 5 19:27:48 2012 +0000

    Don't zero out snapshot volume on snapshot_delete
    
     When trying to zero out an LVM snapshot on precise the kernel sometimes
     hangs when performing the dd.  Also the dd process itself can take
     an extremely long time even when it does succesfully complete.
     This can be up to 30 minutes for a 1 Gig volume/snapshot.
    
     I believe this is a kernel specific issue with LVM snapshots.  The
     zeroing process is unreliable and can cause kernel hangs to let's remove it.
    
     In order to protect against data leakage we'll implement the zeroing process
     on volume creation.  This doesn't seem to have a significant impact and doesn't
     suffer from the same isues tha zeroing out an LVM snapshot does.
    
     No reason to continue zero on delete, the zero on creation should
     probably be sufficient.
    
     Doesn't seem to cause any timing issues but need to keep this in mind.
    
     Fixes bug 1023755
    
    Change-Id: I56209d8e5973cffa997b4ec3e51c3361838386de

commit 60608360e0e052492a4352df015c177e6483bec0
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Sep 8 10:40:55 2012 -0600

    Recent changes to SolidFire API changed iqn format
    
     The SF API initially didn't supply the in prefix so we
     formed it manually in the OpenStack driver.
    
     This has been fixed in the API so we dropped the manual
     build of the prefix in volume create.  Unfortunatly missed
     the same case needed in create-from-snapshot.
    
     Going forward we're adding running integration tests against
     SF to catch this sort of thing.
    
    Change-Id: I7107537d586f0a7c457dcbabfc90e1bc081d28d2

commit 43bc69336b10e357c4b8a8d802bfaf9e4a29157a
Merge: e96c3ea d9b8a51
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 18:03:06 2012 +0000

    Merge "avoid the buffer cache when copying volumes"

commit e96c3ea9d408f1826b8fdd532511b07a5eb2e463
Merge: 6eedab9 922fdd0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 17:15:00 2012 +0000

    Merge "Update dev docs   * Quick pass at implementing the basics for cinder dev docs   * Remove the N/A compute related stuff   * Clean up the architecture a bit to only show cinder related   * Remove various modules form TOC's that aren't applicable"

commit 6eedab91fe1c298527dbbcbc5eaf20d6ab2ab972
Merge: 9885eb1 aef9f4a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 15:53:08 2012 +0000

    Merge "Filter volumes and snapshots by query string"

commit 9885eb1d2f6edcaa2f9ab334a7809c4dcb403694
Merge: 92e3b84 21f4153
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 15:40:37 2012 +0000

    Merge "Rename test_nova_rootwrap.py to test_cinder_rootwrap.py"

commit 92e3b84bf11e3ee8c6e8bedb29858ebac311e079
Merge: 0c78f59 2d211b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 15:08:12 2012 +0000

    Merge "Update SolidFire driver to reflect IQN changes"

commit 0c78f59907a18700292b8bd03667bf7711b201a9
Merge: 178e483 f926eb6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:47:30 2012 +0000

    Merge "Remove vpn_ping function in cinder/utils.py"

commit 178e48339bb824d8a741dcdca95e7062b94dc7cd
Merge: 0a67894 a17fc22
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:46:54 2012 +0000

    Merge "Clean up some codes about compute in VolumeTestCase"

commit 0a6789462e3bcebe49ffb30f450659d0de255c8d
Merge: fb78951 3e9b64c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:46:35 2012 +0000

    Merge "Typo nova => cinder"

commit fb789516b0699a98afde017d3206a471c542885c
Merge: e5a2cd8 aba4dcb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:46:12 2012 +0000

    Merge "Remove unused db api"

commit 2c7c9765377dd18325884e4f1676358807581aad
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Fri Sep 7 11:29:00 2012 +0100

    Remove unused utils.wrap_exception
    
    Moved into utils by commit 6ad36074, but it hasn't been used in cinder
    since commit 9e4242c3 which prepared for switching to common rpc.
    
    Change-Id: I9dff70e81c0bae36f26df893ac6971e17ba46bb3

commit e2553117e1a772e0697fdf9fa224359a65d718a2
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:15:41 2012 +0100

    Sync notifier changes from openstack-common
    
    Syncs the following from stable/folsom:
    
     c767e9b Add multiple-driver support to the notifier api.
    
    Also remove notification_driver from cinder.flags. This should
    have been done when first adopting this code from openstack-common
    since the option is defined there now.
    
    Note: I've left the cinder-specific change to use cinder's context
    rather than openstack-common's context.
    
    Change-Id: I6ff4b5d45ca9cc4acaf37c62c143f2886ebee423

commit a17fc22b4d26b351a11aa5f3d4a2688cf46f007b
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:47:51 2012 +0800

    Clean up some codes about compute in VolumeTestCase
    
    self.compute have not be assigned in VolumeTestCase, so clean up some
    codes about it.
    
    Change-Id: Ie2577065ad27b4ee5b54dec65adfe723bf93985f

commit aba4dcbf9d8bcb2cc65109960e1e53169db8ff69
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:40:45 2012 +0800

    Remove unused db api
    
    service_get_all_compute_by_host and service_get_all_compute_sorted are
    not be used by cinder.
    
    Change-Id: Ie384d2666bbfea1d5fab74e4e3e021909f6c0e3f

commit e5a2cd89761b041883433829fe9a751c15eab229
Merge: 42cfb8f 590d3e7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 06:36:02 2012 +0000

    Merge "Fixes potential bugs found by pylint"

commit 3e9b64c09ee631b355e8131930f8e9c35c061029
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:25:27 2012 +0800

    Typo nova => cinder
    
    Change-Id: I715feee8ca84fb65518e750585f82e942e710ecd

commit f926eb6f7ccca4dacad438382f48cf75f854ab77
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:13:11 2012 +0800

    Remove vpn_ping function in cinder/utils.py
    
    vpn_ping is not be used by cinder.
    
    Change-Id: I3ea04200360a23259ce3cce54ff88125895e217b

commit 2d211b66994240b2047d78b3d084d52abeac72a2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 6 23:50:49 2012 -0600

    Update SolidFire driver to reflect IQN changes
    
     Prior to release the SolidFire device returned only
     a partial iqn string in it's api call.
    
     With the GA release, this was modified to return the entire
     iqn string, so just drop the prefix we were using in beta.
    
    Change-Id: I7fa9d1ec6e2639149375a1115198eee90c527ef1

commit 21f415347a3f26f022427ea9c640396a4a19f4f5
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 12:21:40 2012 +0800

    Rename test_nova_rootwrap.py to test_cinder_rootwrap.py
    
    Change-Id: I13554b7afa994ec7c68e86e27568110445d1e4ed

commit 590d3e7b0f74524093725a2e28150b083a77cf96
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 11:16:36 2012 +0800

    Fixes potential bugs found by pylint
    
    Partial fixes bug #1043884
    
    * remove _ec2_volume_get_query and _ec2_snapshot_get_query in
    cinder.db.sqlalchemy.api, because they no longer be used in cinder.
    * import openstack.commmon.utils.timeutils, because notify_usage_exists use it.
    
    Change-Id: I3e989b940b6a99ac7751c940fa766aa13c61607b

commit 42cfb8fbb29577e1a0ab98ec7d8614c270f241ae
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Sep 6 22:52:35 2012 -0400

    Handle missing 'provider_location' in rm_export.
    
    Updates the remove_export function in the ISCSIDriver so that
    it handles the case where provider_location isn't set on
    a volume. This can occur if a volume is created but not exported.
    
    This was a regression from a previous commit
    (9785963c841aff5ea1c159da81f93c2bf62c70c6) which changed the way iscsi
    targets are created/deleted.
    
    Fixes LP Bug #1046484.
    
    Change-Id: Ie762b092dd2a84fe4f3b72c46c03a97ae67c53b7

commit 2cd6a4d68f0faf592b5e2185f792afae27b438d9
Merge: 956fb82 8eb6462
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:31:02 2012 +0000

    Merge "Sync cfg changes from openstack-common"

commit 956fb8236a62435a27c380fd42aff0c6dfa33bf0
Merge: 66eb4a1 46060d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:30:11 2012 +0000

    Merge "Sync misc changes from openstack-common"

commit 66eb4a1eb424b8fe27e2ec3bda7205129f0ef6af
Merge: 8235a22 dc89c6f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:29:51 2012 +0000

    Merge "Sync zmq changes from openstack-common"

commit 8235a22f1990a5b2e1f1b706dd01eb752ec3d9a4
Merge: 1d92751 6985bf4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:28:06 2012 +0000

    Merge "Remove default_schedule_zone."

commit 1d92751ccf024bfb3076c4f381101201f7206b60
Merge: 5c0c720 c86483b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:09:43 2012 +0000

    Merge "Remove memcached_servers config option."

commit 5c0c72051fd0a32c51bb68d955169b07d36ec882
Merge: 5edbbd3 7b45807
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:49:39 2012 +0000

    Merge "Remove dependencies for netaddr."

commit 5edbbd3f34256d60a3f39f129253680ec01cc159
Merge: d16b820 d6a5d0f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:49:07 2012 +0000

    Merge "Fix Typo in LOG.error"

commit d16b820dd51344d5b96b095102fd5d465f69a489
Merge: 01b1a9e 0903603
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:47:05 2012 +0000

    Merge "Specify the conf file when creating a volume."

commit 01b1a9e1795ecccccbdc66bf9068ccb4f544d5fe
Merge: 5d72e7a 51a008d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:30:57 2012 +0000

    Merge "Fix xml metadata for volumes api in cinder."

commit 0903603971033536751ba40df98a3c39175d3189
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Sep 6 14:50:50 2012 -0400

    Specify the conf file when creating a volume.
    
    Updates the tgt-admin command to actually use the config file
    we create for the volume being created.
    
    This fixes an issue introduced in
    9785963c841aff5ea1c159da81f93c2bf62c70c6 which breaks iscsi
    volume creation.
    
    Fixes LP Bug #1046985.
    
    Change-Id: I06e83c9ba351c2b4846b557a3abb170a51d506c0

commit d9b8a5189fa9adf4308bf492dcf6537ba2b75311
Author: Pádraig Brady <pbrady@redhat.com>
Date:   Fri Jul 13 18:22:17 2012 +0100

    avoid the buffer cache when copying volumes
    
    The dd process when clearing volumes, was seen to starve
    the system when writing to an iSCSI SAN connected over GigE.
    
    So use O_DIRECT within the dd process so that the system
    buffer cache is not impacted, which is generally the
    best thing to do when streaming large amounts of data.
    
    Also one could drop the I/O priority of the dd process
    by prepending "ionice -c3". That would change the priority
    from "normal" (best effort) to "idle", which means zeroing
    will only proceed when there is no other I/O on the system.
    It was thought best to leave scheduling decisions to the
    system however, rather than specifying them explicitly.
    
    Fixes bug: 937694
    Change-Id: Ic842d7b83209c41d8ff05075990ed12e6f86283a

commit 5d72e7a40e49e6d69e6733b2564dcfc08f398bd1
Merge: 802c05b c191d0d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 19:24:57 2012 +0000

    Merge "Add admin actions extension"

commit d6a5d0f9faa43a82104a0ed936382195b89d4107
Author: Chuck Short <chuck.short@canonical.com>
Date:   Thu Sep 6 09:50:37 2012 -0500

    Fix Typo in LOG.error
    
    Fix typo in LOG.error, it should be
    vol_id rather than volume_id.
    Fixes bug #1046875
    
    Change-Id: Id162c6f185a110b63e8f9f509f5cde75f3626cbf
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit 7b458073cefac296f41c11ffacb0f18785f127d8
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Sep 3 22:11:59 2012 -0400

    Remove dependencies for netaddr.
    
    Updates cinder utils.py to remove the parse_server_string and
    is_valid_cidr functions. These functions aren't in use
    and are the only reason we need the netaddr dependency.
    
    Updates pip-requires to drop the netaddr dependency.
    
    Also removes the unit tests for removed functions.
    Change-Id: I521ae60b758324069fb1ffa1701b1f9deb780f65

commit aef9f4ab05946e2bfef0cdb53071e52425c7f518
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Fri Aug 31 20:16:29 2012 +0000

    Filter volumes and snapshots by query string
    
    Fix query string search_opts filters in api.openstack.volume.volumes and
    snapshots.  Fix get_all methods in volumes.api to adequately handle
    parameter matching.
    
    The current api does not properly apply query string filters by
    display_name, status, or (in the case of snapshots) volume_id.  These
    filters are needed both for the end user and operator to display logical
    grouping of these resources.
    
    Fixes: bug #1046353
    
    Change-Id: Ia12ffe1bf8a27c8a78daa24c4b728b394932a2b0

commit e756bb932d3275e89ac24713e76464fd18da821b
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:20:54 2012 -0400

    Remove null_kernel option.
    
    This option was only used in the image/fake.py class. In this patch
    I've updated the fake to use an inline 'nokernel' string instead of
    this option which we don't make use of in the runtime Cinder code.
    
    Change-Id: I05d4f227f1278c827ace2ce3c62319f9b18d04d4

commit 6985bf48bed99f752d420071d0ac4db0ad81fd1c
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:17:24 2012 -0400

    Remove default_schedule_zone.
    
    We don't use this config options.
    
    Change-Id: I94a7940dc74341580ab954ffcda1f91fb5433e3f

commit c86483b596c75003645e2c2052c8a63ae85294b4
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:15:58 2012 -0400

    Remove memcached_servers config option.
    
    We don't use this in Cinder.
    
    Change-Id: Id8503ff373622a2667fe0575f79e089056677019

commit 802c05b86a927787d480d16798a62794613695b5
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:13:08 2012 -0400

    Regenerate cinder.conf.sample.
    
    Create a new version of cinder.conf.sample using
    tools/conf/generate_sample.sh.
    
    Old version had 475 options.
    
    New version has 133 options (more accurate).
    
    Change-Id: Id60aec1d91179a294e1969b7ab1f54051cb7a728

commit 0094303e36cf1c01db539a1eea7771ebcb4d336a
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 12:59:28 2012 -0400

    Sync improvements to config file generator tools.
    
    We made some improvements to the config file generator in
    Nova during Folsom including spacing and formatting changes.
    
    This patch merges these into Cinder so we can make use of
    them to generate a new sample config file.
    
    Change-Id: I1e1166ac6e2a28cc179223e5af547995f58b36e6

commit b7745f5e8d871b6ce4a140eb9705b6ec39754159
Merge: 700583d 8c30edf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 5 17:19:01 2012 +0000

    Merge "Removed unnecessary call to ensure_export"

commit 46060d64167c1f700a8af5b89744ac0909d53c5a
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:21:36 2012 +0100

    Sync misc changes from openstack-common
    
    Syncs the following changes from stable/folsom:
    
     769ec65 Don't trap then re-raise ImportError.
     202b8b7 Fix spelling typos
     01b4f31 Support for marshalling datetime while preserving microseconds.
    
    Change-Id: I6ed5e71ed18cdf3c528351713a42645f31fd8965

commit dc89c6f3d2b0f54fd3056f1ff6c677ba50688b66
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:19:07 2012 +0100

    Sync zmq changes from openstack-common
    
    Syncs the following from stable/folsom:
    
     9f9e14c Update zmq context cleanup to use term.
     704fb8b Remove register_opts from client methods
     f88d38b Rename FLAGS to CONF; Remove self.conf
    
    Change-Id: Ic6ab732d71420aba032554c51904dd71f1d23b78

commit 8eb64625e52aa8a6a2046f5ac53e132e1c1ea6de
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:04:16 2012 +0100

    Sync cfg changes from openstack-common
    
    Syncs the following from stable/folsom:
    
     4dc2043 cfg: clean up None value handling
     513bd3a Allow set_default and set_override to use None
     0a36c92 Tilde expansion for --config-file and --config-dir
     038d597 Add import_opt() method to ConfigOpts
    
    Change-Id: Ifa85280fdc072965f3e9ae8641bdf85268a9a6ac

commit 700583d26220cd3e792c1af33c60b8c1ba3c0769
Merge: 5586119 ffe5036
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 4 17:59:05 2012 +0000

    Merge "Fix bug where image size is incorrectly rejected."

commit 5586119f4a838b12a46bd12b316c9944efa6691a
Merge: bdba7e3 b84d623
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 4 17:56:21 2012 +0000

    Merge "Make size optional when creating a volume from a snap"

commit 51a008dfdbb80c158d85beed4e310f94b068d341
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Tue Sep 4 11:08:16 2012 -0400

    Fix xml metadata for volumes api in cinder.
    
    Fixes bug 1040891.
    
    Change-Id: Idf8cc641162617ade2aeb77b666270cf1ce54c54
    Signed-off-by: Matthew Treinish <treinish@linux.vnet.ibm.com>

commit ffe5036fa0e63ccde2d19aa0f425ec43de338dd7
Author: Dermot Tynan <tynan@hp.com>
Date:   Thu Aug 30 17:38:22 2012 +0000

    Fix bug where image size is incorrectly rejected.
    
    Fixes bug 1043952.
    
    Added GB-1 (one byte less than a gig) to the numerator to
    correct round-off errors.
    
    Change-Id: I6d97f3c53ab5a8ff5a0752400fd189f23223958f
    
    Fixed PEP8 complaints.
    
    Change-Id: Iacecddd4e65c80964f4860d6580872d897ec2356

commit bdba7e3bbf7cef4417309eb356aea4b805d3c974
Merge: 56405da b60c390
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 4 03:24:45 2012 +0000

    Merge "Several hacking compliance fixes."

commit b60c3909cec2e96e09c664bf7caca4b7b3b6ba54
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Sep 3 22:17:06 2012 -0400

    Several hacking compliance fixes.
    
    Updates bin/nova-manage and the solidfire driver with several
    hacking compliance fixes.
    
    Makes it so run_tests.sh -p runs clean again.
    
    Change-Id: Iee675cae06acda6a585a77073e773651aab9d5a1

commit 56405da849bc76dc97e3e1bcbfda00d3b73a57cd
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Sep 3 22:02:22 2012 -0400

    Remove Cheetah from pip-requires.
    
    We don't use Cheetah so no need to install it w/ pip.
    
    Change-Id: I29ea1b0ec2bf2eaebe4378c15c3cfc0caebabf99

commit 922fdd0bdc83f7f2cfecb8846bd667f71e7e42ad
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Sep 3 17:16:49 2012 -0600

    Update dev docs
      * Quick pass at implementing the basics for cinder dev docs
      * Remove the N/A compute related stuff
      * Clean up the architecture a bit to only show cinder related
      * Remove various modules form TOC's that aren't applicable
    
    Change-Id: I0089c388524c9def7494658e836f4ed03a61f5b5

commit bedc8b6622bc711acc86e7ef245be478c1e4a2b4
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Mon Sep 3 12:26:35 2012 +0800

    Typo fix: nova => cinder
    
    Change-Id: I816473b3aa7de16bd2d8569c695c6ced9e1d9033

commit c58e87cfe19adbd432b23cfea00ce72e8636403b
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Aug 29 20:35:33 2012 -0400

    Move newly created NFS exceptions to standard location in exception.py
    Addresses bug 1037619
    
    bug 1037619
    
    Change-Id: I20b1c612c03ef90eeb074814b979a9bc7492109c

commit 99e8882f5ff777ce19ea25b923416bbb4511dd63
Merge: fe70a0e 91311d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 1 00:57:54 2012 +0000

    Merge "Remove unused flags"

commit c191d0d10c6cb5730a4fb6540198ca3be6595b02
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Aug 27 07:48:32 2012 +0000

    Add admin actions extension
    
    The optional os-admin-actions extension adds new wsgi_actions to the
    volumes/action resource and a new snapshots/action endpoint.
    
    With this extension both controllers will support an os-reset_status
    action to force a database update of a volume or snapshot that is stuck
    in a failed/incorrect status.  The os-reset_status action works
    similarly to the compute api's os-reset_state action for instances.
    
    The os-force_delete action behaves similarly to the "cinder-manage
    volume delete" command and allows operators/admins to retry the delete
    operation after it has gone into an error_deleting status with an admin
    api call.
    
    The os-admin-actions extension is enabled by default, but limited to the
    admin api by the default policy.json rules.  Individual admin actions
    can be disabled with policy rules as well.
    
    Example of os-reset_status action on a volume:
    
    curl http://localhost:8776/v1/${PROJECT_ID}/volumes/${VOLUME_ID}/action \
        -H 'x-auth-token: ${ADMIN_AUTH_TOKEN}' \
        -H 'content-type: application/json' \
        -d '{"os-reset_status": {"status": "error"}}'
    
    The new admin only api can assist deployers who encounter bugs or
    operational issues that result in failed actions.
    
    It can also be used by future storage backends to support async callback
    style status updates from long running actions or operations which have
    encountered an error will be retried.
    
    Also updates the api.openstack.wsgi.ControllerMetaclass to support
    sub-classing wsgi.Controllers that define wsgi_actions.
    
    Partial fix for bug #1039706
    
    Change-Id: I29f4b892a99108b6c24eebc3eb58033a9e01e679

commit fe70a0ebc47843a08d085e7ab4104898c069f427
Merge: 48ce2b7 5da61a7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 16:41:24 2012 +0000

    Merge "Use event.listen() instead of deprecated listeners kwarg"

commit 48ce2b79a1d393de14c825e5722b5a7710eb36aa
Merge: f5f1824 a3af3f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 16:12:07 2012 +0000

    Merge "Implement volume quota support in Cinder"

commit f5f1824a4ba9a3e5fa29d955961b988168b22207
Merge: aab103b 9785963
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 15:23:45 2012 +0000

    Merge "Fix creation of iscsi targets"

commit aab103bd25db6444a94a834224da662080f3105f
Merge: 7f4cc61 560b650
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 15:22:33 2012 +0000

    Merge "Add cinder- prefix to all binaries."

commit 7f4cc61ceb026505654098bd630ea63a12001587
Merge: cabb54c 4aebd52
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 15:06:31 2012 +0000

    Merge "Make glance image service check base exception classes"

commit 8c30edff982042d2533a810709308b586267c0e9
Author: Unmesh Gurjar <unmesh.gurjar@vertex.co.in>
Date:   Fri Aug 31 07:25:39 2012 -0700

    Removed unnecessary call to ensure_export
    
    Removed the extra call to 'ensure_export' from '_copy_image_to_volume' while
    creating a volume from an image.
    
    Fixes LP: #1044399
    
    Change-Id: I189a4cb66b965367289c2f677147ee085e431190

commit 560b650fa83ff3ce274a705c321fb940c7499a75
Author: Dan Prince <dprince@redhat.com>
Date:   Fri Aug 31 09:56:50 2012 -0400

    Add cinder- prefix to all binaries.
    
    Renames clear_rabbit_queues and volume-usuage-audit binaries
    so that they are prefixed with 'cinder-'.
    
    As part of this change the clear_rabbit_queues binary was changed
    to use dashes instead of underscores for consistency with the rest
    of the cinder binaries.
    
    Fixes LP Bug #1044386.
    
    Change-Id: I7692a543cc67af2d342a64b84626de38c0a64f81

commit b84d6237729efb9241d934e2d06d77bf9adb8471
Author: Duncan Thomas <duncan.thomas@gmail.com>
Date:   Fri Aug 17 10:15:52 2012 +0000

    Make size optional when creating a volume from a snap
    
    Changing the size of a volume when cloning a snapshot doesn't
    make a great deal of sense *and isn't part of the ec2 api).
    
    This patch makes the field optional, defaulting to the same
    size as the snapshot (and therefore the origination volume).
    
    Change-Id: I3fea7fe1c0415d10e549c66a242cf2a336a7204e

commit 9785963c841aff5ea1c159da81f93c2bf62c70c6
Author: Chuck Short <chuck.short@canonical.com>
Date:   Tue Aug 28 15:06:25 2012 -0500

    Fix creation of iscsi targets
    
    Previously when creating iscsi volumes, we were using
    
    tgt-admin -e -c <config file> --update volume-id
    
    Unfortunately the side affect of this is that tgt-admin
    removed other volumes that weren't connected to an iscsi
    connector. Which is obvlously not what we want.
    
    In order to fix this we create the targets.conf for the
    volume but we call tgt-admin --update icssi qualified name.
    
    We're dropping the use of iscsi_targets table when using TgtAdm.
    Compatability for other target admin types is maintained.
    
    Fixes LP: #1038062
    
    Change-Id: I9060a43208df5b79e9b17dadcab8bc0a8eeef55e
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit cabb54c5806022e696697e7c1fa6c81b482d2b20
Author: Joe Gordon <jogo@cloudscaling.com>
Date:   Thu Aug 30 13:35:07 2012 -0700

    Spelling: Persistant=>Persistent
    
    Change-Id: Id8e1bef634fe66e06624b5b3bcd82f59735d76e3

commit a3af3f87f5ca95e9b400dc15e7593746d01bc43a
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Aug 16 15:52:52 2012 -0600

    Implement volume quota support in Cinder
    
    parital fix for bug 1023311
      * To use needs cinderclient https://review.openstack.org/#/c/11509/
      * Updates quota classes with changes in Nova
      * Adds needed quota related DB tables
      * Updates test_quota to reflect changes in Nova
      * Adds absolute limits and empty rate limit functions
      * Updates test/integration/test_volume to make it work w/ above changes
    
    Change-Id: I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9

commit a55430ce286b291e5a5611b1e908b325ab3de20d
Merge: 6db3732 3ed4d0b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 17:02:44 2012 +0000

    Merge "Fix PEP8 issues."

commit 6db37323239a4fa455c0708a15f082af5c68d096
Merge: cc25287 5475deb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 17:01:50 2012 +0000

    Merge "Add 'detaching' to volume status"

commit cc252878f2c778cb63d383479b9dce63ca2d98c7
Merge: c13d0d2 198a91a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 17:01:28 2012 +0000

    Merge "Remove unused return values and commented out code from NFS driver"

commit c13d0d2d19549cdd3f26eae43e6dca026fa55f7d
Merge: 4533e5b 938d92e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 15:43:42 2012 +0000

    Merge "Remove unused exceptions from cinder/exception.py"

commit 198a91a5e447915beca9585546cb92ab956fb0e6
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Aug 29 19:10:11 2012 -0400

    Remove unused return values and commented out code from NFS driver
    
    bug 1037622
    
    Change-Id: Idea3005ad94fd6bfc76fd0f3969ee78e3031767e

commit 91311d5c2c89aca666bb40dc04d917eea9266ed1
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Wed Aug 29 09:46:32 2012 +0000

    Remove unused flags
    
    * region_list
    * aws_access_key_id
    * aws_secret_access_key
    * osapi_scheme
    * osapi_path
    * metadata_host
    * metadata_port
    * default_project
    * default_image
    * default_instance_type
    * vpn_image_id
    * vpn_key_suffix
    * auth_token_ttl
    * bandwith_poll_interval
    * start_guests_on_host_boot
    * resume_guests_state_on_host_boot
    * default_ephemeral_format
    * use_ipv6
    * allow_resize_to_same_host
    * zombie_instance_updated_at_window
    * isolated_images
    * isolated_hosts
    
    Change-Id: Ia3d5ac7d7c983845b5411e2fc1f49eb579e3280f

commit 3ed4d0b62838d53fedea5280523fdaaec76381bb
Author: lrqrun <lrqrun@gmail.com>
Date:   Tue Aug 28 23:28:48 2012 +0800

    Fix PEP8 issues.
    
    Fix some pep8 issues in doc/ext/cinder_todo.py make the code looks pretty.
    
    Change-Id: I137c8bf5af30eb54a44cbff7f1fbc35bc2c3ed9e

commit 4533e5b4509643768c070f6b5a672f1d6a62e27b
Merge: eb9a58d ca25ea4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 27 16:04:14 2012 +0000

    Merge "Migrate volume related quota info in db migration"

commit eb9a58d3eaa10a8a661baf0c1ed534aeb0877dcf
Merge: 56b2e78 f80f8df
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 25 17:57:27 2012 +0000

    Merge "Fix PEP8 issues."

commit 56b2e78a12bb3c61a64ea24420e1a94aa7fd4dea
Merge: 5b34c99 8b92df9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 25 17:49:37 2012 +0000

    Merge "Typo fix in cinder: existant => existent"

commit 5b34c99c734a5749ef03879745226dc5831f6642
Merge: 53de0dd 3034247
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 25 17:49:02 2012 +0000

    Merge "Fix incorrect tgt-admin call in create_iscsi_target"

commit 3034247a4ec7c9c6e433cad6d13183b001fe2e6d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Aug 23 13:23:04 2012 -0600

    Fix incorrect tgt-admin call in create_iscsi_target
    
      * Fixes bug 1039826
      * Missed one of the execute cmds that was using 'val %s' as args
    
    Change-Id: I5e6af737ada1c2bcf7a495710e2b10c8c74bb534

commit 5475debcf706e87b1df926d489b72074662614f3
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Tue Aug 21 15:07:02 2012 +0000

    Add 'detaching' to volume status
    
    Fixes bug #1004382
    
    When attach a volume , the volume status is "available -> attaching ->
    in-use", But when detaching a volume , the volume status is "in-use ->
    available". So We need 'detaching' volume status, it make the change of
    state of the volume more clearly.
    
    Change-Id: Idf8c38413135bf8e8cd025f11937f8c7250557c1

commit 8b92df9febce5bc45fa57bb347779b9644a38c44
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Thu Aug 23 03:00:08 2012 +0000

    Typo fix in cinder: existant => existent
    
    Impact:
    * locale message in cinder/locale/*/LC_MESSAGES/nova.po
    * locale message in cinder/locale/nova.po
    * Test function names
    * Test strings and comments
    
    Change-Id: I623af176d3b556a1ea9f8bde2c609fc4f752d7da

commit 4aebd529f979ed51f46c27b20ed5fe34e48757f7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Aug 22 16:26:15 2012 -0600

    Make glance image service check base exception classes
    
    Fixes bug 1039675
    
    glanceclient can raise HTTPNotFound (as well as NotFound) it appears,
    but glance image service is only converting NotFound ->
    InstanceNotFound.  Same applies to 'Forbidden' and other exceptions.
    
    This patch converts 'exc_type is NotFound'-like checks to use
    'isinstance' instead, which will cover HTTPNotFound, etc.
    
    Also add missing glance/image tests that weren't in Cinder
    
    Change-Id: I8787598daccf401a26d9397946ecd55f89ff62b3

commit f80f8dfecb280673e9661447a9555bac0959e827
Author: Ray Chen <oldsharp@163.com>
Date:   Wed Aug 22 11:57:42 2012 +0800

    Fix PEP8 issues.
    
    Fix some pep8 issues in doc/ext/cinder_todo.py and
    doc/source/conf.py and make the code looks pretty.
    
    Change-Id: Ie164bc7328507e20b0ab5993ba97eaadbd74bf63

commit 938d92e8a9a2ee97fb7951ed232b58d614a27adf
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Wed Aug 22 11:37:26 2012 +0800

    Remove unused exceptions from cinder/exception.py
    
    find cinder/ -type f -name "*pyc" -exec rm {} \;
    exceptions=`cat cinder/exception.py| grep -E '^class' |\
     awk {'print $2'} | awk -F '(' {'print $1'}`
    for exc in $exceptions
    do
        i=`find cinder/ -type f -exec grep -R $exc {} \; |wc -l`
        if [ $i -eq 1 ]
        then
            echo $exc
        fi
    done
    
    First removed exceptions:
    
    DecryptionFailure
    ImagePaginationFailed
    VirtualInterfaceCreateException
    VirtualInterfaceMacAddressException
    MelangeConnectionFailed
    VolumeUnattached
    InvalidKeypair
    InvalidSignature
    InvalidInstanceType
    InvalidIpProtocol
    InvalidCidr
    InvalidAggregateAction
    InvalidGroup
    InstanceInvalidState
    InstanceNotRunning
    InstanceNotSuspended
    InstanceNotInRescueMode
    InstanceSuspendFailure
    InstanceResumeFailure
    InstanceRebootFailure
    InstanceTerminationFailure
    VolumeServiceUnavailable
    UnableToMigrateToSelf
    DestinationHostUnavailable
    SourceHostUnavailable
    InvalidHypervisorType
    DestinationHypervisorTooOld
    DestinationDiskExists
    InvalidDevicePath
    DeviceIsBusy
    InvalidCPUInfo
    InvalidIpAddressError
    InvalidVLANTag
    InvalidVLANPortGroup
    InvalidDiskFormat
    InstanceUnacceptable
    FlagNotSet
    NoVolumeTypesFound
    VolumeDriverNotFound
    ListingImageRefsNotSupported
    KernelNotFoundForImage
    ProjectNotFound
    ProjectMembershipNotFound
    UserRoleNotFound
    StorageRepositoryNotFound
    DatastoreNotFound
    FixedIpNotFoundForAddress
    FixedIpNotFoundForInstance
    FixedIpNotFoundForNetworkHost
    FixedIpNotFoundForSpecificInstance
    FixedIpNotFoundForHost
    FixedIpAlreadyInUse
    FixedIpInvalid
    NoMoreFixedIps
    NoFixedIpsDefined
    FloatingIpDNSExists
    FloatingIpNotFoundForAddress
    FloatingIpNotFoundForHost
    NoMoreFloatingIps
    FloatingIpAssociated
    FloatingIpNotAssociated
    NoFloatingIpsDefined
    NoFloatingIpInterface
    KeypairNotFound
    CertificateNotFound
    AuthTokenNotFound
    AccessKeyNotFound
    SecurityGroupNotFoundForProject
    SecurityGroupNotFoundForRule
    SecurityGroupExistsForInstance
    SecurityGroupNotExistsForInstance
    NoInstanceTypesFound
    InstanceTypeNotFoundByName
    FlavorNotFound
    CellNotFound
    SchedulerHostFilterNotFound
    SchedulerCostFunctionNotFound
    SchedulerWeightFlagNotFound
    InstanceMetadataNotFound
    InstanceTypeExtraSpecsNotFound
    LDAPUserNotFound
    LDAPGroupNotFound
    LDAPGroupMembershipNotFound
    NoFilesFound
    SwitchNotFoundForNetworkAdapter
    NetworkAdapterNotFound
    GlobalRoleNotAllowed
    ImageRotationNotAllowed
    RotationRequiredForBackup
    LDAPUserExists
    LDAPGroupExists
    LDAPMembershipExists
    ProjectExists
    InstanceExists
    InstanceTypeExists
    InvalidSharedStorage
    CannotResizeToSameSize
    ImageTooLarge
    ZoneRequestError
    InstanceTypeMemoryTooSmall
    InstanceTypeDiskTooSmall
    InsufficientFreeMemory
    CouldNotFetchMetrics
    AggregateError
    AggregateNotFound
    AggregateNameExists
    AggregateHostNotFound
    AggregateMetadataNotFound
    AggregateHostConflict
    AggregateHostExists
    InstanceTypeCreateFailed
    SolidFireAPIStatusException
    DuplicateVlan
    InvalidInstanceIDMalformed
    CouldNotFetchImage
    
    Search again, Second removed exceptions:
    
    UserNotFound
    FixedIpNotFoundForNetwork
    FloatingIpNotFound
    SecurityGroupNotFound
    InstanceTypeNotFound
    LDAPObjectNotFound
    UserExists
    
    Search again, Third removed exceptions:
    
    FixedIpNotFound
    
    Change-Id: I028122c6132340b2fef2c144da787b7c4efddccf

commit 53de0dd77ead04422e05a6251cb92c46d787aae6
Author: Clark Boylan <clark.boylan@gmail.com>
Date:   Tue Aug 21 14:08:57 2012 -0700

    Add nosehtmloutput as a test dependency.
    
    Adding nosehtmloutput as a test dependency allows nose to output its
    results to an html file. This will be used by Jenkins to save logs
    on a different server.
    
    Change-Id: I03f61fe4a8f0daa4a43fc9e7d41456b65018cf66

commit ca25ea47782be90f65e9e5311de295499de19f2b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Aug 21 14:00:18 2012 -0600

    Migrate volume related quota info in db migration
    
      * Fixes bug 1039615
      * Now that quotas are back we need to handle migration
        of volume related quota data in the cinder-manage migrate helper
      * Only resource types transferred are volumes and gigabytes
    
    Change-Id: Idd9aab834612e929683491f47fa1e1861bdbd0d1

commit 4e81c907bbb9d94d4b76b00ff591418374175d41
Merge: d2db1e9 bace7fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 21 00:19:27 2012 +0000

    Merge "Add declare for xiv driver in fake_flags"

commit d2db1e9c40cb13ac513184a6435b2eb581305a46
Merge: d0c6448 e958531
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 20 17:12:40 2012 +0000

    Merge "Remove logging in volume tests"

commit 5da61a7ad9d7c3320831c437c03c428b9df84ebb
Author: unicell <unicell@gmail.com>
Date:   Mon Aug 20 19:34:19 2012 +0800

    Use event.listen() instead of deprecated listeners kwarg
    
    Fixes bug 1031405
    
    The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is
    the minimum required version of SQLAlchemy, use the new event.listen()
    API instead.
    
    Change-Id: I1b851e197c04b131ae96e814780b04e6dcdeeb1a

commit bace7fb1b6596c44c500468f689b9b1ef4ad5222
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Aug 17 11:27:21 2012 -0600

    Add declare for xiv driver in fake_flags
    
      fixes bug 1038183
    
    Change-Id: I324a8e4df61782c903146cc8e0bb1d1bbae46c2f

commit d0c6448cbc1334ee7e3053761d155f8044ecc6fa
Merge: 68aaff4 1753889
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 17 16:34:33 2012 +0000

    Merge "Call driver for attach/detach_volume."

commit 68aaff4c742d7994c0dcbbd5d8ebf966efa3f38d
Merge: e5b3ef5 b192cfe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 17 15:35:03 2012 +0000

    Merge "Remove unused function"

commit e958531929e04364759a721a689665ef891ff623
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Fri Aug 17 22:24:43 2012 +0800

    Remove logging in volume tests
    
    Fixes bug #932137
    
    Usage of logging seems to be limited to the check_for_export() tests and
    should be to cleanup. check_for_export() raises an exception if there's
    a problem and it does nothing if it succeeds. The tests should just
    check whether an exception was raised.
    
    Change-Id: I72bc3d97aa75950c7f31fae03535c541059501c2

commit 17538890dc9d005652b2d912cea4a0307e5d6e18
Author: Cory Stone <corystone@gmail.com>
Date:   Fri Aug 17 09:18:52 2012 -0500

    Call driver for attach/detach_volume.
    
    The volume driver may want to know which guest is going to be
    attached to a volume. The manager now calls down into the driver
    on attach_volume and detach_volume.
    
    Fixes bug 1038109.
    
    Change-Id: I084c2d09a1871fa158312f9ba479abb474da1d28

commit e5b3ef5622fc2662addad17f96a9d903ca68db9b
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Fri Aug 17 11:20:09 2012 +0800

    Fix spelling typos
    
    Fixes for:
    * cinder/locale/*/LC_MESSAGES/nova.po
    * cinder/locale/nova.pot
    * cinder/testing/README.rst
    
    Change-Id: Ib50432a72b2300742169ebe4c77584466be7bfba

commit b192cfebb85b4cb6b5f35df3c21ecfa15fc0aa49
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Fri Aug 17 10:07:05 2012 +0800

    Remove unused function
    
    'wait_creation' function in cinder.volume.api.API is unused.
    
    Change-Id: I4062e026b3e227513321be18ee920a4e5882cbd7

commit d2babbfd4b59bde09fe17f7b69c86d857a82d104
Merge: f276d01 6e5ef61
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:58:27 2012 +0000

    Merge "Remove unused imports"

commit f276d01946710154cac900a6cf98f606d0eb7dd6
Merge: d05ef80 11545df
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:48:41 2012 +0000

    Merge "Implements bp migrate-nova-volumes-to-cinder"

commit d05ef8007b25fc251e45edbe06884ca425602c0d
Merge: e5910c6 7ea56d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:01:24 2012 +0000

    Merge "blueprint zadara-volume-driver"

commit e5910c64916f0b5ba511a730808ce31070565523
Merge: cfc79c7 d807526
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:01:23 2012 +0000

    Merge "Add driver for using files on a generic NFS server as virtual block devices Add NetApp-specific NFS virtual block driver"

commit cfc79c784dbe6d24f464a8339493a263eb01b7e0
Merge: bc5c955 df5c4ba
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 03:23:24 2012 +0000

    Merge "Update SolidFire volume driver"

commit 7ea56d215453a01ac33934a71f801f2e4a99f4ce
Author: Vladimir Popovski <vladimir@zadarastorage.com>
Date:   Fri Aug 10 00:14:26 2012 -0700

    blueprint zadara-volume-driver
    
    Adds support for Zadara VPSA storage arrays as a BackEnd for Cinder
    
    Change-Id: I8c2a163079853d4003223eb2c156cfd2ccef3129

commit bc5c955036208a89e53a0f39d8c14ee6c927317b
Merge: a75d75b edc1110
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 01:37:28 2012 +0000

    Merge "add ability to clone images"

commit a75d75b5cf1dab92d6c0e3c7f73e08c0d70bb2b0
Merge: 6ad3607 0b221c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 01:23:36 2012 +0000

    Merge "Add proper support for deprecation messages"

commit 6ad360741f88c25d97ac9b39844302e79d83e781
Author: Craig Vyvial <cp16net@gmail.com>
Date:   Wed Aug 15 15:50:29 2012 -0500

    Adding the volume notifications to cinder
    
    adding the volume notifications
    added unit tests for notifications
    added context for notify with rabbit
    
    blueprint cinder-notifications
    
    Change-Id: I5aef1e718eebb9a61e0670d524fcd5f438dee016

commit edc11101cbc06bdce95b10cfd00a4849f6c01b33
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Aug 14 12:27:48 2012 -0700

    add ability to clone images
    
    Given the backend location from Glance, drivers can determine
    whether they can clone or otherwise efficiently create a volume
    from the image without downloading all the data from Glance.
    
    For now implement cloning for the RBD driver. There's already a
    Glance backend that stores images as RBD snapshots, so they're
    ready to be cloned into volumes. Fall back to copying all the
    data if cloning is not possible.
    
    Change-Id: I71a8172bd22a5bbf64d4c68631630125fcc7fd34
    Implements: blueprint efficient-volumes-from-images
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit df5c4ba864732d6534af561ebe2600d738c07f17
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Aug 13 18:35:35 2012 -0600

    Update SolidFire volume driver
    
    Implements blueprint update-solidfire-driver
    
    * Updates driver to reflect changes in the release version of SF API
    * Modify SF naming scheme
    * Implement snapshot functionality
    * Implement setting qos on create via metadata
    * Update/Add tests
    
    Change-Id: I08f7aac31e9d95f971d297a19c285dfa7151b931

commit 87ba5de73e82ae1a68a23c3eb245fac68597c3e3
Merge: 12aae1a 171a57a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 15 20:15:21 2012 +0000

    Merge "add get_location method for images"

commit 0b221c998338e33627822d9837441c8f24124f90
Author: Thierry Carrez <thierry@openstack.org>
Date:   Wed Aug 8 17:49:44 2012 +0200

    Add proper support for deprecation messages
    
    Add support for warning once about deprecated options. Use that in
    the rootwrap options deprecation message, and move it to run_as_root
    so that the deprecated message is emitted once and only if used.
    
    Change-Id: I29e39c662b4456256f4c9397f305bfa857972c46

commit 12aae1a0728629f9e4e4cc2542756653aab2657b
Author: Dan Prince <dprince@redhat.com>
Date:   Fri Aug 10 23:10:18 2012 -0400

    Remove utils.deprecated functions.
    
    We don't seem to use utils.deprecated at all... so lets
    remove it and save ourselves 200 lines of code.
    
    Also moves a couple misc. test cases in utils.py out of the
    DeprecationTest suite and into the GenericUtilsTestCase
    suite.
    
    Change-Id: I96e93d8fa056110057c8855f2ce52c9f55cd4a9b

commit 8d48d1a2fd8e03e05b02e187eaafce49a8ff571a
Merge: f7938c0 f5ebb33
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 15 17:40:35 2012 +0000

    Merge "Move volume size validation to api layer."

commit f5ebb33f9a0ebc3b8f6d0e0d97e3d4b673106907
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Wed Aug 15 14:10:03 2012 +0100

    Move volume size validation to api layer.
    
    As per the discussion on this patch:
    
      ihttps://review.openstack.org/10540
    
    Change-Id: I5d3031a08aa1e2d17b5fb233ebaec938c66fa88b

commit f7938c0b96c047490b6eb935cbf882505ce4a811
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Wed Aug 15 10:36:09 2012 +0000

    Map internal exceptions in the nova style.
    
    Fixes LP 1014687.
    
    Adopt the nova idiom of internal exceptions mapped to their
    corresponding HTTP reponse code in the FaultWrapper middleware,
    and also inclusion of their detail message if declared safe for
    external exposure.
    
    Change-Id: I95a3c30466f6951e02f7a182545ff8db8fbecee8

commit d8075263f52489d4f9550376eb5beba2f4c8285d
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Mon Aug 13 16:57:50 2012 -0400

    Add driver for using files on a generic NFS server as virtual block devices
    Add NetApp-specific NFS virtual block driver
    
    blueprint nfs-files-as-virtual-block-devices
    blueprint netapp-nfs-cinder-driver
    
    Change-Id: I10ef6f3e230fcea2748152313d341db46bffce55

commit 11545df5cb4fde935adec8160154e591cde8d1b9
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Aug 8 13:33:08 2012 -0600

    Implements bp migrate-nova-volumes-to-cinder
    
      Helper cmds to transition from nova to cinder
    
      Implements an import section in cinder-manage to transfer
      applicable tables from local or remote Nova database into a
      fresh Cinder database.
    
      Also implements optional method to copy persistent target files.
    
    Change-Id: I2e655e26c55f1986f3b1554726cead9e73ee9bd6

commit 5f31f6e6974d097e525dbc3157f716bf069e4702
Merge: b760654 6454235
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 14 20:33:53 2012 +0000

    Merge "Add C-mode driver for NetApp."

commit 171a57a6879683dac5f219a0e8f1080ea687105d
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Aug 14 12:26:19 2012 -0700

    add get_location method for images
    
    This is useful for determining whether the backend storage for the
    image in Glance is the same as the storage used in a volume driver.
    
    The direct_url is only available in the v2 images API, so add a
    version parameter to each request. As more parts of the v2 API are
    used, this parameter will become more useful.
    
    Change-Id: I5ca06b6d80ffe4118f8dd381ed11283573bce71f
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit b760654404f96d6a566b84df6ae61cc9630f5028
Merge: ff45e32 f03e2e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 14 17:24:38 2012 +0000

    Merge "Driver for IBM XIV storage."

commit ff45e32b97a7b87a611715ba61f0ebab5185edc3
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Mon Aug 13 15:13:06 2012 -0700

    rbd: implement create_volume_from_snapshot
    
    In an upcoming release, rbd will support creating volumes from
    snapshots ('cloning'). To clone a snapshot, it must first be
    'protected', which means it cannot be deleted until it is unprotected.
    A snapshot can only be unprotected if no clones depend on it. Thus,
    translate a failure to unprotect into a SnapshotIsBusy exception.
    
    Also check for remaining snapshots before deleting a volume,
    and raise VolumeIsBusy if any exist. While we're here, tidy up
    the shell arguments to be more readable.
    
    This is backwards compatible since it does not use the new features
    unless they are available in the installed version of rbd.
    
    Change-Id: If4105e7af7ba33f09a15103b53ad675aceb2ebb4
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit 66afa15568f5077da2376a4129ef04a1e06cc64a
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Sun Aug 12 02:21:00 2012 -0700

    Replace deprecated client with python-glanceclient
    
    This is a copy of the code that was merged into Nova.
    python-glanceclient is required for Folsom, and for using
    the v2 API.
    
    Implementing blueprint efficient-volumes-from-images
    requires this since it needs to access the v2 API.
    
    Change-Id: Ia088517abab61e824a641d4adf616e08a53a94bc

commit 6e5ef61f8f752fad4c2209b5ebc477f47693506e
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Tue Aug 14 22:07:42 2012 +0800

    Remove unused imports
    
    Fixes bug #1036666
    
    Removed unused imports found by:
    find . -type f -name "*py" -exec pylint -r n {} \; | grep -E "Unused imp|^\*"
    
    Change-Id: Iad69354dd47c2a0dfa3a23a95c1a23eb66773b8d

commit 3b9379c6fba605589c6b753163e5c8f8670c73bf
Merge: 4f7f295 2f53607
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 14 13:29:46 2012 +0000

    Merge "Adds new volume API extensions"

commit 4f7f295c09a498006be6d8a007698432b1c792d8
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Mon Aug 13 10:42:27 2012 -0700

    Fix check_for_export() in non-exporting drivers
    
    This overrides the default check_for_export so that drivers that don't
    need to export block devices on the host like Sheepdog and RBD don't
    raise a NotImplemented exception when this is called.
    
    Reported-by: Mark Moseley <moseleymark@gmail.com>
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>
    
    Change-Id: Icf72f51904e7bdc368bfaf0a91dd0433ce3b1cf6

commit 2f5360753308eb8b10581fc3c026c1b66f42ebdc
Author: Unmesh Gurjar <unmesh.gurjar@vertex.co.in>
Date:   Sat Aug 11 10:31:51 2012 -0700

    Adds new volume API extensions
    
    Adds following extensions:
    1. Create volume from image
    2. Copy volume to image
    
    Added unit tests.
    
    Implements: blueprint create-volume-from-image
    Change-Id: I9c73bd3fa2fa2e0648c01ff3f4fc66f757d7bc3f

commit f03e2e3ca3e31c830c5ef9b22f9b1c3aa8b1557a
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Aug 12 14:55:04 2012 +0300

    Driver for IBM XIV storage.
    
    Volume driver for IBM XIV storage systems, along with unit tests. The
    driver imports the xiv_openstack_box class, which is a closed-source
    proxy available separately to IBM XIV customers.
    
    Change-Id: I3a3ec8b1d3e3adf1895b4a0bbd86993010d2e447

commit dccfa57f6b49d9e92157a3361f42dee0f55bd70c
Merge: 59c55da ac1b465
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 13 07:51:09 2012 +0000

    Merge "Fake requests in tests should be to v1"

commit ac1b465ac3d81516b748740554e6bed8ebefe5ef
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Aug 12 16:20:53 2012 -0700

    Fake requests in tests should be to v1
    
    v2 does not exist, yet.
    
    Change-Id: Id3a332c4d78c87882a7db1a8b98479a3881b0a5f

commit 6454235a27f6c167290ef55a8262277f10d0febf
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Sun Aug 12 00:43:05 2012 -0400

    Add C-mode driver for NetApp.
    
    blueprint netapp-volume-driver-cmode
    
    Change-Id: I1eb418d05f557068bc0d4f359e19721c9c61068b

commit 59c55dadfdf0da57638f971113563ea0950f57b4
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Aug 12 11:31:26 2012 +0300

    storwize-svc: improved test coverage and fixes.
    
    Added test cases to cover more error paths, now providing 97% test
    coverage of the storwize-svc driver. Some tests uncovered bugs in the
    driver, which are fixed by this patch. In addition, there are some
    fixes to the code included which address comments from the submission
    of this driver to nova-volume and sync the two versions.
    
    Change-Id: I7c646885a7f2b1e761725c14940f1d741996beb4

commit 63783084fa012469c25a91017cd3d142483fd09f
Merge: 9a7de84 4bc03ba
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 10 20:34:01 2012 +0000

    Merge "Add iscsiadm path for qauntal."

commit 9a7de84b69650a63ca287d34e363dff897349221
Merge: a2c2448 a4c8e71
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 10 20:25:10 2012 +0000

    Merge "Use openstack.common.notifier."

commit a2c2448e0cc83a173f6d997eecfc36ce41d45a4b
Author: Monty Taylor <mordred@inaugust.com>
Date:   Fri Aug 10 11:55:48 2012 -0400

    Use setuptools-git.
    
    Change-Id: I6861a29d65b809362949f2c54197940fd0988785

commit 4bc03bab32270b4d6fcd302d3b64ac28e2596bd0
Author: Chuck Short <chuck.short@canonical.com>
Date:   Fri Aug 10 10:06:50 2012 -0500

    Add iscsiadm path for qauntal.
    
    Resynchronize with nova/etc/nova/rootwrap.d/nova.volumes.
    
    Change-Id: I9737454bb2f48bbd97fe14bca163059e93ef825b
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit 69aa04d1f89c838d2ea1c96e715e175fb26f0883
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Aug 7 16:25:52 2012 -0400

    Create unique volumes_dir for testing.
    
    Updates test_volume.py so that we create a uniq volumes_dir for testing.
    This avoids polluting the source tree with fake volume UUID's when running
    tests.
    
    Change-Id: I3c37083915effec0eff7c8d9bfffb9f7674fe6f5

commit 6773b92c4e6e8834c8ab699cb6da6d60fde1523e
Merge: df8ef47 1c68bd3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 9 21:33:28 2012 +0000

    Merge "Straight port of the NetApp driver updates from nova-volume to cinder."

commit df8ef4703fd5e43b5031148c37abc5c1b08c1a69
Merge: 3ab7f55 30a5916
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 9 17:34:50 2012 +0000

    Merge "Remove redundant 'availability_zone' config options."

commit 3ab7f55ed1fcebdf990454624b327cebcb2371f5
Merge: e8db777 43626d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 9 17:33:21 2012 +0000

    Merge "Admin users should be restricted from seeing all snapshots by default."

commit 30a591616687f41af4cfa2605078a436b2bd795d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Thu Aug 9 00:41:28 2012 +0800

    Remove redundant 'availability_zone' config options.
    
    There are two availability_zone related config options now:
      node_availability_zone and storage_availability_zone
    While volume API uses node_availability_zone, the scheduler uses
    the other, which causes failure in scheduler when these two options
    have different values.
    
    This patch removes 'node_availability_zone' so that end user
    can specify 'availability zone' when create volumes using
    Simple scheduler.
    
    Partially implement blueprint implement-availability-zones
    
    Change-Id: Ia2f0710908495ec64dacd2ee9bd10d7f8cd415df

commit 1c68bd3c617edca059d6a5ee1c95f5567c26861a
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Aug 8 14:27:44 2012 -0400

    Straight port of the NetApp driver updates from nova-volume to cinder.
    
    These changes were already accepted into nova-volume, and I have only
    altered the exception classes to match the new cinder classes.
    
    blueprint netapp-volume-driver
    
    Change-Id: I0d59db64e00bc7e93223a24dabadbcbd0b290fb9

commit e8db777de63e2308c12a8c3b54e7a0ed54f8a068
Merge: 3905a99 2b2c97e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 7 23:49:59 2012 +0000

    Merge "Deprecate root_helper in favor of rootwrap_config"

commit 3905a9902606871bbe92fe7c48480db3349ea316
Author: Ronen Kat <ronenkat@il.ibm.com>
Date:   Mon Aug 6 10:11:10 2012 +0300

    Use volume driver specific execeptions.
    
    Change generic use of exception.Error in the cinder/volume directory
    to specific exceptions. The exceptions used in this patch are:
    exception.VolumeBackendAPIException
    exception.InvalidInput
    exception.InvalidVolume
    exceptio.VolumeAtatched
    Patch includes updates to the appropriate tests as well.
    
    Change-Id: I10407ff3f5babe64e88f445d3529269b7665ee16

commit e6e1e983695fdc59650c7a4f3013c0e5338144cc
Merge: c02c5a7 c401895
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 7 04:09:00 2012 +0000

    Merge "Add persistent volumes for tgtd."

commit c02c5a76cb1e59dca94ea2bc13ad890c02965d6d
Merge: a1b4bd5 99456bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 7 03:50:25 2012 +0000

    Merge "Send 'create volume from snapshot' to the proper host"

commit 43626d293739dbe06c7fe26845d17c2e580e62dd
Author: jakedahn <jake@ansolabs.com>
Date:   Sun Aug 5 14:32:07 2012 -0700

    Admin users should be restricted from seeing all
    snapshots by default.
    
      * Now to view all snapshots across all tenants you need
        to include the all_tenants=1 GET param in your api request.
      * Fixes remaining issues blocking bug #967882
    
    Change-Id: I2a8338d77badc70201bb315198183f2091df43fb

commit a4c8e71e0895f6652d1e2c8fbb06b6b2447b6086
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Mon Aug 6 10:25:31 2012 +0200

    Use openstack.common.notifier.
    
    - Update openstack.common.log to use it (and fixes #1030078 for cinder as
      well so we can get review I9d4251b4292188c0174ebac1dcd98318df44c0e3
      working).
    - Don't use openstack.common.context but our own just yet.
    
    Change-Id: I10feda623788a3b2418cad6bf55cbdb860ba8ee7

commit a1b4bd5e86cd865869308c976c6aebf9a4ad23a8
Author: jakedahn <jake@ansolabs.com>
Date:   Tue Jul 31 16:35:26 2012 -0700

    Admin users should be restricted from seeing all
    volumes by default.
    
      * Now to view all volumes across all tenants you need
        to include the all_tenants=1 GET param in your api request.
      * Fixes remaining issues blocking bug #967882
    
    Change-Id: Ie9d74e9c09fa0c192ab6257b5fb02d65b593cbfb

commit 2b2c97eb5ca332ce7d1f83e4fd2e81fabe0acb66
Author: Thierry Carrez <thierry@openstack.org>
Date:   Fri Aug 3 15:35:03 2012 +0200

    Deprecate root_helper in favor of rootwrap_config
    
    Align with recent changes in nova-rootwrap by marking the
    root_helper option deprecated and introduce usage of the
    rootwrap_config option instead. The root_helper option will still
    fully be supported in Folsom, but will be removed in Grizzly.
    
    Transition notes: you should replace:
    root_helper=sudo cinder-rootwrap /etc/cinder/rootwrap.conf
    
    by:
    rootwrap_config=/etc/cinder/rootwrap.conf
    
    Change-Id: I22a6d2bdee6ad2c5ad587ceec574cec4b2887f22

commit 99456bd690445443ae05c0d4fe1ec43ba6090f6f
Author: ZhuRongze <zrzhit@gmail.com>
Date:   Fri Jul 13 12:07:13 2012 +0000

    Send 'create volume from snapshot' to the proper host
    
    A simple solution for bug 1008866. When creating volume from snapshot on
    multicluster, in volume it will check if snapshot_id is set. If snapshot_id
    is set, make the call create volume directly to the volume host where the
    snapshot resides instead of passing it through the scheduler. So snapshot can
    be copy to new volume.
    
    Change-Id: Ie9c1a77f62abc40e294b1d0c604cf885652728da

commit c401895f8f2b6f1693601f7996da88d7b3d45fa0
Author: Chuck Short <chuck.short@canonical.com>
Date:   Fri Jul 27 12:05:55 2012 -0500

    Add persistent volumes for tgtd.
    
    Currently if you restart the server running nova-volume
    or restart tgt, you will loose your iscsi targets that
    have been created. This is not good.
    
    In order for iscsi targets to be persistent across
    reboots or restarts, one has to have the target's configuration
    information in /etc/tgt/targets.conf or /etc/tgt/conf.d.
    So when tgtd is restarted then the iscsi targets will be there
    as expected.
    
    This patch will add a configuration file to $state_path/volumes
    when the volume is created. The configuration file is identified by
    the volume uuid. It creates a logicalunit when the volume is created
    as well. The iscsi target and configuration file
    will be removed once the volume has been removed as well.
    
    In order to use this, you have to include the following in
    your /etc/tgt/targets.conf
    
    include $state_path/volumes/*
    
    For upgrades, it will just re-create the volumes
    already in the volumes table.
    
    Fixes LP: #1011159
    
    Change-Id: Ib74dcc1efa0332842041b4c045ca5fa85d4a32ca
    Signed-off-by: Chuck Short <chuck.short@canonical.com>

commit 0be1725cdcc6d0706475aca3444f108ba76db246
Merge: 6e781fc 053837f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 18:40:04 2012 +0000

    Merge "Include AUTHORS file in MANIFEST.in"

commit 6e781fc4b04a5e60e5b8de194931d9f00dda2150
Merge: b765b6b f758bde
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 18:40:01 2012 +0000

    Merge "Scheduler-clean-up"

commit b765b6b7e0814c4ecd71bf434a856d2d86d75f50
Merge: 424e6af c01bf56
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 18:40:00 2012 +0000

    Merge "Add authors for IBM Storwize and SVC driver."

commit f758bde47439be52a743b2b4181d4900f2c1bc8a
Author: ZhuRongze <zrzhit@gmail.com>
Date:   Sat Jul 28 08:14:03 2012 +0000

    Scheduler-clean-up
    
    Some instance related functions and opts were still present in Cinder
    Scheduler.
    
    Remove the functions and opts and modify some computer related comments.
    
    Change-Id: Ia01099e66bcbb129493870dfbf212d5e6669ebe1

commit 053837f89b01beb6c3b09cd753e3ccb1ba32b4c9
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Wed Aug 1 09:05:24 2012 +0200

    Include AUTHORS file in MANIFEST.in
    
    Change-Id: I4b2ddeaaaa5f58eafd25cba6bd613c6fe477ad4d

commit 424e6af7c0ade3128826f7262a87df9e040f67af
Merge: 7d30cb0 5b605b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 05:27:11 2012 +0000

    Merge "Include volume_metadata with object on vol create"

commit c01bf56ba9b89600bbd913bb094fc1164bfa4559
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jul 31 21:47:57 2012 +0300

    Add authors for IBM Storwize and SVC driver.
    
    Change-Id: I0d48dd6ce595e6bd9801478fc0b90bcb8fdf5947
    Co-authored-by: Ronen Kat <ronenkat@il.ibm.com>

commit 7d30cb059a7ac262a40eaa367349f045fbe6362c
Merge: 0d8e026 097acdd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 31 16:22:25 2012 +0000

    Merge "Remove unused instance_name_template flag"

commit 0d8e026dab830d0a1e836f7e3f1d84ea7ccfd6a4
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Jul 15 15:53:36 2012 +0300

    Driver for IBM Storwize and SVC storage.
    
    Volume driver for IBM Storwize and SVC storage systems, along with unit
    tests and updated sample config file. The unit tests include a
    Storwize/SVC management simulator to allow for testing without
    controller hardware. Also added a new exception for volume drivers.
    
    Change-Id: Id7e3e79cd6e62fac4b10937b6f1b5f6bcb7908fe

commit 097acddf82b937a042c2591da02da3b2092a1519
Author: ZhuRongze <zrzhit@gmail.com>
Date:   Sat Jul 28 07:28:50 2012 +0000

    Remove unused instance_name_template flag
    
    Only used in nova/db/sqlalchemy/models
    
    Change-Id: I1029848bb639402cad30c01b51630c0ddd9dd7b8

commit 62af23cff67791781e5851ad83334857752eae36
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Mon Jul 30 16:11:18 2012 +0100

    Allow XML payload for volume creation.
    
    Fixes cinder aspect of LP 1030330
    
    Tolerate volume size attribute of type string as opposed to int.
    
    Change-Id: I8d300a6c23c2e4e92187e26260ce49da35590545

commit 5b605b6b8ae00f51deac5e0531f7aeda9bd11019
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jul 27 22:30:47 2012 -0600

    Include volume_metadata with object on vol create
    
    Fix for Bug 1029762
    
    The symptom of this bug is that the response data of an
    OSAPI create call always shows and empty dict for volume_metadata
    regardless of what was passed in to created and actually used.
    
    Upon the db create_volume call a reference to the volume
    object is all that was being returned.  Since metadata is
    specified and set, it should also be returned with the
    create reference object.
    
    This will result in the the osapi create call returning
    a body with correct metdata info rather than always showing
    and empty dict as it was previously.
    
    Change-Id: I9ae9c737bd2aa5bfa14c19fe8b8b2a7a5aa4d43a

commit 95262bb692746ca89dc01337357c4329766df5e5
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Thu Jul 26 16:26:55 2012 +0000

    Trim volume type representation.
    
    Fixes cinder aspect of LP 1027281.
    
    Use view builder pattern to only include non-extraneous
    volume type attributes in the representation.
    
    Change-Id: I33f1b579fd6ed4ed98fa04e9148e91eca125213e

commit cdaf23ea960f64d62140f5c5807f5c2fd8ca9feb
Merge: 46e3e73 612b1bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 24 23:25:38 2012 +0000

    Merge "Don't do PEP8 test for openstack-common code."

commit 46e3e73bf7b37ffdd8bcdab93442cebc78d09d4d
Merge: d2d3c9c 111b753
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 24 23:20:41 2012 +0000

    Merge "Cleanup unused code in servce.py"

commit d2d3c9cba4a647724f75c036a1985a10c966da35
Author: Thierry Carrez <thierry@openstack.org>
Date:   Mon Jul 23 16:21:28 2012 +0200

    Port nova-rootwrap changes to cinder-rootwrap
    
    Port recent nova-rootwrap changes to cinder-rootwrap, including:
    * Move filter definition from Python module to configuration files
    * Fix tests execution on Fedora (bug 1027814)
    * Remove executable bit on cinder/rootwrap files
    
    This certainly needs a matching change to devstack to pass gating.
    
    Change-Id: I963bc7890ba285ae515ea61bbd960bd2523f9061

commit 612b1bd95510252721ba1a0531bd27e2706cad1d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Jul 23 14:39:48 2012 +0800

    Don't do PEP8 test for openstack-common code.
    
    Pep8 test reports issue on openstack-common modules, which would
    fail CI test. Pep8 test should skip openstack-common and assuming
    they are problem-free code. Even it's not, bug/fix should go to
    openstack-common first, then resync back to Cinder.  Therefore,
    Cinder should skip pep8 test for openstack-common code.
    
    Fix bug #1027774
    
    Change-Id: I22c45542401022a6bad9f2320e8657f972915f69

commit 111b7534b602d62e4984ada998f757038677b745
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Jul 23 11:17:26 2012 +0800

    Cleanup unused code in servce.py
    
    Remove unused code in Service() class which is meant to be used
    by 'nova-compute'.
    
    Change-Id: Iadd58914c7fb7a581f9878880908aabcfa5733d6
    Signed-off-by: zhiteng.huang@intel.com

commit 3a2036cccb2852b29d2aca15bd25d9e4ad919bcc
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Fri Jul 20 12:26:18 2012 +0000

    Use openstack.common.setup.
    
    - Remove Authors and add it to .gitignore since this is now auto
      generated.
    
    Change-Id: I513b362a0ea8aca9cf5e06807834316b46a5f430

commit 1cd9f0426437099be05d609abb32781941ac7af4
Merge: 9a5e830 56701c3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 20 16:41:01 2012 +0000

    Merge "Remove unused fake memcache client"

commit 9a5e830c2453b0e4fd93c56173881ce43cffc3e8
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Jul 20 08:59:40 2012 -0700

    utils module is still being used by cinder-volume service
    
    bug 1026949
    
    Change-Id: I7327d94b5a9f35bc74e179a05976d511c6642a7a

commit d8ae1541c43b3586bc1b6dd25639727e5618ae79
Merge: 797fe5f fe716c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 20 15:08:03 2012 +0000

    Merge "Use openstack.common.log for logging."

commit 797fe5f81caf2adc442e447def5c7ef843f79171
Merge: 635f149 c99bae9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 20 15:06:36 2012 +0000

    Merge "Remove unused check_snapshots_enabled"

commit 56701c3eb0dfa0db90bc686ba49dd978da974106
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 03:58:01 2012 +0100

    Remove unused fake memcache client
    
    Used by the consoleauth service and the EC2 and metadata APIs in Nova.
    
    Change-Id: I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c

commit c99bae92e8aa3a38d5e3411e71df0d65a9484298
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:15:32 2012 +0100

    Remove unused check_snapshots_enabled
    
    Only used in Nova by the createImage action.
    
    Change-Id: I114281fd553020ac96c499c18ff3e4a2a626c3b2

commit fe716c0ee499ed13f37231c651b8e018baede772
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Fri Jul 20 10:53:41 2012 +0000

    Use openstack.common.log for logging.
    
    - We are not using openstack.common.notifier just yet so handedit
      openstack.common.log to use cinder.notifier now.
    
    Change-Id: I9d912904c53a8ef5d90b4ab5792f5577701b6817

commit 635f1498757d5ab8a0a8957d6e5aafaf3ceee022
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Jul 19 23:35:32 2012 -0700

    Don't create volumes if an incorrect size was given
    
    bug 1006875
    
    Change-Id: Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5

commit 3536ee616f0e381704ea0f7dfc7d1c7dc16c665e
Merge: ae28dc0 8b6397b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 17:03:09 2012 +0000

    Merge "Remove some unused helper scripts"

commit ae28dc01b335cbc2b264dfca8962fe59934ab432
Merge: 16158d1 23df265
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:57:18 2012 +0000

    Merge changes I4e00ca81,I223aca1a
    
    * changes:
      Remove unused get_{id,version}_from_href()
      Remove unused metadata serialization

commit 16158d18045c2ebc4ae724619659dc53d81e5c8e
Merge: 897b5e3 fbf1ee2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:56:14 2012 +0000

    Merge "Remove unused OverLimitFault"

commit 897b5e3b4beb364fd6a053eb5bba9540a317d1d1
Merge: f49c947 c73d15d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:54:48 2012 +0000

    Merge "Remove unused wrap_errors decorator"

commit f49c947b0fef819997a461bf94dd30b31c9f9b96
Merge: 05b661e 03700f1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:53:43 2012 +0000

    Merge "Remove unused raise_http_conflict_for_instance_invalid_state()"

commit 05b661e967d004d458ab6326635e8463695554fa
Merge: 15f971d ed7e05b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:52:28 2012 +0000

    Merge "Remove unused enabled_apis flag"

commit 15f971de5bce79648f812209df0f82622a3711d0
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Jun 13 10:48:54 2012 -0400

    Use rpc from openstack-common.
    
    Final patch for blueprint common-rpc.
    
    This patch removes cinder.rpc in favor of the copy in openstack-common.
    
    Change-Id: I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd

commit 84b7025547455d1f83d0fc20c7b9de0a3291f9e6
Author: Russell Bryant <rbryant@redhat.com>
Date:   Mon Jul 2 11:30:10 2012 -0400

    Add missing gettextutils from openstack-common.
    
    This patch adds gettextutils from openstack-common to cinder.  It is used
    by rpc, so some parts of rpc are broken without this patch.
    
    Change-Id: I0830319f4e2011b87180abcc24354c935bea8d16

commit 1b3cbc537ee1b69940cfb3a5d5b408db13df266d
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue May 1 17:31:26 2012 -0400

    Use save_and_reraise_exception() from common.
    
    This patch common.excutils from openstack-common, which includes
    save_and_reraise_exception().  The patch also converts the code
    base to use it from there instead of cinder.utils and then removes
    it from cinder.utils.
    
    The initial motivation for this was removing another cinder dependency
    from cinder.rpc so that it can eventually be moved to openstack-common.
    
    Change-Id: I7354ca51a02aec9c709cf33f77d4abc46acc2742

commit 0f362edeb03177c12a65b9587d13df7aac76a2f7
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Jun 1 14:42:32 2012 -0400

    Use openstack.common.cfg.CONF.
    
    Part of blueprint common-rpc.
    
    This patch makes the rpc code use the global config object from
    openstack-common.  Based on some recent discussions on the mailing list,
    this may not be the final way configuration handling is done here, but
    it is certainly better than the register_opts() hack that is removed by
    this patch.
    
    Change-Id: Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6

commit 8f1d99d6942538622c737b791007cecdf9248d8a
Author: Russell Bryant <rbryant@redhat.com>
Date:   Sat May 26 20:42:09 2012 -0400

    Remove cinder.log usage from cinder.rpc.
    
    Part of blueprint common-rpc.
    
    This patch removes the usage of cinder.log from cinder.rpc.  This is
    necessary before cinder.rpc can be moved to openstack-common.  The rpc
    logging was not using any of the extra features provided in cinder.log as
    far as I can tell, so the changes are very simple.
    
    This is the final dependency.  After this change, the rpc code
    can be moved to openstack-common without any changes.
    
    Change-Id: I17ca4b691bb8d4f18e618632a2381dd12d31852a

commit d916746ae9f656f6feda9d806c1ea45853e2efa3
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri May 25 16:24:03 2012 -0400

    Remove cinder.context dependency from cinder.rpc
    
    Part of blueprint common-rpc.
    
    This patch removes the usage of cinder.context from cinder.rpc.  Everything
    needed to implement RpcContext now exists within cinder.rpc.
    
    Change-Id: I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5

commit 2daf95464f18e57edd0409413142f18b11a7745b
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri May 25 14:13:34 2012 -0400

    Localize rpc options to rpc code.
    
    Part of blueprint common-rpc.
    
    Move rpc options from cinder.flags into cinder.rpc code.  This is necessary
    before the rpc code can be moved to openstack-common.
    
    Change-Id: I474c3660e1cbd3ab663571b1e088c84deb905e0b

commit 863b6afe12fb409f4866299bb7c975db7c2ad72e
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed May 16 16:40:05 2012 -0400

    Add version to scheduler rpc API.
    
    Part of blueprint versioned-rpc-apis.
    
    One side effect of this change was that cinder.scheduler.api was removed
    in favor of cinder.scheduler.rpcapi.  In this case, the api was just a
    direct wrapper around rpc usage.  For other APIs, I've been following
    the pattern that the rpcapi module provides the rpc client wrapper, and
    if any other client-side logic is needed, that's where an api module is
    used.
    
    Change-Id: Ibd0292936f9afc77aeb5d040660bfa857861eed1

commit ec6e9e4fde537eedb25946734b07297ba6c63c94
Author: Russell Bryant <rbryant@redhat.com>
Date:   Mon Jul 16 21:24:02 2012 +0100

    Sync cfg and iniparser from openstack-common.
    
    Cherry picks af387b9, cb6bf34 and c6c29ab from Nova.
    
    This change pulls in the latest version of the cfg module from
    openstack-common includes some formatting changes, spelling fixes,
    support for bol/eol spaces in values and support for deprecated
    options.
    
    Change-Id: I58c7b2100b594f5f261c089d674f449a1a7d067b

commit e435bca7181240b3a4e4a9a81a21266ba9a6f3e7
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:19:55 2012 +0100

    Use cfg's new global CONF object
    
    Cherry picks 00786bc from Nova.
    
    Implements blueprint cfg-global-object
    
    Replace cinder.flags.FLAGS with openstack.common.cfg.CONF.
    
    In future, we can do a s/FLAGS/CONF/ across the codebase.
    
    Change-Id: If213a4a5da1faf96aac82f34b18d1e0b061495c0

commit 64306e87b38483c00e5055f246294f081e1f0a5b
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue Jul 17 05:10:29 2012 +0100

    Make use of openstack.common.jsonutils.
    
    This patch imports jsonutils from openstack-common.  It removes the
    equivalent code from cinder.utils and then converts the code base to use
    jsonutils.  The primary motivator for this change was to remove the rest
    of the dependencies from cinder.rpc on cinder.utils.
    
    Change-Id: I4b16577f774194a628bf84d5352e63ec1f868698

commit d211eba148f2ec401dadd62114b9a2ea2c95f11a
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:00:15 2012 +0100

    Sync with latest version of openstack.common.cfg
    
    Cherry picks c1bf456 from Nova.
    
    Changes since last sync:
    
     - Alphabetize imports in openstack/common/cfg.py
     - make reset() clear defaults and overrides
     - automatically create option groups
     - allow options to be marked as required
     - use a list comprehension instead of map()
    
    Change-Id: Ie17fe855a75b5021b031902aa86031d8ddc06dfd
    Reviewed-on: https://review.openstack.org/9867
    Approved: James E. Blair <corvus@inaugust.com>
    Reviewed-by: James E. Blair <corvus@inaugust.com>
    Tested-by: James E. Blair <corvus@inaugust.com>

commit 2f7feffc64ac435846fb9ee6c467ce128f66b20d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Tue Jul 17 15:11:26 2012 +0800

    Convert Cinder to use openstack-common jsonutils.
    
    This patch replaces json handling code in Cinder with openstack-common
    jsonutils.  Also remove some unused imports.
    
    Implement blueprint cinder-common-jsonutils
    
    Change-Id: I28c1a095823c2f04f30c32724144297a2d67fba4
    Reviewed-on: https://review.openstack.org/9912
    Reviewed-by: Mark McLoughlin <markmc@redhat.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit a5d16cfb8d6d953d2a9689ddc855cade604e1e9b
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue Jun 12 17:07:18 2012 -0400

    Add missing ack to impl_qpid.
    
    Fix bug 1012374.
    
    Johannes Erdfelt pointed out that impl_qpid wasn't acking messages that
    it received.  This turned out to be a nasty oversight, resulting in
    unbounded message queue growth inside of the python-qpid library.  This
    fixes it.
    
    Change-Id: I0370293807f0282e1dbdd59246f70be031e888a9
    Reviewed-on: https://review.openstack.org/9908
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 22a9da3cc4b0cc17d8d3483b95dc57ed43bf0ecb
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue May 29 16:35:35 2012 -0400

    Move queue_get_for() from db to rpc.
    
    Part of blueprint common-rpc.
    
    The function queue_get_for() is a utility function used by various
    consumers of the rpc API.  This function lived in the db API, but never
    ended up using anything from the database.  This patch moves it into the
    rpc API so that it can be used by other users of rpc once it moves into
    openstack-common.
    
    Change-Id: If92675beecff5471b416a929c161b810e3c71939
    Reviewed-on: https://review.openstack.org/9906
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 14a30e0b829a24e21d9c547d2e3fd773b1eab675
Author: Russell Bryant <rbryant@redhat.com>
Date:   Mon May 7 14:10:29 2012 -0400

    Add base support for rpc API versioning.
    
    Part of blueprint versioned-rpc-apis.
    
    This commit includes the base support for versioned RPC APIs.  It
    introduces the RpcProxy and RpcDispatcher classes that have common code
    for handling versioning on the client and server sides, respectively.
    
    RPC APIs will be converted one at a time using this infrastructure.
    
    Change-Id: I07bd82e9ff60c356123950e466caaffdfce79eba
    Reviewed-on: https://review.openstack.org/9901
    Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit c044d3c1f6541b4f7d504e9375eb13efdd36e5a2
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed May 2 12:14:56 2012 -0400

    Make kombu support optional for running unit tests.
    
    Fix bug 838386.
    
    Previously, the unit tests required kombu to be installed to run.  This
    patch makes it so the unit tests will still complete successfully, even
    if kombu is not installed.
    
    Change-Id: I06831a37f8c857bbfd0bce1b1c3aeda7d341a589
    Reviewed-on: https://review.openstack.org/9900
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 9e4242c3865da976928ecd43ef82030ac8bfc8cf
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue May 15 14:43:18 2012 -0400

    Stop using cinder.exception from cinder.rpc.
    
    This patch is a part of continuing to remove dependencies from cinder.rpc
    on the rest of cinder.  One RPC related exception was defined in
    cinder.exception, so that was moved to cinder.rpc.common where the rest of
    them live.  These exceptions were changed to no longer use CinderException
    as their base.  Instead, there is a new RPCException base.
    
    One other change that should be reviewed closely is the removal of using
    cinder.exception.wrap_exception() in cinder.rpc.amqp.  As far as I can tell,
    this didn't actually do anything since nothing was being passed in to
    wrap_exception().
    
    Change-Id: I36ff7c05ab0467ad8506b56d561c532eadf8dff8
    Reviewed-on: https://review.openstack.org/9899
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 4ab214a35ff84f12d09713737aac801fb0256282
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:28:02 2012 +0100

    Remove unused synchronization decorator
    
    This is only used on the compute and network side in Nova.
    
    Change-Id: I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0
    Reviewed-on: https://review.openstack.org/9888
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 362576f268e87cb53eb5c5f3dbb46b1768d73dae
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:30:15 2012 +0100

    Remove 'cinder-manage config convert'
    
    This convers the old flagfile style config files into the the
    new .ini style config files. Since Cinder is new and it's first
    release will only support .ini style files there's no need for
    such a command.
    
    Change-Id: Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4
    Reviewed-on: https://review.openstack.org/9871
    Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit f07d38bca4ca26edb6f68d4183656b2e87a6c7fc
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:10:17 2012 +0100

    Use cfg's new behavior of reset() clearing overrides
    
    Cherry-picks b858108 from Nova.
    
    Change-Id: I5e14dea25afd5bff03a39671b2d3b85481977bec
    Reviewed-on: https://review.openstack.org/9868
    Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit ee669789feabf245fe08f88d55e975c66c4789d7
Merge: c4d7c06 da97aa4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 08:11:23 2012 +0000

    Merge changes Id5a0ffab,If283dd7c,I1a11e8fd
    
    * changes:
      Remove old flagfile support
      Misused and not used config options
      Pass 'cinder' project into ConfigOpts

commit c4d7c06a5996e74976be9d3ad6f2902fcf0edd39
Merge: cba4583 519bd24
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 18 17:32:54 2012 +0000

    Merge "Convert Cinder to use openstack-common timeutils"

commit ed7e05b00861e1fa3fbc21c4562a17b97d1f16f9
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:35:28 2012 +0100

    Remove unused enabled_apis flag
    
    This is only useful in the context of Nova where there are multiple
    APIs.
    
    Change-Id: I2339a36b45166a24825882e3e35dd00a2dfb6b27

commit 8b6397bbf58a6c0da00500407790ed8547741771
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:33:17 2012 +0100

    Remove some unused helper scripts
    
    openstack-config init script and clean-vlans scripts are only relevant
    to nova.
    
    Change-Id: Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5

commit c73d15d347ba5a973e257932ffb9d6012939e3a5
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:18:40 2012 +0100

    Remove unused wrap_errors decorator
    
    Only used by rescue extension in nova.
    
    Change-Id: I3ade99405736bf8ffb8891a8d53c02905501ae44

commit 23df2650371345f05f75208a9e35d7ca0b6421e4
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:10:18 2012 +0100

    Remove unused get_{id,version}_from_href()
    
    The former is only used in the compute API in Nova to e.g. get
    an image or flavor ID from a client supplied ref.
    
    The latter is unused even in Nova since the removal of the 1.0
    API.
    
    Change-Id: I4e00ca816820cb51c0ab3d4d864766d981854939

commit b79ad1a950116b6eb0e0f7be48e9ca215681ee1e
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:06:19 2012 +0100

    Remove unused metadata serialization
    
    Only used by the compute API in Nova for e.g. images and server
    metadata.
    
    Change-Id: I223aca1a1c8e35c9339107e5c11bdd8a39968681

commit 03700f12f356a00c67fe3c301cc297c85e92c69e
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:04:58 2012 +0100

    Remove unused raise_http_conflict_for_instance_invalid_state()
    
    Only used by the compute API in Nova.
    
    Change-Id: I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef

commit fbf1ee2069450eb6b55d18fafea6aa44874219c9
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:00:51 2012 +0100

    Remove unused OverLimitFault
    
    Only used by compute limits in Nova.
    
    Change-Id: I065ca64e060acc0773189f1497fcc54041621f39

commit da97aa46d8210abf848520c06a29638f925c42ed
Author: Ghe Rivero <ghe@debian.org>
Date:   Mon Jul 16 20:31:51 2012 +0100

    Remove old flagfile support
    
    Cherry-picks 7e3e9b8 from Nova.
    
    Change-Id: Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350

commit 78918b8861f11d0145f8cc7310ece6ec8535c6e5
Author: Zhongyue Luo <lzyeval@gmail.com>
Date:   Mon Jul 16 20:37:54 2012 +0100

    Misused and not used config options
    
    Cherry picks dc9c3cb from Nova.
    
    Fixes bug #1000071
    
    [nova.api.sizelimit.py]
    osapi_max_request_body_size: BoolOpt -> IntOpt
    
    [nova.rpc.__init__.py]
    allowed_rpc_exception_modules: IntOpt -> ListOpt
    
    [nova.volume.driver.py]
    num_shell_tries: StrOpt -> IntOpt
    num_iscsi_scan_tries: StrOpt -> IntOpt
    
    [nova.volume.driver.py]
    san_thin_provision: 'true' -> True
    san_is_local: 'false' -> False
    
    Change-Id: If283dd7c4feba69c07bd483acd14f45c2659b743

commit 9929f2b2a152f34e24366f5f0afbc071ff40833f
Author: Rick Harris <rconradharris@gmail.com>
Date:   Mon Jul 16 20:33:45 2012 +0100

    Pass 'cinder' project into ConfigOpts
    
    Cherry-picks fb96f7d from Nova.
    
    Change-Id: I1a11e8fd6a56b2336457f7df178c2b3c187246c3

commit cba45833120ef03fb355f0c8399cd62fc80ef2ac
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 20:48:02 2012 +0100

    Sync to newer openstack.common.cfg
    
    Cherry picks e0d891e from Nova.
    
    Changes since last sync are:
    
     * New ConfigOpts.find_file() for locating conf files
     * Support for directory source of config files
     * Provide file extension when when looking for files
     * Some refactoring of the cfg cache
     * Add caching to openstack.common.cfg
    
    Change-Id: If9852d0431093d590252bb704e934a4a56ef0263

commit 519bd2451d8b3aff6661d18e340b8f31a69e1091
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Jul 13 13:58:25 2012 +0800

    Convert Cinder to use openstack-common timeutils
    
    This patch is part of effort to get Cinder to use openstack-common
    package.  This part is to replace time related functions in utils.py
    with 'timeutils' module.
    
    Implement blueprint cinder-common-timeutils
    
    Change-Id: Ic5e9e317a95a7399f0604823eec76b3642a0c1b1

commit 008cad14287e17e7bc9ea434b12715c011de880d
Merge: c3bc1aa c7690fc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 12 20:03:42 2012 +0000

    Merge "Updated HpSanISCSIDriver to use initialize/terminate methods."

commit c3bc1aa3a60432152d2f44d3963c451ed483ef79
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jul 12 09:01:14 2012 -0600

    Do not duplicate nova docs in cinder
    
    * This modifies the index.rst file to give interim info about cinder
    * We were regenerating the nova docs copied over which was bad!
    * Fixes bug 1022315
    
    Change-Id: I46531976f3e6521cec69cc13276d328d6c2d2da3

commit b46a0afc37ce2f93bcf3527593eec1097792cae5
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jul 6 18:28:53 2012 -0600

    Remove unused db api methods
    
      * Implements cinder blueprint remove-extra-dbapi-methods
      * Related to cinder initial-db-cleanup:
          Remove db api methods associated with removed tables
    	  Modify/Remove tests associated with removed tables
    	  Remove non-existing db API calls from volume/api
    
    Change-Id: I60e0c6ffad9c78a29d56a27a04e9ec5ebaa1f251

commit 263d7b905446e8eaadbcc0501846da7d771e57ad
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jul 3 16:40:15 2012 -0600

    Create single initial Cinder DB migration file
    
     * Implements blueprint initial-db-cleanup
     * Sets initial migration
     * Removes unused tables that were brought in from nova
     * Condenses db migrations into the single initial migration/creation
     * Add explicit mysql set InnoDB in UTF8 loop
     * Folow up patches include:
     *    Remove unused db API calls
     *    Fix/Remove affected tests
    
    Change-Id: If24b00747dbbff7037b7aca39602d5f0b1c6aa50

commit c7690fc53dba8ce7221c5f7afd93238be1ea0498
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Thu Jul 5 15:08:34 2012 +0800

    Updated HpSanISCSIDriver to use initialize/terminate methods.
    
    This is based on Nirmal Ranganathan's patch for Nova-volume, which
    added a new key 'host' for initialize/terminate volume connection
    information in nova to fix bug 992729.
    
    HpSanISCSIDriver should adopt the change in order to work properly.
    Also added missing unit tests for the HpSanISCSIDriver.
    
    Fixes bug 992729.
    
    Change-Id: I9584811a340799161d8c9ae88b1def282380c9ad
    Signed-off-by: Zhiteng Huang <zhiteng.huang@intel.com>

commit a55f0732211f0a1a8f6db40e6d1f464050234844
Author: Christopher MacGown <chris@pistoncloud.com>
Date:   Tue Jul 3 17:49:16 2012 -0700

    Pruned Authors file to active contributors (from nova-volumes).
    
    Active contributors was fetched from git blame output, for files
    inside the nova/nova/volumes folder in nova.
    
    Change-Id: I8cc63975bf1160ca76badc54fd4d51077873dfee

commit 57d6c5d1bc914c4dfe36311ec83828c5a85fa7ca
Author: Clark Boylan <clark.boylan@gmail.com>
Date:   Mon Jul 2 14:17:31 2012 -0700

    Move nova-manage.rst to cinder-manage.rst.
    
    Cinder docs were not building because sphinx was looking for
    cinder-manage.rst which did not exist. The file was simply misnamed
    and renaming it to cinder-manage.rst allows the docs to build.
    
    Change-Id: I68f4ed81230cc277a96bb34dfa172e5ce7788ac4

commit a9c8212f6925b9f4e0feb25621266265968ee1df
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jun 13 12:38:35 2012 -0600

    Add action extensions to support nova integration.
    
     * Adds VolumeActions extension to support key functions
        described in blueprint volume-decoupling
     * Adds snapshot translations to APIs
     * Should be back in sync with 7992
     * blueprint compat-extensions
     * sleepsonthefloor: Moved added snapshot attributes to extension, added tests
     * sleepsonthefloor: Lock pep8==1.1 in tox.ini
    
    Change-Id: I9c6118cd434ca8b275d2386546923f932420b975

commit 2c6e2732592849016f248434469f5289780e375c
Merge: a071c75 9c55720
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 13 18:23:58 2012 +0000

    Merge "Revert "Add action extensions to support nova integration.""

commit 9c55720129df12780d1d6480942d6d96abf54a01
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jun 13 17:51:37 2012 +0000

    Revert "Add action extensions to support nova integration."
    
    This reverts commit 8d8903f466cd7d4270e46ad896817fe94c99b575

commit a071c75c7efeaaffa8faab91ead8d7d71b273cb8
Merge: f8c9b20 8d8903f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 12 04:26:40 2012 +0000

    Merge "Add action extensions to support nova integration."

commit f8c9b20b2dd31d8501d26111bde4107df8bb42e7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jun 7 14:38:29 2012 -0600

    Fix volume['id'] from integer to string
    
    * This is the same fix as nova bug 1010200
    * Missed in volume uuid migration
    
    Change-Id: Ib433ea6a1f247aad7fcba72680fd14e82387ed62

commit 8d8903f466cd7d4270e46ad896817fe94c99b575
Author: Anthony Young <sleepsonthefloor@gmail.com>
Date:   Thu May 31 12:03:02 2012 -0700

    Add action extensions to support nova integration.
    
     * Adds VolumeActions extension to support key functions
       described in blueprint volume-decoupling
    
    Change-Id: I1310c9e813c089619e8ecdf56c631d8257c0897e

commit 0cd8f34eed28a2c1a77d56fe4b0e00816ef48780
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jun 1 10:46:14 2012 -0600

    Set pep8 version to 1.1 in test_requires
    
    * Fixes bug 1007518
    * Changes in pep8 cause new failures
    * Fix up the ones we found anyway
    
    Change-Id: I5cd73a252f73893e4672a2e39b667c519423ae3f

commit 2263cf7db7672699e29a76d68dbe91cad2071b86
Author: Anthony Young <sleepsonthefloor@gmail.com>
Date:   Wed May 30 15:24:41 2012 -0700

    Fix topics so that the do not collide with nova.
    
     * Without this, there are issues running cinder if
       you have previously run n-vol
     * Fix pep8
    
    Change-Id: Id56dbfd6c4f62a74cc57edcc7859753dd7e36229

commit 50792c2ff41fdc7e73b3e3c51f4510366debfd14
Author: Monty Taylor <mordred@inaugust.com>
Date:   Mon May 21 14:40:18 2012 -0400

    Fix up coverage and jenkins test running.
    
    The docs job wasn't working because of an un-renamed file.
    Coverage wasn't running in jenkins with the xml output file.
    Remove the .cache.bundle support that we're moving away from.
    
    Change-Id: I1140baa53dee8b14ac4d1f8549425a0fdd7a8425

commit fe23db33801fa72665e480534d070ddae4a9c451
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed May 9 11:02:34 2012 -0600

    Remove instance Foreign Key in volumes table, replace with instance_uuid
    
    * Remove the instance relationship and instance_id FK
    * Add instance_uuuid column to volumes table
    
    Change-Id: I54d723dcb9819731a58ec64095c54c99aa9e5dc4

commit 1c52fb3041df5661756246705942c60b4b1448d5
Author: Monty Taylor <mordred@inaugust.com>
Date:   Thu May 3 21:45:20 2012 -0700

    Align the tox.ini file.
    
    Change-Id: I0d1731f157d12bfcc1e4933dd71c49e9bda4116a

commit 4c202523890d805c8e42802117d85d6f6e2cddae
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Thu May 3 14:54:27 2012 -0500

    Removed cinder/api/openstack/compute and moved the relevant pieces under
    cinder/api/openstack/volume. Fixes bug 994177.
    
    Change-Id: I1b953a96a1d69a62ad312d381cead4cd231a3998

commit c53d8e343e50d4cf7ea9a6a81258848c2d893bfb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 3 10:48:26 2012 -0700

    Initial fork out of Nova.
